"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="a58129ea-068c-5fca-9463-4cf158178bf0")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[7748],{258933:(e,t,r)=>{r.d(t,{B8:()=>p,IW:()=>_,J:()=>E,Ou:()=>y,R6:()=>g,Uu:()=>s,X5:()=>u,XX:()=>o,YK:()=>i,ay:()=>h,eK:()=>l,fI:()=>n,jD:()=>f,me:()=>m,nM:()=>c,wD:()=>d,yU:()=>a});let a="step_pay--addAnnualPlan--3YUVe",n="step_pay--paymentForm--gqjt-",i="step_pay--totalLabelText--FsxE-",l="step_pay--smallGrayText--C8Sfn",o="step_pay--bigButton--Gtz0E",s="step_pay--flex--ZZh0K",c="step_pay--row--DcuMl",d="step_pay--rowFlex--Mf5y8 step_pay--row--DcuMl",m="step_pay--separator--gTqAJ",u="step_pay--total--FgOpU",_="step_pay--totalText--VTLEG step_pay--jumboText--JE1wb",p="step_pay--plusTaxText--gSICq",f="step_pay--numEditorsInput--mTc8p",g="step_pay--subtotal--188gf",E="step_pay--changeLink--dSfAg blue_link--blueLink--9rlnd",h="step_pay--bigTerms--nC3J9",y="step_pay--flowActionsSingle--X0Hy-"},920506:(e,t,r)=>{r.d(t,{DD:()=>l,ME:()=>m,Nr:()=>n,Sl:()=>s,Ui:()=>a,h_:()=>o,pq:()=>i,qr:()=>d,t3:()=>c,uK:()=>_,vR:()=>u});let a="resource_cards--cardContainer--dagKQ",n="resource_cards--card--j2AeO",i="resource_cards--info--7v-s9",l="resource_cards--title--9uxRY text--fontPos16--oMC-G text--_fontBase--QdLsd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k",o="resource_cards--description--NQQ-r text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k",s="resource_cards--image--V7Y8-",c="resource_cards--pluginImage--NgYbh resource_cards--image--V7Y8-",d="resource_cards--footer--cRSOS text--fontPos13--xW8hS text--_fontBase--QdLsd",m="resource_cards--profile--YLut5",u="resource_cards--profileName--Uvden",_="resource_cards--attributes--9cUYC"},427681:(e,t,r)=>{r.d(t,{GJ:()=>a,Wc:()=>l,X7:()=>i,d6:()=>s,dC:()=>m,gz:()=>d,kJ:()=>n,l0:()=>c,vf:()=>o});let a="plugin_try_button--pluginRowButton--j0-Zs plugin_try_button--buttonContainer--2CCN1 text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",n="plugin_try_button--pluginRowButtonFigJam--b2eAZ plugin_try_button--buttonContainer--2CCN1 text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",i="plugin_try_button--pluginButtonContainer--9aQtq plugin_try_button--buttonContainer--2CCN1 text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",l="plugin_try_button--notApprovedButtonContainer--CPDJQ plugin_try_button--pluginButtonContainer--9aQtq plugin_try_button--buttonContainer--2CCN1 text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",o="plugin_try_button--approvedButtonContainer--iP-YF plugin_try_button--buttonContainer--2CCN1 text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",s="plugin_try_button--simpleApproveButton_textContainer--jWboW",c="plugin_try_button--simpleTryButton_textContainer--1TH9G",d="plugin_try_button--tryButtonInRedesignedPluginRow--UeyyK text--fontPos11--2LvXf text--_fontBase--QdLsd",m="plugin_try_button--textContainerInRedesignedPluginRow--WZ1--"},157199:(e,t,r)=>{r.d(t,{RZ:()=>a,_q:()=>i,zC:()=>n});let a="comment_confirm_modals--reportContentWrapper--Nseo6",n="comment_confirm_modals--reportContentText--QZrcs",i="comment_confirm_modals--blockContentText--6aU5U"},306665:(e,t,r)=>{r.d(t,{_M:()=>s,bv:()=>i,cI:()=>a,nf:()=>n,q3:()=>l,zc:()=>o});let a="community_hub_banner--bannerContainer--I7euo text--fontPos11--2LvXf text--_fontBase--QdLsd",n="community_hub_banner--link--tqByg",i="community_hub_banner--boldText--jhtS9",l="community_hub_banner--bannerIcon--GVQKO",o="community_hub_banner--iconContainer--Szb1y",s="community_hub_banner--bannerText--Mlrz- ellipsis--ellipsis--Tjyfa"},650168:(e,t,r)=>{r.d(t,{Vi:()=>a,hh:()=>n,jx:()=>c,nu:()=>s,tt:()=>i,uD:()=>o,uw:()=>l});let a="cta_button--duplicateButtonContainer--GU-rX cta_button--buttonBase--xMT0c text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",n="cta_button--figjam--ZRMcS",i="cta_button--duplicateButtonContainerNoIcon--t9Vxs cta_button--duplicateButtonContainer--GU-rX cta_button--buttonBase--xMT0c text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",l="cta_button--duplicateButtonContainerNoIconWide--KYJ2x",o="cta_button--textIconContainer--wV-ch",s="cta_button--duplicateButtonContainerNoIconDisabled--IPh2F cta_button--duplicateButtonContainerDisabled--IzZn7 cta_button--duplicateButtonContainer--GU-rX cta_button--buttonBase--xMT0c text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",c="cta_button--ctaButtonLink--5C3KX"},815700:(e,t,r)=>{r.d(t,{BE:()=>n,LL:()=>l,Xk:()=>i,_1:()=>o,iZ:()=>s,uu:()=>a});let a="detail_view--installButton--IloIX",n="detail_view--installButtonSubtext--iqsQz text--fontPos11--2LvXf text--_fontBase--QdLsd",i="detail_view--pendingInviteBanner--Jfy7s text--fontPos13--xW8hS text--_fontBase--QdLsd",l="detail_view--pendingInviteButton--XYgKx",o="detail_view--paidResourceSection--crSbo detail_view--metadataSectionText--jEK-6 metadata_section--metadataSectionText--7ruPx text--fontPos13--xW8hS text--_fontBase--QdLsd",s="detail_view--reportSection--qDu-P detail_view--metadataSectionText--jEK-6 metadata_section--metadataSectionText--7ruPx text--fontPos13--xW8hS text--_fontBase--QdLsd"},243763:(e,t,r)=>{r.d(t,{w:()=>n});var a=r(503457);let n=r(711184).A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(4195),r.e(441),r.e(7476),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(6094),r.e(8964)]).then(r.bind(r,469720)).then(e=>e.EduReviewPage),{loading:()=>null,error:a.H4.NONE,componentName:"EduReviewPage"})},966420:(e,t,r)=>{r.d(t,{G:()=>i});var a=r(503457),n=r(493323);let i=r(711184).A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(4195),r.e(441),r.e(7476),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(6094),r.e(8964)]).then(r.bind(r,320108)).then(e=>e.OrgSelfServeBillingRemodelPage),{loading:n.Z_,error:a.H4.NONE,componentName:"OrgSelfServeBillingRemodelPage"})},371740:(e,t,r)=>{r.d(t,{N:()=>i});var a=r(503457),n=r(493323);let i=r(711184).A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(4195),r.e(441),r.e(7476),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(6094),r.e(8964)]).then(r.bind(r,752014)).then(e=>e.OrgSelfServeFigJamPage),{loading:n.Z_,error:a.H4.NONE,componentName:"OrgSelfServeFigJamPage"})},274990:(e,t,r)=>{r.d(t,{z:()=>n});var a=r(503457);let n=r(711184).A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(4195),r.e(441),r.e(7476),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(6094),r.e(8964)]).then(r.bind(r,552404)).then(e=>e.PromoReviewPage),{loading:()=>null,error:a.H4.NONE,componentName:"PromoReviewPage"})},884243:(e,t,r)=>{r.d(t,{q:()=>n});var a=r(503457);let n=r(711184).A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(4195),r.e(441),r.e(7476),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(6094),r.e(8964)]).then(r.bind(r,320108)).then(e=>e.TeamUpgradePageBillingRemodel),{loading:()=>null,error:a.H4.NONE,componentName:"TeamUpgradePageBillingRemodel"})},238879:(e,t,r)=>{r.d(t,{h:()=>n});var a=r(503457);let n=r(711184).A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(4195),r.e(441),r.e(7476),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(6094),r.e(8964)]).then(r.bind(r,663790)).then(e=>e.TeamUpgradePageV2),{loading:()=>null,error:a.H4.NONE,componentName:"TeamUpgradePageV2"})},190093:(e,t,r)=>{r.r(t),r.d(t,{ConfirmDowngradeEditorsModal:()=>s});var a=r(411855),n=r(96328),i=r(939863),l=r(672517),o=r(585878);function s(e){let{team:t,editors:r}=e,{id:s}=t,c=r.length,d=r.filter(e=>e.id).map(e=>e.id).join(),m=(0,i.t)("team_view.downgrade_editor_modal.downgrade_user_team_permissions",{username:(0,n.EJ)(e.editors[0].name||e.editors[0].email,20)}),u=(0,i.t)("team_view.downgrade_editor_modal.downgrade_multiple_users_team_permissions",{numSelectedUsers:c});return a.createElement(l.fu,{name:"Team Admin Downgrade Editors Modal",properties:{editorCount:c,editorIds:d,teamId:s}},a.createElement(o.Eo,{title:c>1?u:m,confirmText:(0,i.t)("team_view.downgrade_editor_modal.downgrade"),onConfirm:e.onConfirm},a.createElement("p",null,c>1&&(0,i.t)("team_view.downgrade_editor_modal.are_you_sure_you_want_to_downgrade",{numSelectedUsers:c}),(0,i.tx)("team_view.downgrade_editor_modal.downgrading_their_team_permission_will_change_all_permissions_to_can_view"))))}},683729:(e,t,r)=>{r.r(t),r.d(t,{ConfirmTeamUserPaidStatusUpdateModal:()=>d});var a=r(411855),n=r(946689),i=r(939863),l=r(14339),o=r(672517),s=r(36816),c=r(585878);function d(e){let{team:t,members:r,paidStatus:d,costMessaging:m}=e,{id:u}=t;if(![s.Zf.FULL,s.Zf.RESTRICTED].includes(d))return a.createElement(a.Fragment,null);let _=r.length,p=r.filter(e=>e.id).map(e=>e.id).join(),f=d===s.Zf.RESTRICTED,g=e.paidStatusType===s.j4.WHITEBOARD,E=g?r.every(e=>!e.whiteboard_editor_upgrade):r.every(e=>!e.design_editor_upgrade),h=d===s.Zf.RESTRICTED&&E,y=r[0].name||r[0].email;return a.createElement(o.fu,{name:"Team Admin Restrict TeamUser Modal",properties:{memberCount:_,memberIds:p,teamId:u}},a.createElement(c.Eo,{title:f?h?g?(0,i.tx)("team_view.downgrade_figjam_access_from_viewer_to_viewer_restricted"):(0,i.tx)("team_view.downgrade_design_access_from_viewer_to_viewer_restricted"):g?(0,i.tx)("team_view.remove_figjam_edit_status.seat_rename"):(0,i.tx)("team_view.remove_design_edit_status.seat_rename"):m?(0,l.LB)(m,_,g):g?(0,i.tx)("team_view.grant_figjam_edit_status.seat_rename"):(0,i.tx)("team_view.grant_design_edit_status.seat_rename"),confirmText:f?h?(0,i.t)("team_view.change"):(0,i.t)("team_view.remove.seat_rename"):(0,i.t)("team_view.grant.seat_rename"),onConfirm:e.onConfirm},d===s.Zf.RESTRICTED&&(h?g?(0,i.tx)("team_view.downgrade_figjam_from_viewer_to_viewer_restricted_description.seat_rename",{memberNameOrEmail:y,numMembers:_}):(0,i.tx)("team_view.downgrade_design_from_viewer_to_viewer_restricted_description.seat_rename",{memberNameOrEmail:y,numMembers:_}):g?(0,i.tx)("team_view.downgrade_figjam_description.seat_rename",{memberNameOrEmail:y,numMembers:_}):(0,i.tx)("team_view.downgrade_design_description.seat_rename",{memberNameOrEmail:y,numMembers:_})),d===s.Zf.FULL&&a.createElement(a.Fragment,null,(()=>{if(!f)return m?(0,l.yc)(m,_,y,g):g?(0,i.tx)("team_view.change_to_editor_figjam_description.seat_rename",{numMembers:_,memberNameOrEmail:y}):(0,i.tx)("team_view.change_to_editor_design_description.seat_rename",{numMembers:_,memberNameOrEmail:y})})(),a.createElement("p",{className:"confirm_team_user_paid_status_update_modal--spacing--D5LgW"},a.createElement(n.N_,{target:"_blank",className:"confirm_team_user_paid_status_update_modal--link--cb35L",href:"https://help.figma.com/hc/articles/360039960434#Account_Types",trusted:!0},(0,i.tx)("team_view.learn_more.seat_rename"))))))}},223133:(e,t,r)=>{r.r(t),r.d(t,{MemberEditAccessModal:()=>C});var a=r(411855),n=r(188507),i=r(561546),l=r(391388),o=r(886653),s=r(355819),c=r(939863),d=r(662275),m=r(672517),u=r(99506),_=r(147206),p=r(668860),f=r(36816),g=r(585878);let E="edit_access_modal--column--MYvAz",h="edit_access_modal--resource--qhm-x",y="edit_access_modal--resourceTitle--79DdK edit_access_modal--resource--qhm-x",v="edit_access_modal--greyResource--pdVfB edit_access_modal--resource--qhm-x",b=(e,t)=>{if("file"===e.resource_type){let r=t[e.resource_id_or_key];if(r)return{name:r.name,id_or_key:r.key}}else{let r=t[e.resource_id_or_key];if(r)return{name:r.name,id_or_key:r.id}}},w=(0,o.xx)((e,t)=>{let r={privateResourceCount:0,editableResources:[]};return e&&0!==e.length&&(e.forEach(e=>{let a=b(e,t);a?r.editableResources.push(a):r.privateResourceCount++}),(0,i.v7)(r.editableResources,e=>e.name)),r}),T=e=>{let t=e.team_user,r=e.edit_roles,a=r?.whiteboard_files||[],n=r?.design_files||[],i=(0,_.qR)(t,u._Y.DESIGN);return{whiteboardRoles:(0,_.qR)(t,u._Y.WHITEBOARD)?[]:a,designRoles:i?[]:n}},I=(e,t)=>{let{whiteboardRoles:r,designRoles:a}=T(e);return w(r.concat(a),t)};function C(e){let t=(0,n.wA)(),r=function(e,t){let r=(0,n.d4)(r=>r.teamMembersByTeamId[e][t]);return l.Qw.loaded(r)}(e.teamId,e.memberEmail),i=(0,n.d4)(e=>e.folders),o=a.useMemo(()=>r.transform(e=>w(e?.edit_roles?.folders,i)),[i,r]),u=(0,n.d4)(e=>e.folders),_=a.useMemo(()=>r.transform(e=>e?I(e,u):{privateResourceCount:0,editableResources:[]}),[u,r]),h=(0,n.d4)(t=>t.teams[e.teamId]),v=l.Qw.all([r,o,_]);if("loaded"!==v.status)return null;let[b,T,C]=v.data;if(!b)return console.error("Member not found"),null;let x=!!b.team_role&&b.team_role?.level>=p.e6.EDITOR,k=T.editableResources.length+T.privateResourceCount,S=C.editableResources.length+C.privateResourceCount;return a.createElement(m.fu,{name:"Member Edit Access Modal",properties:{teamId:h.id,userId:b.id,folderCount:k,fileCount:S}},a.createElement(g.XV,{title:(0,c.t)("team_view.member_edit_access_modal.title",{memberName:b.name??""}),maxWidth:432,minWidth:432,containerClassName:"edit_access_modal--modalStyle--20dSp",onClose:()=>{t(d.Ce())}},a.createElement("div",{className:"edit_access_modal--headerContainer--ZoKpu edit_access_modal--resourceContainer--vZA5E"},a.createElement("div",{className:E},a.createElement("div",{className:y},(0,c.tx)("team_view.member_edit_access_modal.projects_title"))),a.createElement("div",{className:E},a.createElement("div",{className:y},(0,c.tx)("team_view.member_edit_access_modal.files_title")))),a.createElement(s.P,{className:"edit_access_modal--scrollContainer--WzCWr",hideScrollbar:!0},a.createElement("div",{className:"edit_access_modal--resourceContainer--vZA5E"},a.createElement("div",{className:E},a.createElement(N,{hasTeamEditPermissions:x,isWhiteboardEditor:b.team_user?.whiteboard_paid_status===f.Zf.FULL,isDesignEditor:b.team_user?.design_paid_status===f.Zf.FULL,resources:T,resourceType:"project"})),a.createElement("div",{className:E},a.createElement(N,{hasTeamEditPermissions:x,isWhiteboardEditor:b.team_user?.whiteboard_paid_status===f.Zf.FULL,isDesignEditor:b.team_user?.design_paid_status===f.Zf.FULL,resources:C,resourceType:"file"}))))))}let x=e=>"file"===e?(0,c.tx)("team_view.member_edit_access_modal.none_files"):(0,c.tx)("team_view.member_edit_access_modal.none_projects");function N(e){let t;let{hasTeamEditPermissions:r,isDesignEditor:n,isWhiteboardEditor:i,resourceType:l}=e;if(r)return"project"===l?a.createElement("div",{className:v},(0,c.tx)("team_view.member_edit_access_modal.all_projects")):n&&i?a.createElement("div",{className:v},(0,c.tx)("team_view.member_edit_access_modal.all_files")):n&&!i?a.createElement("div",{className:v},(0,c.tx)("team_view.member_edit_access_modal.all_design_files")):!n&&i?a.createElement("div",{className:v},(0,c.tx)("team_view.member_edit_access_modal.all_figjam_files")):a.createElement("div",{className:v},x(l));let o=e.resources;if(0===o.privateResourceCount&&0===o.editableResources.length)return a.createElement("div",{className:v},x(l));if(o.privateResourceCount>0){let e=a.createElement("span",null);0===o.editableResources.length&&"project"===l?e=(0,c.tx)("team_view.member_edit_access_modal.invite_only_projects",{numProjects:o.privateResourceCount}):0===o.editableResources.length&&"file"===l?e=(0,c.tx)("team_view.member_edit_access_modal.invite_only_files",{numFiles:o.privateResourceCount}):o.editableResources.length>0&&"project"===l?e=(0,c.tx)("team_view.member_edit_access_modal.invite_only_projects_list_end",{numProjects:o.privateResourceCount}):o.editableResources.length>0&&"file"===l&&(e=(0,c.tx)("team_view.member_edit_access_modal.invite_only_files_list_end",{numFiles:o.privateResourceCount})),t=a.createElement("div",{className:h},e)}return a.createElement(a.Fragment,null,o.editableResources.map(e=>a.createElement("div",{key:e.id_or_key,className:h},e.name)),t)}},243058:(e,t,r)=>{r.d(t,{JC:()=>m,Oe:()=>c,VY:()=>l,ay:()=>u,dZ:()=>d,vW:()=>o,wu:()=>i,y$:()=>s});var a=r(503457),n=r(193647);let i=n.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(4195),r.e(441),r.e(7476),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(9253),r.e(3559),r.e(7320),r.e(9012)]).then(r.bind(r,97273)).then(e=>e.BillingGroupDashboardSettingsPageView),{loading:()=>null,error:a.H4.NONE,componentName:"BillingGroupDashboardSettingsPageView"}),l=n.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(4195),r.e(441),r.e(7476),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(9253),r.e(3559),r.e(7320),r.e(9012)]).then(r.bind(r,92114)).then(e=>e.LicenseGroupAdminSettingsPageView),{loading:()=>null,error:a.H4.NONE,componentName:"LicenseGroupAdminSettingsPageView"}),o=n.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(4195),r.e(441),r.e(7476),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(9253),r.e(3559),r.e(7320),r.e(9012)]).then(r.bind(r,876860)).then(e=>e.OrgAdminSettingsPageView),{loading:()=>null,error:a.H4.NONE,componentName:"OrgAdminSettingsPageView"}),s=n.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(4195),r.e(441),r.e(7476),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(9253),r.e(3559),r.e(7320),r.e(9012)]).then(r.bind(r,604772)).then(e=>e.WorkspaceAdminSettingsPageView),{loading:()=>null,error:a.H4.NONE,componentName:"WorkspaceAdminSettingsPageView"}),c=n.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(4195),r.e(441),r.e(7476),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(9253),r.e(3559),r.e(7320),r.e(9012)]).then(r.bind(r,311070)).then(e=>e.OrgDomainManagementPageView),{loading:()=>null,error:a.H4.NONE,componentName:"OrgDomainManagementPageView"}),d=n.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(4195),r.e(441),r.e(7476),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(9253),r.e(3559),r.e(7320),r.e(9012)]).then(r.bind(r,17979)).then(e=>e.AbandonedDraftFilesPageView),{loading:()=>null,error:a.H4.NONE,componentName:"AbandonedDraftFilesPageView"}),m=n.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(4195),r.e(441),r.e(7476),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(9253),r.e(3559),r.e(7320),r.e(9012)]).then(r.bind(r,141392)).then(e=>e.TeamAdminConsoleView),{loading:()=>null,error:a.H4.NONE,componentName:"TeamAdminConsoleView"}),u=n.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(4195),r.e(441),r.e(7476),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(9253),r.e(3559),r.e(7320),r.e(9012)]).then(r.bind(r,762579)).then(e=>e.AdminSidebar),{loading:()=>null,error:a.H4.NONE,componentName:"AdminSidebar"})},660898:(e,t,r)=>{r.r(t),r.d(t,{FileMoveDropdown:()=>ti,FileMoveHiddenDiv:()=>tl,FileMoveModal:()=>e7,FileMoveModalComponent:()=>e9,FileMoveSearch:()=>te,TeamSection:()=>tt,TeamsDisplay:()=>ta,getCurrentFolderId:()=>e3,getTargetAttribute:()=>e8,isSubscribedLG:()=>e5});var a=r(411855),n=r(188507),i=r(140593),l=r(889012),o=r.n(l),s=r(776250),c=r(91408),d=r(966712),m=r(498750),u=r(915440),_=r(711525),p=r(752553),f=r(742808),g=r(268537),E=r(946689),h=r(459826),y=r(452441),v=r(493323),b=r(355819),w=r(163023),T=r(154254),I=r(939863),C=r(411045),x=r(688083),N=r(451e3),k=r(945020),S=r(131750);function L(e){let t=(0,n.wA)(),r=a.useCallback(r=>{r.stopPropagation(),e.team.canEdit&&((0,s.sx)("New Folder",{trackingContext:e.trackingContextName}),t((0,x.SX)({where:N.Ah.FolderListView,team:{...(0,k.Ws)(e.team),canEdit:e.team.canEdit,canEditTeamContents:e.team.canEdit,canAdmin:e.team.canAdmin}})))},[t,e.team,e.trackingContextName]);return e.team.canEdit?a.createElement(S.f,{data_tooltip:(0,I.t)("sidebar.new_project"),data_onboarding_key:"new-project-icon",innerText:"Creates new project",onClick:r,isBackgroundTransparent:e.isBackgroundTransparent}):null}var A=r(738269),R=r(694764),P=r(198123),F=r(662275),O=r(672517),D=r(864319),M=r(99506),B=r(623746),U=r(66037),V=r(668860),W=r(875847),H=r(253938),$=r(279453),j=r(707465),G=r(984968),Y=r(454351),z=r(489291),q=r(567088),Q=r(498606),K=r(143678),X=r(547807);let Z=new class{constructor(){this.TeamRestrictionsListsSchemaValidator=(0,X.vh)()}getTeamRestrictionsLists(e){return this.TeamRestrictionsListsSchemaValidator.validate(async({xr:t})=>await t.get("/api/team_restrictions_lists",{team_ids:e.teamIds}))}};var J=r(922358),ee=r(585878),et=r(553716),er=r(27087),ea=r(317113);function en(e){return a.createElement("div",{className:"page_move--fileCreateNameContainer--JBcti"},a.createElement("div",{className:"page_move--fileCreateNameSvgContainer--nm5eH"},a.createElement(ea.MW,{type:ea.y1.DESIGN})),a.createElement(E.ks,{value:e.newFileName,onChange:e.onChange,maxLength:255,autoFocus:!0,placeholder:(0,I.t)("page_move.add_new_file_name"),className:"page_move--fileCreateNameInput--0yBR8"}))}var ei=r(730935),el=r(249963),eo=r(511243),es=r(838516),ec=r(138020),ed=r(130097),em=r(980820),eu=r(243987),e_=r(147206),ep=r(463592),ef=r(472503),eg=r(173454);let eE="32px",eh=(0,c.hG)(eE),ey=e=>e?.id||R.iK,ev=new ep.KH({keys:["folder.path","team.name"],threshold:.3,tokenize:!0}),eb=(e,t,r,a,n,i)=>{if(e.orgId!==n&&t?.orgId!==n)return!1;if(!(0,d.kc)().ps_benchmark){if((0,W.VA)(e))return e.id===i;if((0,W.B_)(e))return!1}return!(!e.canEdit||t&&(0,eu.S$)(e,t,r)&&!(0,W.VA)(e))&&(!a||!!(0,eu.XX)(t))},ew=(e,t,r)=>!(!(0,d.kc)().ps_benchmark&&(0,eu.dX)(e,t))&&(!r||!!(0,eu.XX)(e)),eT=(e,t=!1)=>{let r=[],a=(0,W.gj)(e.user&&e.user.id,e.folders,e.roles.byFolderId,e.user&&e.orgId?e.orgUsers[e.orgId][e.user.id]:null);Object.keys(e.folders).forEach(n=>{let i=e.folders[n],l=i.teamId?e.teams[i.teamId]:null;eb(i,l,e.user,t,e.orgId,a?.id)&&((0,W.VA)(i)&&(i={...i,path:(0,eg.Tb)()}),r.push(i))}),ev.set(r.map(t=>{let r=t.teamId&&e.teams[t.teamId]&&{name:e.teams[t.teamId].name},a={path:t.path,teamId:t.teamId,id:t.id,subscription:!!t.subscription};return r?{folder:a,team:r}:{folder:a}}))},eI=({folders:e,roles:t,user:r,orgUsers:a,teams:n,orgId:i,implicitTeamRolesTeamIds:l},o,s,c)=>{let m=Object.create(null),u=0,_=0,p=(0,W.gj)(r&&r.id,e,t.byFolderId,r&&i?a[i][r.id]:null);for(let e in m[R.HK]=[],m[R.iK]=[],t.byTeamId)ew(n[e],r,o)&&(_++,m[e]=[]);l&&l.forEach(e=>{ew(n[e],r,o)&&(_++,m[e]=[])}),Object.keys(e).forEach(t=>{let a={...e[t]},l=eb(a,a.teamId?n[a.teamId]:null,r,o,i,p?.id);if((0,d.kc)().file_move_show_all_resources){if(l&&(!s||a.subscription||(0,W.VA)(a))){let e=a.teamId?n[a.teamId]:null;m[p&&a.id===p.id?R.HK:ey(e)].push(a),u++}}else if(l&&(a.subscription||(0,W.VA)(a))){let e=a.teamId?n[a.teamId]:null;m[p&&a.id===p.id?R.HK:ey(e)].push(a),u++}});let f=u+_;return c(R.CU({indexCount:f})),c(R.xH()),m},eC=(e,t,r,a,n)=>{let i=Object.create(null),l=Object.create(null),o=[],s=0,c=0;if(n){let t=e.indexOf(n);t>-1&&(e.splice(t,1),e.splice(1,0,n))}return e.forEach(e=>{if(l[e]=s,c+=8,e!==R.iK&&e!==R.HK){let t={type:Y.b.NEW_FOLDER_TEAM,id:e,positionTop:c};o.push(t),c+=eh,s+=1}let r=t[e];s+=r.length,r.sort((e,t)=>""===e.path?-1:""===t.path?1:e.path.toLowerCase()<t.path.toLowerCase()?-1:1);let d=Array.from(r);a&&n&&e===n&&d.forEach((e,t)=>{e.id===a&&(r.splice(t,1),r.unshift(e))}),r.forEach(e=>{let t={type:Y.b.FOLDER_ROW,id:e.id,positionTop:c};c+=eh,o.push(t)}),i[e]=r,c+=9}),[i,l,o]},ex=(e,t,r)=>{let a=Object.create(null),n=Object.create(null),i=0,l=0,o=t.orgId&&t.user?t.orgUsers[t.orgId][t.user.id]:null,s=(0,W.gj)(t.user?t.user.id:null,t.folders,t.roles.byFolderId,o);for(let r of e){let e=r.item.folder,o=s&&e.id===s.id?0:r.score,c=e.teamId?t.teams[e.teamId]:null,d=s&&e.id===s.id?R.HK:ey(c);!(d in a)&&(a[d]=[],d!==R.iK&&d!==R.HK&&l++),a[d].push(e),null==n[d]?n[d]=o:n[d]=Math.min(n[d],o),i++}let c=i+l;return r(R.CU({indexCount:c})),[n,a]},eN=e=>(t,r)=>{if(t===R.iK)return 1;let a=e[t],n=e[r];return a?n&&a.name.toLowerCase()<n.name.toLowerCase()?-1:1:-1},ek=e=>(t,r)=>e[t]-e[r],eS=async(e,t,r,a,n=!1,l=!1,o,s,c,m)=>{var u,_;let p;let f=e.getState(),g=null,E=null;t.type===Y.A.FILE?(g=t.file.parent_org_id||null,E=t.file.team_id):t.type===Y.A.REPO?(g=t.repo.parent_org_id||null,E=t.repo.team_id):t.type===Y.A.FILE_IMPORT&&(g=t.orgId);let h=[];if(r){let e=ex(await ev.search(r),a,o);_=e[0],(h=Object.keys(u=e[1])).length&&h.sort(ek(_))}else u=eI(a,n,!!m,e.dispatch),a.user?(h.push(R.HK),h=h.concat((0,G.n$)(Object.values(a.teams),a.fileBrowserPreferences?.orderedTeamIds||[])),u[R.iK].length>0&&h.push(R.iK)):(h=Object.keys(u)).sort(eN(a.teams));switch(t.type){case Y.A.FILE:p=t.file.editor_type;break;case Y.A.REPO:p=M._Y.DESIGN;break;case Y.A.FILE_IMPORT:p=t.files.every(e=>".jam"===(0,ef.dv)(e.name).toLowerCase())?M._Y.WHITEBOARD:M._Y.DESIGN;break;default:(0,i.xb)(t)}let y=new Set,v=Object.values(u).flatMap(e=>e.map(e=>({id:e.id}))),b=p===M._Y.WHITEBOARD?$.JkW:$.RmP;(await (0,ed.S8)(b,v)).forEach(e=>{let t=e.result;"loaded"===t.status&&ec.oA(t.data?.project)?.hasPermission&&y.add(e.args.id)});let w=h.filter(e=>{if(e===R.iK)return null===u||u[e].length>0;let t=a.teams;if(e!==R.HK){let r=t[e]?.orgId||null;if(g||r){if(r!==g)return!1}else if(E&&e===R.iK)return!1}return!(t[e]?.deletedAt||!(0,d.kc)().ps_benchmark&&(0,e_.XG)(t[e]?.currentTeamUser,p))&&!!u[e]?.some(e=>y.has(e.id))}),[T,I,C]=eC(w,u,l,s,c);e.dispatch(R.OT({rows:C})),e.dispatch(R.t3({indexOffsets:I})),e.dispatch(R.Pb({foldersByTeamId:T})),e.dispatch(R.Mi({teamIds:w})),r||e.dispatch(R.w3({userTeamCount:w.length})),f.fileMove.isSearchResult!==l&&e.dispatch(R.EN({isSearchResult:l}));let x=R.HK in I&&C[0].type===Y.b.FOLDER_ROW;r&&x?e.dispatch(R.Dp({indexAt:0})):r&&!x&&e.dispatch(R.Dp({indexAt:1}))},eL=(e,t,r,a=!1,n,i,l)=>{eS(e,t,"",r,a,!1,e.dispatch,i,l,n)},eA=(0,es.s)((e,t,r,a,n=!1)=>{eS(e,t,r,a,n,!!r,e.dispatch)},200),eR=(0,em.nF)((e,t)=>{eT(t.userResources,t.modalData.isPublishing),eL(e,t.modalData,t.userResources,t.modalData.isPublishing,!1,t.currentFolderId,t.currentFolderTeamId)}),eP=(0,em.nF)((e,t)=>{eA(e,t.modalData,t.query,t.userResources),e.dispatch(R.hq(t))});var eF=r(517333),eO=r(218881),eD=r(881388),eM=r(507877),eB=r(349410),eU=r(964258),eV=r(928491),eW=r(858212);let eH="file_move--main--RCzls",e$="file_move--iconContainer--SWek6",ej="file_move--folderRowWrapper--Qw-C4",eG="file_move--folderRow--DapA5",eY="file_move--horizontalDivider--wRv3N";var ez=r(444173);function eq(e){let t=(0,eW.S)(),r=(0,n.d4)(e=>e.user),[i,l]=(0,a.useState)(""),o=e.dispatch,[c,d]=(0,a.useState)(!0),m=(0,eO.I7)("starter_team_loophole_experiment_m0"),u=(0,eO.I7)("starter_team_loophole_experiment_m1");return a.createElement("form",{onSubmit:t=>{t.preventDefault(),(0,s.sx)("Create Team Inline",{trackingContext:e.trackingContextName}),i?(o((0,eU.KQ)({teamName:i,orgAccess:M.bU.PUBLIC,dontRedirect:!0})),d(!0),l("")):o(eD.s.error((0,I.t)("flash.team_name_cannot_be_empty")))}},a.createElement("div",{className:"file_move--teamCreateRow--o7dzW file_move--folderRow--DapA5"},c?a.createElement("button",{type:"button",className:"file_move--rowButton--6ASbR",onClick:()=>{null!=r&&!e.orgId&&(0,eB.e5)({userId:r.id,teams:Object.values(e.teams),rolesByTeamId:e.rolesByTeamId,getM0Config:m.getConfig,getM1Config:u.getConfig})?(o(F.Ce()),o(eM.Dw({openInNewTab:!eF.eD}))):(d(!1),o(R.xH()))}},a.createElement(w.B,{className:"file_move--newProjectIconFileMove--Pp8qn sidebar--icon--wMzUY",svg:ez.A}),a.createElement("span",{className:t?"file_move--newFolderNameCustomSections--4BQqs sidebar--sectionNameCustomSections--9e7LZ sidebar--sectionTextCustomSections---1KFn sidebar--sectionContentCustomSections--wI9mZ ellipsis--ellipsis--Tjyfa":"file_move--newFolderName--HNEBp sidebar--sectionName--4N7hT sidebar--sectionText--KAGhn sidebar--sectionContent--NHX7b ellipsis--ellipsis--Tjyfa"},(0,I.tx)("file_browser.inline_team_creation.button_text"))):a.createElement(a.Fragment,null,a.createElement("div",{className:e$},a.createElement(eV.pw,{size:16,shape:"SQUARE",color:"#E5E5E5"})),a.createElement("div",{className:"file_move--newTeamTitleText--VUp4S file_move--teamTitleText--NhNEM ellipsis--ellipsis--Tjyfa"},a.createElement(E.ks,{value:i||"",onChange:e=>{l(e.target.value)},onBlur:()=>{d(!0)},className:"file_move--newTeamInput--rHUdq",maxLength:e.teamNameMaxWidth,placeholder:(0,I.t)("file_browser.inline_team_creation.placeholder"),autoFocus:!0})))))}var eQ=r(450147),eK=r(702595),eX=r(853705),eZ=r(130715),eJ=r(720955),e0=r(797804),e1=r(258485);let e2=(0,c.hG)(eE),e4="FileMoveModalContent";function e8(e){return"folder"===e.view||(0,j.K)(e)?"_self":"_blank"}function e5(e){return!!e.subscription||(0,W.VA)(e)}function e3(e){switch(e.type){case Y.A.FILE:let t=e.file;return t?.folder_id||null;case Y.A.REPO:let r=e.repo;return r?.folder_id||null;case Y.A.FILE_IMPORT:return null;default:(0,i.xb)(e)}}function e9(e){let t=null;e.type===Y.A.FILE?t=e.file.parent_org_id||null:e.type===Y.A.REPO?t=e.repo.parent_org_id||null:e.type===Y.A.FILE_IMPORT&&(t=e.orgId);let r=(0,n.d4)(e=>e.orgById),i=t?r[t]:null,l=(0,n.d4)(e=>e.fileMove),o=(0,n.d4)(e=>!!e.creatingNewFolder),c=(0,n.d4)(e=>e.dropdownShown),m=(0,n.d4)(e=>e.selectedView),p=e3(e),g=(0,C.RR)(),E=(0,u.Rs)($.Y9I,{projectId:p},{enabled:!!p}),h=(0,u.Rs)($.G0Y,{orgId:t});"errors"===h.status&&(console.error("Loading AccessibleFolders from LiveGraph: "),console.error(h.errors));let y="loaded"===h.status&&("loaded"===E.status||e.type===Y.A.FILE_IMPORT)?{fetched:h,transformed:function(e,t,r,a){let n={id:e.currentUser.id,student_validated_at:e.currentUser.studentValidatedAt&&e.currentUser.studentValidatedAt.toString()},i={},l={},o={},s={byFolderId:{},byTeamId:{}},c=(0,B.Um)(e.currentUser),m=[],u=e=>{l[e.id]={...e,canEdit:!0,canRename:!!e.path}};e.currentUser.allOrgUsers&&e.currentUser.allOrgUsers.forEach(e=>{o[e.orgId]={[e.userId]:{...e,type:U.Wd.ORG_USER,account_type:e.accountType,design_paid_status:e.accountType,id:e.id,org_id:e.orgId,user_id:e.userId,user:{id:e.user.id,email:e.user.email||void 0,img_url:e.user.imgUrl,name:e.user.name||void 0,handle:e.user.handle},permission:e.permission,drafts_folder_id:e.draftsFolderId,created_at:e.createdAt.toString(),updated_at:e.updatedAt?.toString()||"",disabled_at:e.disabledAt&&e.disabledAt.toString(),whiteboard_paid_status:e.whiteboardPaidStatus||M.El.STARTER,show_figjam_user_onboarding:null,has_shown_figjam_admin_launch_onboarding:null,has_shown_figjam_admin_onboarding:null,ecc_upgrading_locked:null,dev_mode_paid_status:e.devModePaidStatus||M.El.RESTRICTED,...a?{active_seat_type:(0,D.TA)(e.activeSeatTypeUpgrade?.billableProduct)}:void 0}},e.draftsProject&&(u(e.draftsProject),e.draftsProject.ownerRole&&(s.byFolderId[e.draftsProject.id]={[n.id]:(0,B.aU)(e.draftsProject.ownerRole,c,null,null)}))}),e.currentUser.teamEditRoles&&e.currentUser.teamEditRoles.forEach(e=>{if(!e.team)return;let{id:t,projects:r}=e.team;i[t]={...e.team,canEdit:e.level>=V.e6.EDITOR,canAdmin:e.level>=V.e6.ADMIN,currentTeamUser:e.team.currentTeamUser,licenseGroup:null},s.byTeamId[t]={[n.id]:(0,B.aU)(e,c,null,null)},r&&r.forEach(e=>u(e))});let p=e&&e.org?e.org:null;if(p){if(t){let e=(0,_.oA)(t.project);e&&e.canEdit&&u(e)}p.teams&&p.teams.forEach(e=>{let{id:t,orgEditProjects:r}=e;if(!i[t]){let r=e.canEdit,a=e.canAdmin,n=e.licenseGroup;i[t]={...e,canEdit:r??!1,canAdmin:a??!1,licenseGroup:n||null},m.push(t)}let a=(0,_.oA)(r);a&&a.forEach(e=>{u(e)})})}return(0,d.kc)().ps_benchmark&&e.currentUser.teamRoles?.forEach(e=>{if(!e.team)return;let{id:t}=e.team;i[t]||(i[t]={...e.team,canEdit:!1,canAdmin:!1,currentTeamUser:e.team.currentTeamUser,licenseGroup:null},s.byTeamId[t]={[n.id]:B.aU(e,c,null,null)})}),e.currentUser.projectEditRoles&&e.currentUser.projectEditRoles.forEach(e=>{e.project&&(u(e.project),s.byFolderId[e.project.id]={[n.id]:(0,B.aU)(e,c,null,null)})}),e.currentUser.draftsProject&&(u(e.currentUser.draftsProject),e.currentUser.draftsProject.ownerRole&&(s.byFolderId[e.currentUser.draftsProject.id]={[n.id]:(0,B.aU)(e.currentUser.draftsProject.ownerRole,c,null,null)})),{org:p,user:n,teams:i,folders:l,roles:s,orgUsers:o,orgId:r,fileBrowserPreferences:e.currentUser.fileBrowserPreferences,implicitTeamRolesTeamIds:m}}(h.data,e.type!==Y.A.FILE_IMPORT?E.data:null,t,g)}:null,v=null===y?{loaded:!1}:{loaded:!0,userResources:y.transformed},b=null==p||null===y?null:y.transformed.folders[p],w=b?b.teamId:null,T=(0,n.wA)();a.useEffect(()=>{v.loaded&&T(eR({modalData:e,userResources:v.userResources,currentFolderId:p,currentFolderTeamId:w}))},[y&&y.fetched]);let I=[];if(v.loaded&&!t)for(let e in v.userResources.teams){let t=v.userResources.teams[e];"ok"!==t.subscription&&I.push(t.id)}let x=function(e){let[t,r]=a.useState((0,_.Xm)()),n=e.join(",");return a.useEffect(()=>{if(0===n.length){r((0,_.gB)({}));return}r((0,_.Xm)());let e=!1;return(async()=>{let t=await Z.getTeamRestrictionsLists({teamIds:n});e||r((0,_.gB)(t.data.meta))})(),()=>{e=!0}},[n]),t}(I);if("loaded"===x.status&&v.loaded)for(let e in v.userResources.teams){let t=v.userResources.teams[e];x.data[e]&&(t.restrictionsList=x.data[e])}return(0,f.I)("loaded"===h.status,e=>{(0,s.sx)("file_move_modal_latency",{latency_ms:e},{forwardToDatadog:!0})}),a.createElement(e7,{modalId:e._modalId,fileMove:l,fileMoveData:e,creatingNewFolder:o,dropdownShown:c,selectedView:m,dispatch:T,userResources:v,currentOrg:i})}function e6(e){let t=null!=e.orgId,r=e.subscription===M.Qh.INCOMPLETE||e.subscription===M.Qh.OK;return{id:e.id,subscription:e.subscription,starter_team:!t&&!r,pro_team:r,org_team:t,student_team:!!e.studentTeamAt,deleted_at:e.deletedAt?.toString()||null}}class e7 extends a.PureComponent{constructor(){super(...arguments),this.state={newFileName:""},this.FILE_MOVE_DROPDOWN="file-move-dropdown",this.setScrollContainer=e=>{this.scrollContainer=e},this.scrollContainerRef=a.createRef(),this.isMovePageToNewFile=(0,d.kc)().move_page_to_new_file&&this.props.fileMoveData.isMovePageToNewFile,this.onScroll=()=>{clearTimeout(this.previousTimeOutKey),this.props.fileMove.upDownKeyPressed&&this.props.dispatch(R.Ww({canFocus:!1})),this.previousTimeOutKey=setTimeout(()=>{this.props.fileMove.canMouseFocus||this.props.dispatch(R.Ww({canFocus:!0}))},200)},this.onkeydown=e=>{if(!this.props.userResources.loaded||this.props.creatingNewFolder||this.props.fileMove.folderRenaming||this.props.fileMove.isSearchFocused)return;let t=document.getElementById(e4);if((0,J.NB)(t))return;let{userResources:r}=this.props.userResources;switch(e.keyCode){case m.Uz.ESCAPE:this.onClose();break;case m.Uz.UP_ARROW:this.props.dispatch(R.zv());break;case m.Uz.DOWN_ARROW:this.props.fileMove.indexCount&&this.props.dispatch(R.TL({upperBound:this.props.fileMove.indexCount}));break;case m.Uz.ENTER:{if(-1===this.props.fileMove.focusedIndex)return;let e=this.props.fileMove.folderRows[this.props.fileMove.focusedIndex];if(e.type===Y.b.NEW_FOLDER_TEAM){let t=e.id,a=r.teams[t];this.props.dispatch((0,x.SX)({where:this.props.modalId.type,team:{...(0,k.Ws)(a),canEdit:!0,canEditTeamContents:!0,canAdmin:a.canAdmin}}))}else if(e.type===Y.b.FOLDER_ROW){let t=r.folders[e.id];if(!t)break;this.move(t)}}}},this.onClose=()=>{this.props.fileMoveData.displayBanner?this.props.dispatch(F.Lo()):this.props.dispatch(F.Ce())},this.openOrgView=e=>{this.props.dispatch(A.$T({view:"org",orgId:e,orgViewTab:z.X.HOME}))},this.onOrgViewLinkClick=()=>{this.props.dispatch(F.Ce()),this.props.currentOrg&&this.openOrgView(this.props.currentOrg.id)},this.moveToSelectedFolder=()=>{let e=this.getFocusedFolder();if(!e)return;let t=()=>{this.move(e)};if(this.isMovePageToNewFile&&this.props.fileMoveData.type!==Y.A.FILE_IMPORT){var r,a,n;this.onClose();let t=this.props.fileMoveData.type===Y.A.FILE?this.props.fileMoveData.fileKey:this.props.fileMoveData.repoId;r=this.props.fileMoveData.page_id,a=e.id,n=this.state.newFileName,(0,et.ED)("startMovePagesJob","Send request to start move pages job."),er.Ay.post(`/api/files/${t}/move_pages`,{folder_id:a,page_ids:r,file_name:n}).catch(e=>{(0,et.x1)("startMovePagesJob","Error with starting move pages job.",{err:e})}).then(()=>{(0,et.ED)("startMovePagesJob","Move pages job successfully started.")});return}let i=this.props.fileMoveData;if(i.type===Y.A.FILE&&i.file.is_team_template&&(0,W.VA)(e)){this.props.dispatch(F.to({type:eo.X0,data:{title:(0,I.tx)("templates.confirmation.move_to_drafts.title",{count:1}),content:(0,I.tx)("templates.confirmation.move_to_drafts.description"),confirmText:(0,I.tx)("templates.confirmation.move_to_drafts.button_v2"),destructive:!1,onConfirm:t}}));return}t()},this.move=o()(e=>{let t=this.props.fileMoveData;switch(t.type){case Y.A.FILE:this.moveFile(e,t.file);break;case Y.A.REPO:this.moveRepo(e,t.repo);break;case Y.A.FILE_IMPORT:for(let r of t.files)this.props.dispatch((0,H.z)({name:r.name,blob:new Blob([r.contents]),folderId:e.id}));break;default:(0,i.xb)(t)}},2e3,{leading:!0,trailing:!1}),this.closeModal=()=>{this.props.dispatch(F.ES(this.props.modalId))},this.moveFile=(e,t)=>{if(e&&e.id!==t.folder_id){if(this.props.userResources.loaded){let r=this.props.userResources.userResources.teams[e.teamId||""]||null;this.closeModal(),this.props.dispatch(P.z({files:[t],folder:e,team:r,fromFileModal:!0,onFinishCallback:this.props.fileMoveData.afterFileMove?.callback}))}}else this.onClose()},this.moveRepo=(e,t)=>{if(e&&e.id!==t.folder_id){if(this.props.userResources.loaded){let r=this.props.userResources.userResources.teams[e.teamId||""]||null;this.closeModal(),this.props.dispatch(P.z({files:[],repos:[t],folder:e,team:r,fromFileModal:!0}))}}else this.onClose()},this.getModalTitle=()=>{let e=this.props.fileMoveData;if(this.isMovePageToNewFile)return(0,I.t)("file_browser.file_move.move_pages_to_new_file");if(e.type===Y.A.FILE_IMPORT)return 1===e.files.length?(0,I.t)("file_browser.file_move.modal_header_import_file",{fileName:e.files[0].name}):(0,I.t)("file_browser.file_move.modal_header_import_files");{let t=e.type===Y.A.FILE?e.file.name:e.repo.name;return(0,I.t)("file_browser.file_move.modal_header_move_file",{fileName:t})}},this.getFocusedFolder=()=>{if(!this.props.userResources.loaded)return null;let{userResources:e}=this.props.userResources,t=this.props.fileMove.folderRows[this.props.fileMove.focusedIndex];return t&&t.type===Y.b.FOLDER_ROW?e.folders[t.id]:null},this.onFileMoveContextMenu=(e,t)=>{e.stopPropagation(),e.preventDefault(),this.props.fileMove.folderRenaming||this.props.dispatch(A.j7({type:this.FILE_MOVE_DROPDOWN,data:{folderId:t.id,position:{top:e.clientY,left:e.clientX,right:"auto",bottom:"auto"}}}))},this.handleInputChange=e=>{this.setState({newFileName:e.currentTarget.value})},this.renderViewerUpgradeAwarenessBanner=(e,t,r)=>{if(!this.props.userResources.loaded)return null;let{userResources:n}=this.props.userResources;if(!(0,W.VA)(t)||(0,W.VA)(r))return null;let i=this.props.fileMoveData.type===Y.A.FILE?this.props.fileMoveData.fileKey:"";if(n.orgId){if(n.org?.k12GoogleOrg)return null;let t=n.orgUsers[n.orgId],r=t&&n.user?t[n.user.id]:null,l=!1;if(e===M._Y.DESIGN?l=r?.design_paid_status===M.El.STARTER:e===M._Y.WHITEBOARD&&(l=r?.whiteboard_paid_status===M.El.STARTER),l)return a.createElement(ei.n,{planName:this.props.currentOrg?.name,planType:q.O.ORG,planId:n.orgId,fileKey:i,upgradeReason:el.X.MOVE_DRAFT})}else{let t=r?.teamId,l=t?n.teams[t]:null;if(l&&e6(l).pro_team){let t=!1;if(e===M._Y.DESIGN?t=l.currentTeamUser?.designPaidStatus===M.Zf.STARTER:e===M._Y.WHITEBOARD&&(t=l.currentTeamUser?.whiteboardPaidStatus===M.Zf.STARTER),t)return a.createElement(ei.n,{planName:l.name,planType:q.O.TEAM,planId:l.id,fileKey:i,upgradeReason:el.X.MOVE_DRAFT})}}return null}}componentDidMount(){document.addEventListener("keydown",this.onkeydown),this.componentMountedAt=new Date}componentWillUnmount(){document.removeEventListener("keydown",this.onkeydown)}componentDidUpdate(e,t){!e.userResources.loaded&&this.props.userResources.loaded&&(this.props.fileMoveData.autoSelect&&this.props.dispatch(R.qb({fileMove:this.props.fileMove})),this.props.dispatch(R.YG({isSearchFocused:!0})));let r=this.props.fileMove.focusedIndex;if(this.props.fileMove.upDownKeyPressed&&e.fileMove.focusedIndex!==r){if(!this.scrollContainerRef.current||-1===r)return;let e=this.props.fileMove.folderRows[r].positionTop,t=this.scrollContainer.getScrollTop(),a=this.scrollContainerRef.current.clientHeight;e<t?0===r?this.scrollContainer.scrollToTop():this.scrollContainer.scrollTo(e):e+e2>t+a&&(null!=this.props.fileMove.indexCount&&r===this.props.fileMove.indexCount-1?this.scrollContainer.scrollToBottom():this.scrollContainer.scrollTo(e-a+e2))}this.props.fileMove.upDownKeyPressed&&this.props.dispatch(R.qM())}renderDropdown(){if(!this.props.userResources.loaded)return;let{userResources:e}=this.props.userResources,t=this.props.dropdownShown;if(!(t&&t.type===this.FILE_MOVE_DROPDOWN&&t.data&&t.data.folderId))return null;let r=e.folders[t.data.folderId];return r?a.createElement(ti,{folder:r,dropdownShown:this.props.dropdownShown,selectedView:this.props.selectedView,dispatch:this.props.dispatch}):null}render(){let e,t,r;let n=this.props.fileMoveData.modalWidth||288,l=this.getModalTitle();if(!this.props.userResources.loaded)return a.createElement(ee.XV,{title:l,fixedTop:!0,minWidth:n,maxWidth:n,onClose:this.onClose,truncateTitleText:!0},a.createElement("div",{className:eH},a.createElement(v.a_,{className:"file_move--spinner--fdTRn"})));let{userResources:o}=this.props.userResources,s=e3(this.props.fileMoveData),c=null==s?null:o.folders[s],m=this.getFocusedFolder();e=this.isMovePageToNewFile?null!=m&&0!==this.state.newFileName.length:this.props.fileMoveData.type===Y.A.FILE_IMPORT?null!=m:null!=m&&null!=c&&m.id!==c.id;let u=0===this.props.fileMove.teamOrder.length,_=!this.props.fileMove.folderSearchQuery&&this.props.fileMove.userTeamCount&&!(0,d.kc)().ps_benchmark&&this.props.fileMove.userTeamCount<=1&&this.props.fileMoveData.type!==Y.A.FILE_IMPORT,p=!this.props.fileMove.folderSearchQuery&&this.props.fileMove.userTeamCount&&(0,d.kc)().ps_benchmark&&this.props.fileMove.userTeamCount<=1&&this.props.fileMoveData.type!==Y.A.FILE_IMPORT,f=this.props.fileMoveData;switch(f.type){case Y.A.FILE:t={fileKey:f.fileKey,fileTeamId:f.file&&f.file?.team_id,fileMoveModalEmptyState:_||p,orgId:this.props.currentOrg&&this.props.currentOrg?.id},r=f.file.editor_type??M._Y.DESIGN;break;case Y.A.REPO:t={repoId:f.repoId,fileMoveModalEmptyState:_||p,orgId:this.props.currentOrg&&this.props.currentOrg?.id},r=M._Y.DESIGN;break;case Y.A.FILE_IMPORT:t={},r=null;break;default:(0,i.xb)(f)}return a.createElement(O.fu,{name:K.e0.FILE_MOVE_MODAL,properties:t},a.createElement(ee.XV,{title:l,fixedTop:!0,minWidth:n,maxWidth:n,onClose:this.onClose,truncateTitleText:!0},_?a.createElement("div",{className:"file_move--mainZeroState--LuJk0 file_move--main--RCzls",id:e4},a.createElement("div",{className:"file_move--zeroStateModal--0wxWh"},a.createElement("div",{style:{paddingTop:"100px"}},(0,I.tx)("file_browser.file_move.zero_state")),this.props.currentOrg&&a.createElement("div",{className:T.cx.pt20.$},a.createElement(E.$$,{onClick:this.onOrgViewLinkClick},this.props.currentOrg.bigma_enabled?(0,I.t)("file_browser.file_move.view_workspaces"):(0,I.t)("file_browser.file_move.view_teams"))))):a.createElement("div",{className:eH,id:e4},this.isMovePageToNewFile?a.createElement(en,{newFileName:this.state.newFileName,onChange:this.handleInputChange}):a.createElement(a.Fragment,null,r&&c&&m&&this.renderViewerUpgradeAwarenessBanner(r,c,m),a.createElement("div",{className:"file_move--searchWrapperNew--PXm8m"},a.createElement(te,{fileMoveData:this.props.fileMoveData,folderCount:this.props.fileMove.indexCount,focusedIndex:this.props.fileMove.focusedIndex,getFocusedFolder:this.getFocusedFolder,searchQuery:this.props.fileMove.folderSearchQuery,moveFolder:this.move,dispatch:this.props.dispatch,userResources:o}))),a.createElement("div",{className:eY}),this.props.fileMoveData.displayBanner&&!this.isMovePageToNewFile&&a.createElement(a.Fragment,null,this.props.fileMoveData.displayBanner,a.createElement("div",{className:eY})),this.props.fileMove.folderSearchQuery&&!this.isMovePageToNewFile&&u?a.createElement("div",{className:"file_move--emptyModal--MPz-z"},(0,I.tx)("search.file_move.no_results_found",{folderSearchQuery:this.props.fileMove.folderSearchQuery})):a.createElement(b.P,{width:n,className:"file_move--teamSectionBody--YR9Lj",ref:this.setScrollContainer,scrollContainerRef:this.scrollContainerRef,onScroll:this.onScroll},a.createElement(ta,{currentFolderId:s,fileMove:this.props.fileMove,fileEditorType:r,creatingNewFolder:this.props.creatingNewFolder,onFileMoveContextMenu:this.onFileMoveContextMenu,indexOffsets:this.props.fileMove.indexOffsets,teams:o.teams,folders:o.folders,teamNameMaxWidth:n-88,componentMountedAt:this.componentMountedAt,orgId:o.orgId,onDoubleClick:this.moveToSelectedFolder,selectedView:this.props.selectedView,rolesByTeamId:o.roles.byTeamId,dispatch:this.props.dispatch})),a.createElement("div",{className:"file_move--footer--Pt8L1"},a.createElement(E.nR,{onClick:this.onClose},(0,I.tx)("modal.cancel")),a.createElement(E.vd,{disabled:!e,onClick:this.moveToSelectedFolder},this.props.fileMoveData.moveText||(0,I.t)("file_browser.file_move.move")))),this.renderDropdown(),a.createElement(tl,{fileMove:this.props.fileMove,creatingNewFolder:this.props.creatingNewFolder})))}}e7.displayName="FileMoveModal";class te extends a.PureComponent{constructor(e){super(e),this.onFocus=()=>{this.props.dispatch(R.xH()),this.props.dispatch(R.YG({isSearchFocused:!0}))},this.onBlur=()=>{this.props.dispatch(R.YG({isSearchFocused:!1}))},this.onChange=e=>{e.stopPropagation(),this.props.dispatch(eP({modalData:this.props.fileMoveData,query:e.currentTarget.value,userResources:this.props.userResources}))},this.onSearchKeyDown=e=>{e.stopPropagation();let t=this.searchInputRef.current;switch(e.keyCode){case m.Uz.DOWN_ARROW:t&&t.blur(),null!=this.props.folderCount&&this.props.dispatch(R.TL({upperBound:this.props.folderCount}));break;case m.Uz.UP_ARROW:t&&t.blur(),this.props.dispatch(R.zv());break;case m.Uz.ESCAPE:if(!t)break;t.value?(t.value="",this.props.dispatch(eP({modalData:this.props.fileMoveData,query:"",userResources:this.props.userResources}))):this.props.dispatch(F.Ce()),this.props.dispatch(R.xH());break;case m.Uz.TAB:t&&t.blur(),this.props.dispatch(R.xH());break;case m.Uz.ENTER:{t&&t.blur();let e=this.props.getFocusedFolder();e&&this.props.moveFolder(e)}}},this.searchInputRef=a.createRef()}componentDidMount(){let e=this.searchInputRef.current;e&&e.focus()}render(){return a.createElement("div",{className:"file_move--searchContainer--0qezA"},a.createElement("div",{className:e$},a.createElement(w.B,{svg:eZ.A})),a.createElement(y.L,{ref:this.searchInputRef,placeholder:(0,I.t)("file_browser.file_move.search_placeholder"),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onSearchKeyDown,className:this.props.searchQuery?"file_move--searchInputNew--k79Z1":"file_move--searchInputEmptyNew--Qc-2U file_move--searchInputNew--k79Z1",value:this.props.searchQuery,onChange:this.onChange}))}}function tt(e){let{team:t,teamId:r}=e,[n,{onMouseOver:i,onMouseOut:l}]=(()=>{let[e,t]=(0,a.useState)(!1),r=(0,a.useCallback)(()=>t(!0),[t]),n=(0,a.useCallback)(()=>t(!1),[t]);return(0,a.useMemo)(()=>[e,{onMouseOver:r,onMouseOut:n}],[e,r,n])})(),o=(0,u.Rs)($.bel,{teamId:t?.id??""},{enabled:!!t?.id}),s=o.data?.team?.teamFileCounts?.designFileCount??0,c=o.data?.team?.teamFileCounts?.whiteboardFileCount??0,d=o.data?.team?.teamFileCounts?.slideFileCount,m=d?parseInt(d,10):0,_=null==e.fileEditorType?null:"whiteboard"===e.fileEditorType?{type:G.sK.ADD_FIGJAM_FILE,nCurrentWhiteboardFiles:c}:"slides"===e.fileEditorType?{type:G.sK.ADD_SLIDES_FILE,nCurrentSlideFiles:m}:{type:G.sK.ADD_DESIGN_FILE,nCurrentDesignFiles:s},p=e.fileNotInTeam&&t&&_&&!(0,G.rR)((0,k.Ws)(t),_);return a.createElement(a.Fragment,null,e.showTitle&&a.createElement("div",{className:"file_move--teamTitleNew--2ojZ4 text--fontPos12--YsUAh text--_fontBase--QdLsd",onMouseOver:i,onMouseLeave:l},(r===R.iK||r===R.HK)&&a.createElement("div",{className:e$},a.createElement(w.B,{svg:e0.A})),a.createElement("div",{className:"file_move--teamTitleRow--0tzGB"},a.createElement("div",{className:"file_move--teamName--9fqeI"},a.createElement("div",{className:"file_move--teamTitleText--NhNEM ellipsis--ellipsis--Tjyfa",style:{maxWidth:e.teamNameMaxWidth}},r===R.iK||r===R.HK?(0,I.t)("file_browser.shared_projects"):t.name),p&&a.createElement("div",{className:"file_move--warningIcon--Dsp3N"},a.createElement(w.B,{svg:eK.A,"data-tooltip-type":Q.Ib.TEXT,"data-tooltip":(0,I.t)("file_browser.file_move.paywall_team_tooltip")}))),n&&t&&!p&&a.createElement("div",{className:"file_move--newProjButton--L5YiY"},a.createElement(L,{team:t,isBackgroundTransparent:!0,trackingContextName:K.e0.FILE_MOVE_MODAL})))))}function tr(e){let t=(0,a.useRef)(null),[r,i]=(0,a.useState)(!1),l=(0,n.wA)();return(0,a.useEffect)(()=>{!r&&e.isTeamNew&&t.current&&e.hasFolderSection&&(l(R.Dp({indexAt:e.firstFolderFocusedIndex})),t.current.scrollIntoView(),i(!0))},[e.isTeamNew,e.hasFolderSection,e.firstFolderFocusedIndex,r,t,l]),a.createElement("div",{className:e.className,ref:t},e.children)}function ta(e){let{fileMove:t,teams:r,selectedView:n}=e,i=Object.values(r).map(e=>e6(e));return a.createElement("div",null,null!=t.teamOrder&&t.teamOrder.map(n=>{let i=n!==R.HK,l=n!==R.iK&&n!==R.HK,o=(t.foldersByTeamId?.[n]||[]).length>0;if(!(i||l||o))return null;let s=r[n];if(!s&&!(n===R.iK||n===R.HK)||(0,d.kc)().ps_benchmark&&n===R.HK&&!e.orgId)return null;let c=s?new Date(r[n].createdAt):void 0,m=c&&c>e.componentMountedAt,u=t.indexOffsets[n]+1,_=!!e.currentFolderId&&n!==e.folders[e.currentFolderId]?.teamId;return a.createElement(tr,{className:"file_move--teamSection--JHso7",isTeamNew:m,firstFolderFocusedIndex:u,hasFolderSection:o,key:`Team Section ${n}`},a.createElement(tt,{team:s,teamId:n,showTitle:i,isACustomTeam:l,fileNotInTeam:_,teamNameMaxWidth:e.teamNameMaxWidth,indexOffsets:e.indexOffsets,fileEditorType:e.fileEditorType}),o&&(t.foldersByTeamId[n]||[]).map((r,i)=>{let o=i+e.indexOffsets[n];return l&&(o+=1),a.createElement(tn,{key:`${r.teamId} ${r.id}`,folderBeingRenamed:t.folderRenaming,folders:e.folders,index:o,focusedFolderIndex:t.focusedIndex,folder:r,isSearchingFolders:!!t.isSearchResult,currentFolderId:e.currentFolderId,onFileMoveContextMenu:e.onFileMoveContextMenu,trackingContextName:K.e0.FILE_MOVE_MODAL,onDoubleClick:e.onDoubleClick})}))}),!e.orgId&&a.createElement(eq,{teamNameMaxWidth:e.teamNameMaxWidth,trackingContextName:K.e0.FILE_MOVE_MODAL,orgId:e.orgId,selectedView:n,teams:i,rolesByTeamId:e.rolesByTeamId,dispatch:e.dispatch}))}function tn(e){let t=(0,n.wA)(),r=(0,p.n_)(x.mq),i=(a,n)=>{(0,s.sx)("Rename Folder",{trackingContext:e.trackingContextName}),r({folderId:a.id,folderName:n}),t(R.Mn())},l=(t,r)=>{e.onFileMoveContextMenu(r,t)},o=e.folderBeingRenamed===e.folder.id,c=e.focusedFolderIndex===e.index,m=e.folderBeingRenamed?ej:c?"file_move--folderRowWrapperFocusedNew--egTh6 file_move--folderRowWrapper--Qw-C4":ej,{folder:u}=e;return a.createElement("div",{className:m,onMouseDown:()=>{t(R.Dp({indexAt:e.index}))},key:`${u.teamId} ${u.id}`,onContextMenu:e=>l(u,e),onDoubleClick:()=>{o||e.onDoubleClick()}},o?a.createElement("div",{className:eG},a.createElement(h.p,{key:`input ${u.id}`,className:"file_move--renameInput--RBlJ-",placeholderValue:(0,W.CI)(u),submit:e=>i(u,e),cancel:()=>{t(R.Mn())}})):((t,r)=>{let n=e5(t)&&e.isSearchingFolders,i=e.focusedFolderIndex&&e.focusedFolderIndex>-1?r:e.currentFolderId===t.id,l=(0,d.kc)().ps_benchmark&&(0,W.jd)(t)?e1.A:eX.A;return a.createElement("div",{className:eG},a.createElement("div",{className:e$},a.createElement(w.B,{svg:i?eQ.A:l})),a.createElement("span",{className:"file_move--folderName--ouEY3 ellipsis--ellipsis--Tjyfa"},(0,W.CI)(t)),a.createElement("div",{className:e$},n&&a.createElement(w.B,{svg:eJ.A})))})(u,c))}te.displayName="FileMoveSearch";class ti extends a.PureComponent{constructor(){super(...arguments),this.renameFolder=()=>{this.props.dispatch(R.JG({folderId:this.props.folder.id}))}}render(){let e=this.props.folder,t=e.canRename,r=e8(this.props.selectedView);return a.createElement(g.ms,{className:"file_move--fileMoveContextMenu--xs-xb",style:this.props.dropdownShown.data.position},a.createElement(g.c$,{disabled:!t,onClick:this.renameFolder},(0,I.tx)("file_browser.file_move.context_menu_rename")),a.createElement(g.wv,null),a.createElement(g.c$,{href:(0,N.EE)(e.id,e.orgId),target:r},(0,I.tx)("file_browser.file_move.context_menu_show_in_files")))}}ti.displayName="FileMoveDropdown";class tl extends a.PureComponent{constructor(){super(...arguments),this.hiddenDivRef=e=>{this.hiddenDiv=e}}componentDidUpdate(){!this.props.fileMove||this.props.fileMove.folderRenaming||this.props.fileMove.isSearchFocused||this.props.creatingNewFolder||null==this.hiddenDiv||this.hiddenDiv.focus()}render(){return a.createElement("div",{ref:this.hiddenDivRef,tabIndex:0})}}tl.displayName="FileMoveHiddenDiv"},404558:(e,t,r)=>{r.r(t),r.d(t,{MoveDraftToProjectInterstitialModal:()=>h});var a=r(411855),n=r(188507),i=r(629019),l=r.n(i),o=r(966712),s=r(799569),c=r(946689),d=r(939863),m=r(548154),u=r(662275),_=r(931828),p=r(672517),f=r(474742),g=r(626208),E=r(751299);function h(e){let t=(0,n.wA)(),r=(0,o.kc)().ps_benchmark,i=()=>{t(_.b({dismissed_move_draft_to_project_interstitial_modal:!0})),t(u.Lo())};return a.createElement(p.fu,{name:"MoveDraftToProjectInterstitialModal"},a.createElement(f.aF,{title:r?(0,d.t)("file_browser.draft_to_project.title.plan_spaces"):(0,d.t)("file_browser.draft_to_project.title.seat_rename"),titleClassName:g.wN,className:g.KP,size:320,popStack:!0,disableClickOutsideToHide:!0},a.createElement(s.Jn,{className:l()(E.J_,E.BQ),onClick:i}),a.createElement("span",null,r?(0,d.tx)("file_browser.draft_to_project.body.plan_spaces"):(0,d.tx)("file_browser.draft_to_project.body.seat_rename"),a.createElement("br",null)),a.createElement("div",{className:l()(g.v0,g.hF)},a.createElement("a",{target:"_blank",href:"https://help.figma.com/hc/articles/13838684089751-Starter-plan-permissions#drafts"},a.createElement(c.tM,null,(0,d.tx)("general.learn_more"))),a.createElement(c.vd,{className:g.pL,onClick:()=>{i(),(0,m.h)(e.file,e.repo,t,e.afterFileMove,e.moveFileModalData,e.bannerToDisplay)}},(0,d.tx)("file_browser.draft_to_project.move")))))}},43325:(e,t,r)=>{r.d(t,{cx:()=>i});var a=r(503457),n=r(898719);r(489329);let i=n.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(4195),r.e(441),r.e(7476),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(7481),r.e(4772),r.e(9915),r.e(9253),r.e(9634),r.e(3880),r.e(3559),r.e(2026),r.e(6094),r.e(3630),r.e(9745),r.e(7320),r.e(3970),r.e(7748)]).then(r.bind(r,489329)).then(e=>e.default),{loading:()=>null,error:a.H4.NONE,componentName:"FileBrowserOverlays"})},681268:(e,t,r)=>{r.r(t),r.d(t,{EduUpgradeModal:()=>h});var a=r(411855),n=r(188507),i=r(946689),l=r(154254),o=r(939863),s=r(80889),c=r(411045),d=r(507877),m=r(662275),u=r(995852),_=r(672517),p=r(594901),f=r(243987),g=r(585878);function E({handleClose:e}){let t=(0,c.Gu)(),r=(0,n.wA)(),s=a.useCallback(()=>{e(),r((0,d.Dw)({isEduTeam:!0}))},[r,e]);return t?a.createElement("div",{className:l.cx.p8.$}):a.createElement(i.Ph,{className:"edu_upgrade_modal--createTeamLink--CbJUX edu_upgrade_modal--link--Toy9f",onClick:s,trusted:!0},(0,o.tx)("edu.or_create_a_new_team"))}function h(){let e=(0,p.FC)(),t=(0,n.wA)(),r=(0,c.Gu)(),l=a.useCallback(()=>{t(m.Ce())},[t]),h=a.useCallback(e=>{l(),t(u.Vm({teamId:e.id}))},[t,l]),y=a.useMemo(()=>(0,f.Kg)(e),[e]);return a.useLayoutEffect(()=>{r||0!==y.length||(l(),t((0,d.Dw)({isEduTeam:!0})))},[t,y.length,l,r]),a.createElement(_.fu,{name:"Edu Team Upgrade Modal"},a.createElement(g.XV,{title:(0,o.t)("edu.upgrade_teams.headline"),onClose:l},a.createElement("div",{className:"edu_upgrade_modal--container--i-0VV"},a.createElement("p",{className:"edu_upgrade_modal--bodyText--BXu7I"},(0,o.tx)("edu.upgrade_teams.body",{link:a.createElement(i.Ph,{className:"edu_upgrade_modal--link--Toy9f",href:"/pricing",target:"_blank",trusted:!0},(0,o.tx)("edu.upgrade_teams.body_link_text"))}),y.length>1&&a.createElement(a.Fragment,null," ",(0,o.tx)("edu.upgrade_teams.body_multiple_teams"))),a.createElement(s.I,{eligibleTeams:y,selectTeam:h,showEditorCount:!1,customUpgradeText:(0,o.t)("general.next")}),a.createElement(E,{handleClose:l}))))}},439822:(e,t,r)=>{r.r(t),r.d(t,{DowngradeSurveyModal:()=>O,DowngradeSurveyModalAdmin:()=>D,DowngradeSurveyModalLeaveTeam:()=>M});var a=r(411855),n=r(939863),i=r(898719),l=r(237870);let o="team-admin-confirm-downgrade",s=i.A.createLazyComponent(()=>Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(4195),r.e(441),r.e(7476),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(7481),r.e(4772),r.e(9915),r.e(9253),r.e(9634),r.e(3880),r.e(3559),r.e(2026),r.e(6094),r.e(3630),r.e(9745),r.e(7320),r.e(3970),r.e(7748)]).then(r.bind(r,815622)).then(e=>e.ConfirmDowngradeModal),(0,l.Ij)("ConfirmDowngradeModal"));(0,l.qK)(o,s);var c=r(662275),d=r(902957),m=r(188507),u=r(946689),_=r(611978),p=r(585878);function f({id:e,label:t,children:r,onChange:n}){let[i,l]=a.useState(!1);return a.createElement("fieldset",{name:e},a.createElement("div",{className:"survey_option--inputContainer---R-Fh"},a.createElement(u.tB,{id:e,checked:i,onChange:e=>{l(!i),n&&n(e)}}),a.createElement("label",{className:"survey_option--label--NqXEk",htmlFor:e},t)),i&&r&&a.createElement("div",{className:"survey_option--subContainer--Omjmy"},r))}var g=r(561546),E=r(629019),h=r.n(E),y=r(268537),v=r(893281),b=r(158950);function w(e){let[t,r]=a.useState(""),n=e=>{r(e.target.value)};return e.textarea?a.createElement(b.v,{value:t,onChange:n,...e}):a.createElement(u.ks,{id:e.id,className:"survey_text_input--input--Q1W-9",placeholder:e.placeholder,maxLength:100,value:t,onChange:n})}let T="downgrade_survey_modal_component_v2--surveyQuestions--E5X6t",I="downgrade_survey_modal_component_v2--researchContact--qGc3V",C="downgrade_survey_modal_component_v2--hiddenInput--04h5p",x="downgrade_survey_modal_component_v2--radio--xvUsz",N=[{id:"brl",shorthand:"BRL"},{id:"cad",shorthand:"CAD"},{id:"eur",shorthand:"EUR"},{id:"gbp",shorthand:"GBP"},{id:"jpy",shorthand:"JPY"}];function k({id:e,shorthand:t}){return a.createElement("div",{className:"downgrade_survey_modal_component_v2--currencyContainer--CoFln"},a.createElement("p",null,(0,n.tx)(`downgrade_survey.survey_option.too_expensive.${e}`)),a.createElement("p",{className:"downgrade_survey_modal_component_v2--currencyShorthand--xhQpy"},t))}let S=[{id:"too_expensive",value:"Too expensive",children:a.createElement(function(){let e="other_currency",[t,r]=a.useState(""),i=e=>{r(e.currentTarget.id)},l=[...N.map(({id:e,shorthand:t})=>a.createElement(y.c$,{id:e,key:e,onClick:i},a.createElement(k,{id:e,shorthand:t}))),a.createElement(y.wv,{key:"separator"}),a.createElement(y.c$,{id:e,onClick:i,key:e},(0,n.tx)("downgrade_survey.survey_option.too_expensive.other_currency"))];return a.createElement("fieldset",null,a.createElement(f,{id:"currency_conversion",label:(0,n.t)("downgrade_survey.survey_option.too_expensive.currency_conversion")},a.createElement("fieldset",{className:h()({"downgrade_survey_modal_component_v2--currencySelector__other--khpqx":t===e})},a.createElement(y.Ve,{label:t.length?(0,n.t)(`downgrade_survey.survey_option.too_expensive.${t}`):(0,n.t)("downgrade_survey.survey_option.too_expensive.currency_selector"),options:l}),a.createElement("input",{id:"currency",className:C,readOnly:!0,value:t}),t===e&&a.createElement(w,{id:"currency_input",placeholder:(0,n.t)("downgrade_survey.survey_option.too_expensive.specify_currency")}))))},null),getSubOptions:e=>{let t=Array.from(e.getElementsByTagName("input")),r=t.find(e=>"currency_conversion"===e.id),a=t.find(e=>"currency"===e.id),n=a?.value,i=t.find(e=>"currency_input"===e.id),l=i?.value||n||void 0;return{currencyConversion:r?.checked,currency:l}}},{id:"billing_structure_unclear",value:"Billing structure is unclear"},{id:"no_longer_using_figma_products",value:"No longer using Figma's products",children:a.createElement(function(){return a.createElement("fieldset",null,a.createElement("legend",{className:"downgrade_survey_modal_component_v2--additionalQuestion--HfKNO"},(0,n.tx)("downgrade_survey.survey_option.no_longer_using_figma_products.other_products")),a.createElement(w,{id:"other_products",placeholder:(0,n.t)("downgrade_survey.survey_option.no_longer_using_figma_products.text_area")}))},null),getSubOptions:e=>{let t=Array.from(e.getElementsByTagName("input")).find(e=>"other_products"===e.id);return{products:t?.value||void 0}}},{id:"project_inactive",value:"Project is over or no longer active"},{id:"accidental_upgrade",value:"Did not mean to upgrade"},{id:"switching_plans",value:"Switching to a different plan",children:a.createElement(function(){let[e,t]=a.useState("");return a.createElement(a.Fragment,null,a.createElement(v.z,{value:e,onChange:e=>t(e)},a.createElement(v.Z,{className:x,value:"Starter plan"},(0,n.tx)("downgrade_survey.survey_option.switching_plans.starter_plan")),a.createElement(v.Z,{className:x,value:"Organization plan"},(0,n.tx)("downgrade_survey.survey_option.switching_plans.organization_plan")),a.createElement(v.Z,{className:x,value:"Enterprise plan"},(0,n.tx)("downgrade_survey.survey_option.switching_plans.enterprise_plan")),a.createElement(v.Z,{className:x,value:"Education plan"},(0,n.tx)("downgrade_survey.survey_option.switching_plans.education_plan"))),a.createElement("input",{id:"new_plan",className:C,readOnly:!0,value:e}))},null),getSubOptions:e=>{let t=Array.from(e.getElementsByTagName("input")).find(e=>"new_plan"===e.id);return{newPlan:t?.value||void 0}}}],L={id:"other",value:"Other",children:a.createElement(function(){return a.createElement(w,{className:"downgrade_survey_modal_component_v2--otherTextArea--pS5MZ",placeholder:(0,n.t)("downgrade_survey.survey_option.other.text_area"),textarea:!0})},null),getSubOptions:e=>({explanation:e.getElementsByTagName("textarea")[0].value||void 0})},A=(0,g.k4)(S).concat(L);var R=r(373494),P=r(663237);function F({cancelText:e,onSubmit:t}){let[r,i]=a.useState([]),l=e=>{let{id:t}=e.currentTarget;r.includes(t)?i(r.filter(e=>e!==t)):i([...r,t])},o=(0,m.wA)(),s=(0,_._6)().teamId,d=()=>{o(c.Ce())};return a.createElement(p.XV,{title:(0,n.t)("downgrade_survey.header"),fixedTop:!0,minWidth:370,maxWidth:370,onClose:d,dataTestId:"downgrade-survey-modal"},a.createElement("form",{className:"downgrade_survey_modal_component_v2--modalBody--tYceI",onSubmit:e=>{e.preventDefault();let a=Array.from(e.currentTarget.getElementsByClassName(T)[0].getElementsByTagName("fieldset")),n=r.map(e=>{let t=a.find(t=>t.name===e),{value:r,getSubOptions:n}=A.find(t=>t.id===e);return{reason:r,...n&&n(t)}});t({teamId:s,canContact:e.currentTarget.getElementsByClassName(I)[0].getElementsByTagName("input")[0].checked,selectedOptions:n})}},a.createElement("div",{className:"downgrade_survey_modal_component_v2--exitSurvey--9HRcF"},a.createElement("fieldset",{className:T},a.createElement("legend",null,(0,n.tx)("downgrade_survey.what_made_you_cancel_your_plan")),!r.length&&a.createElement("p",{className:P.Q},(0,n.tx)("downgrade_survey.select_one")),A.map(({id:e,children:t})=>a.createElement(f,{id:e,label:(0,n.t)(`downgrade_survey.survey_option.${e}`),key:e,onChange:l},t))),a.createElement("fieldset",{className:I},a.createElement("legend",null,(0,n.tx)("downgrade_survey.research_contact")),a.createElement(f,{id:"research",label:(0,n.t)("downgrade_survey.allow_research_contact")}))),a.createElement("div",{className:"downgrade_survey_modal_component_v2--buttonRow--Y15LH"},a.createElement(u.tM,{className:R.Lu,type:"button",onClick:d},e),a.createElement(u.vd,{type:"submit",disabled:!r.length,className:R.pL,autoFocus:!1},(0,n.tx)("downgrade_survey.continue")))))}function O(e){let t="admin"===e.context?(0,n.t)("downgrade_survey.go_back"):(0,n.t)("downgrade_survey.do_not_leave_team");return a.createElement(F,{onSubmit:t=>{let r=e.modalShown?.data.teamId,a=e.modalShown?.data.billingEndDate;if("admin"===e.context)e.dispatch(c.to({type:o,data:{teamId:r,billingEndDate:a,exitSurveyData:t}}));else if("leave-team"===e.context){let t=e.teams[r];e.dispatch(d.yH({team:t,userInitiated:!0})),e.dispatch(c.Ce())}},cancelText:t})}function D(e){return a.createElement(O,{...e,context:"admin"})}function M(e){return a.createElement(O,{...e,context:"leave-team"})}},726307:(e,t,r)=>{r.r(t),r.d(t,{FolderBatchAbandonedDraftDeleteConfirmModal:()=>m});var a=r(411855),n=r(188507),i=r(776250),l=r(752553),o=r(881388),s=r(939863),c=r(688083),d=r(474742);function m({folders:e}){let t=(0,n.wA)(),r=(0,l.n_)(c.U),m=e=>{e.forEach(e=>{(0,i.sx)("Folder Batch Abandoned Draft Delete Confirmation Click",{folderId:e.id,teamId:e.teamId,orgId:e.orgId})}),r({folderIds:e.map(e=>e.id)}).catch(()=>{t(o.s.error((0,s.t)("file_browser.api_folder.error_when_deleting")))})};return a.createElement(d.Rw,{confirmationTitle:(0,s.t)("file_browser.delete_project.title"),destructive:!0,confirmText:(0,s.t)("file_browser.batch_delete_project.generic_confirm_label"),onConfirm:()=>{m(e)}},(0,s.tx)("file_browser.batch_delete_projects.confirm_text_trash_section",{numProjects:e.length}))}},855994:(e,t,r)=>{r.r(t),r.d(t,{FolderMoveModal:()=>P});var a=r(411855),n=r(188507),i=r(629019),l=r.n(i),o=r(737947),s=r(915440),c=r(946689),d=r(355819),m=r(163023),u=r(939863),_=r(131750),p=r(662275),f=r(672517),g=r(385111),E=r(688083),h=r(594901),y=r(279453),v=r(623746),b=r(428467),w=r(206193),T=r(851363),I=r(231959),C=r(143678),x=r(585878),N=r(626296);let k="folder_move--iconContainer--nXjIY file_move--iconContainer--SWek6";var S=r(613557),L=r(450147),A=r(126815),R=r(575675);function P(e){let t,r;let i=(0,n.wA)(),l=(0,n.d4)(e=>e.currentUserOrgId),_=(0,n.d4)(e=>null!=l?e.orgById[l]:null),b=(0,s.Rs)(y.AbW,{currentOrgId:l,currentTeamId:null}),k=(0,n.d4)(t=>t.folders[e.folderId]),[L,R]=(0,a.useState)(void 0),[P,D]=(0,a.useState)(void 0),M="loaded"===b.status?{...b.data.currentUser}:null,B=g.h.useTrackingContext({trigger:w.b.FOLDER_MOVE_MODAL}),U={},V=[],W=(0,h.FC)();if(M){let e=[];(M.teamRoles??[]).forEach(t=>{if(t.team?.orgId===l&&!t.team?.deletedAt&&!t.pending){if(t.team?.id===k?.team_id){r=t;return}e.push(t),t.team?.workspace?.id?(U[t.team.workspace?.id]=U[t.team.workspace?.id]??[],U[t.team.workspace?.id].push(t)):t.team&&V.push(t)}});let a=M.baseOrgUser?.workspaceUsers;t=a?.find(e=>e?.isMainWorkspace)?.workspaceId}let H=()=>{i(p.Ce())},$=(e,t)=>{R(e),D(t)},j=(0,a.useCallback)(()=>{if(L&&!P){let e=(0,T.bL)(L?.id,L.orgId);o.Ay.redirect(e,"_blank")}},[L,P]),G=(0,a.useCallback)(e=>{if(!_)return;let t={workspaceId:e??I.O,onSubmitReturnToPrevView:!1};i(p.to({type:N.Uc,data:t}))},[_,i]),Y=e=>a.createElement(a.Fragment,null,e.map(e=>a.createElement(O,{team:e.team,key:e.id,selectedTeamId:L?.id,onSelectTeam:$,permissionsState:W}))),z=e=>a.createElement(O,{team:e.team,key:e.id,selectedTeamId:L?.id,isCurrentTeam:!0,permissionsState:W,onSelectTeam:$});if(!k)return null;let q=Object.keys(U).length>0,Q=L&&r&&r.team.id===L.id;return a.createElement(f.fu,{name:C.e0.FILE_MOVE_MODAL,properties:B},a.createElement(x.XV,{title:(0,u.t)("file_browser.folder_move.modal_header",{folderName:k.name}),fixedTop:!0,minWidth:288,maxWidth:288,onClose:H,truncateTitleText:!0},a.createElement("div",{className:"folder_move--main--TkW9w file_move--main--RCzls"},a.createElement(d.P,{className:"folder_move--teamSectionBody--LACBL file_move--teamSectionBody--YR9Lj"},a.createElement("div",{className:"folder_move--teamSection---S02k file_move--teamSection--JHso7"},q?(function(e,t,r){let a=t?.team?.workspace?.id??null,n=[a];return r&&r!==a&&e[r]&&n.push(r),Object.keys(e).filter(e=>e!==a&&e!==r).sort((t,r)=>{let a=e[t][0]?.team?.workspace?.name?.toLocaleUpperCase()??"",n=e[r][0]?.team?.workspace?.name?.toLocaleUpperCase()??"";return a<n?-1:a>n?1:0}).forEach(e=>{n.push(e)}),null!==a&&n.push(null),n})(U,r,t).map(e=>{if(null===e){if(V.length>0)return a.createElement(a.Fragment,{key:"other_teams_key"},a.createElement(F,{headerName:(0,u.t)("sidebar.workspaces.other_teams"),onCreateNewTeamClick:G,workspaceId:null}),null!=r&&r.team?.workspace?.id==null&&z(r),Y(V))}else if(U[e]){let t=U[e],n=t?t[0].team?.workspace??null:null;return a.createElement(a.Fragment,{key:e},a.createElement(F,{headerName:n?.name??"",onCreateNewTeamClick:G,workspaceId:n?.id??null}),null!=r&&r.team?.workspace?.id===e&&z(r),Y(t))}}):a.createElement(a.Fragment,null,_&&a.createElement(F,{key:"org_teams_header",headerName:_.name,onCreateNewTeamClick:G,workspaceId:null}),null!=r&&z(r),Y(V))),L&&!P&&a.createElement("div",{className:"folder_move--warningContainer--MXpOB"},a.createElement("div",{className:"folder_move--warningSectionIcon--gOcDL"},a.createElement(m.B,{svg:A.A})),a.createElement("div",null,(0,u.tx)("file_browser.folder_move.move_project_no_edit_access_warning"),a.createElement("div",{className:"folder_move--warningCTALink--f74xo",onClick:j,role:"link",tabIndex:0},(0,u.tx)("file_browser.folder_move.view_team"),a.createElement("div",{className:"folder_move--arrowRightIcon--xIk7X"},a.createElement(m.B,{svg:S.A})))))),a.createElement("div",{className:"folder_move--footer--jcEsZ file_move--footer--Pt8L1"},a.createElement(c.nR,{onClick:H},(0,u.tx)("modal.cancel")),a.createElement(c.vd,{onClick:()=>{null!=L&&k?i((0,E.Nr)({folder:(0,v.Bp)(k),team:L,onSuccess:H})):H()},disabled:void 0===L||!P||!!Q},(0,u.tx)("file_browser.folder_move.move_project"))))))}function F(e){let[t,r]=(0,a.useState)(!1);return a.createElement("div",{className:"folder_move--teamsHeaderRow--qZfbl text--fontPos12--YsUAh text--_fontBase--QdLsd",onMouseMove:()=>r(!0),onMouseLeave:()=>r(!1)},a.createElement("div",null,e.headerName),t&&a.createElement(_.f,{data_tooltip:(0,u.t)("file_browser.inline_team_creation.button_text"),data_onboarding_key:"new-team-button",innerText:(0,u.t)("file_browser.inline_team_creation.button_text"),onClick:()=>{e.onCreateNewTeamClick(e.workspaceId)}}))}function O(e){let{team:t}=e;if(null==t)return a.createElement(a.Fragment,null);let r=l()(["folder_move--teamTitle--PwZow file_move--teamTitle--ZKSP9 text--fontPos12--YsUAh text--_fontBase--QdLsd",e.isCurrentTeam&&!e.selectedTeamId||e.selectedTeamId===e.team?.id?"folder_move--selectedTeamTitle---C1u4":""]),n=(0,b.canEditTeam)(t.id,e.permissionsState);return a.createElement("div",{className:r,onClick:()=>{e.onSelectTeam&&e.onSelectTeam(t,n)},role:"button",tabIndex:0},a.createElement("div",{className:k},a.createElement(m.B,{svg:e.isCurrentTeam?L.A:R.A})),a.createElement("div",{className:"folder_move--teamTitleRow--6MpKM file_move--teamTitleRow--0tzGB"},a.createElement("div",{className:"folder_move--teamName--fvmi0 file_move--teamName--9fqeI"},t.name)),e.selectedTeamId===t.id&&!n&&a.createElement("div",{className:k},a.createElement(m.B,{svg:A.A})))}},465705:(e,t,r)=>{r.r(t),r.d(t,{FolderPermanentlyDeleteConfirmModal:()=>h});var a=r(411855),n=r(188507),i=r(862350),l=r(951792),o=r(288006),s=r(463033),c=r(776250),d=r(752553),m=r(154254),u=r(881388),_=r(939863),p=r(76735),f=r(688083),g=r(875847),E=r(850134);function h(e){var t;let r=(0,n.wA)(),h=i.hS(e),y=(0,d.n_)(f.Q4),v=(0,E.x)(e.folder.id,!0),b=a.createElement("span",{className:m.cx.fontBold.$},(0,g.CI)(e.folder)),w=(0,_.t)("file_browser.delete_project.delete_project"),T="loaded"!==v.status?(0,_.tx)("file_browser.delete_project.generic_confirm_text_permanently_delete_folder",{folderName:b}):0===(t=v.data)?(0,_.tx)("file_browser.delete_project.zero_file_confirm_text_permanently_delete_folder",{folderName:b}):(0,_.tx)("file_browser.delete_project.plural_files_confirm_text_permanently_delete_folder",{folderName:b,numFiles:(0,p.t)(t)}),I="loaded"===v.status&&0===v.data?(0,_.tx)("file_browser.delete_project.once_deleted_this_project_can_no_longer_be_restored"):(0,_.tx)("file_browser.delete_project.once_deleted_this_project_and_its_files_can_no_longer_be_restored");return a.createElement(l.bL,{manager:h,width:"lg"},a.createElement(o.vo,null,a.createElement(o.Y9,null,a.createElement(o.hE,null,(0,_.tx)("file_browser.trash_project.delete_project_forever"))),a.createElement(o.nB,null,a.createElement("div",{className:m.cx.mb16.$},T),a.createElement("div",null,I)),a.createElement(o.wi,null,a.createElement(o.jk,null,a.createElement(s.$n,{variant:"secondary",onClick:e.onClose},(0,_.tx)("modal.cancel")),a.createElement(s.$n,{variant:"destructive",onClick:()=>{(0,c.sx)("Folder Permanently Delete Confirmation Click",{folderId:e.folder.id,teamId:e.folder.teamId,orgId:e.folderOrgId}),y({folderId:e.folder.id}).catch(()=>{r(u.s.error((0,_.t)("file_browser.api_folder.error_when_permanently_deleting_folder")))}),e.onClose()}},w)))))}},93144:(e,t,r)=>{r.r(t),r.d(t,{FolderTrashConfirmModal:()=>I});var a=r(411855),n=r(188507),i=r(140593),l=r(862350),o=r(288006),s=r(57860),c=r(951792),d=r(147755),m=r(463033),u=r(776250),_=r(752553),p=r(455057),f=r(154254),g=r(881388),E=r(939863),h=r(796933),y=r(76735),v=r(662275),b=r(688083),w=r(875847),T=r(850134);function I(e){let{folder:t}=e,r=l.hS(e),n=(0,T.N)(t.id),i="loaded"===n.status?a.createElement(C,{...e,numFiles:n.data.fileCount,hasPublishedSite:n.data.publishedSiteCount>0}):a.createElement(o.nB,{padding:{top:"1rem",bottom:"1rem"}},a.createElement("div",{className:f.cx.flex.justifyCenter.$,"data-testid":"loading-spinner-container"},a.createElement(s.k,null)));return a.createElement(c.bL,{manager:r,width:"lg",height:"fixed"},a.createElement(o.vo,null,a.createElement(o.Y9,null,a.createElement(o.hE,null,(0,E.t)("file_browser.trash_project.move_project_to_trash"))),i))}function C(e){let t=(0,n.wA)(),r=(0,d.X)(),{folder:l,numFiles:s,hasPublishedSite:c}=e,T=a.createElement("span",{className:f.cx.fontBold.$},(0,E.tx)("file_browser.tool_bar.trash")),I=(e=>{switch(e){case 0:return(0,E.t)("file_browser.trash_project.generic_confirm_label");case 1:return(0,E.t)("file_browser.trash_project.one_file_confirm_label");default:return(0,E.t)("file_browser.trash_project.plural_files_confirm_label",{numFiles:(0,y.t)(e)})}})(s),C=a.createElement("span",{className:f.cx.fontBold.$},(0,w.CI)(l)),x=(e=>{switch(e){case 0:return(0,E.tx)("file_browser.trash_project.zero_file_confirm_text_trash_folder",{folderName:C});case 1:return(0,E.tx)("file_browser.trash_project.one_file_confirm_text_trash_folder",{folderName:C});default:return(0,E.tx)("file_browser.trash_project.plural_files_confirm_text_trash_folder",{folderName:C,numFiles:(0,y.t)(e)})}})(s),N=(0,_.n_)(b.Ct),k=e=>{(0,u.sx)("Folder Trash Confirmation Click",{folderId:e.id,teamId:e.teamId,orgId:e.orgId}),N({folderId:e.id}).catch(()=>{t(g.s.error((0,E.t)("file_browser.api_folder.error_when_moving_to_trash")))}),t(v.Ce())};return a.createElement(a.Fragment,null,a.createElement(o.nB,null,e.folderState&&a.createElement("div",{className:f.cx.mb12.$},a.createElement(p._,{dataTestId:"trash-folder-warning-banner",color:p.S.ERROR,text:(e=>{switch(e){case h.cm.PENDING_ASSET_TRANSFER:return(0,E.tx)("file_browser.trash_project.warning.pending_asset_transfer");case h.cm.PENDING_RESOURCE_CONNECTION:return(0,E.tx)("file_browser.trash_project.warning.pending_resource_connection");case h.cm.ACTIVE_RESOURCE_CONNECTION:return(0,E.tx)("file_browser.trash_project.warning.active_resource_connection");default:(0,i.xb)(e)}})(e.folderState)})),a.createElement("div",{className:f.cx.mb12.$},x),c&&a.createElement("div",{className:f.cx.mb12.$},(0,E.tx)("file_browser.trash_project.published_site_warning")),a.createElement("div",null,(0,E.tx)("file_browser.trash_project.description_restore",{trashStyled:T}))),a.createElement(o.wi,null,a.createElement(o.jk,null,a.createElement(m.$n,{variant:"secondary",onClick:()=>{e.onClose()},ref:r},(0,E.t)("modal.cancel")),a.createElement(m.$n,{variant:"destructive",onClick:()=>k(l)},I))))}},465850:(e,t,r)=>{r.r(t),r.d(t,{ChangeAnnualPlanModal:()=>A,ChangeAnnualPlanRow:()=>L,ConfirmCancelAnnualPlanModal:()=>R});var a=r(411855),n=r(188507),i=r(966712),l=r(752553),o=r(946689),s=r(881388),c=r(939863),d=r(49891),m=r(662275),u=r(995852),_=r(672517),p=r(710667),f=r(304769),g=r(13513),E=r(720647),h=r(860178),y=r(99506),v=r(820113),b=r(243987),w=r(556261),T=r(56099),I=r(984968),C=r(135163),x=r(265361),N=r(474742),k=r(135079);function S({currency:e,teamId:t}){let r=g.Oq.exclude([f.ud.DEV_MODE]).dict(t=>({currency:e,billableProductKey:t,tier:C.Ju.PRO,renewalTerm:C.IX.MONTH,unit:C.IX.MONTH})),a=(0,p.ic)(r,{planParentId:t,planType:y.OL.TEAM},p.Fq.ADMIN_SETTINGS),[n]=(0,l.mI)(a);if(null===n.data)throw Error("Price data is null");return n.data}function L(e){return a.createElement(a.Fragment,null,(0,c.tx)("change_annual_plan_modal.number_of_editors.seat_rename",{productType:(0,x.E)((0,E.vc)(e.editorType))}),a.createElement(o.ks,{"data-testid":"change-annual-plan-row-input",type:"number",name:e.editorType,step:1,min:1,max:b.m,value:e.tempNumEditors,onChange:t=>{let r=t.target.value;e.setTempEditorsValue(parseInt(r))}}))}function A(){let e=(0,I.cD)(),t=(0,h.TA)(),r=(0,n.d4)(e=>e.teamBilling.summary),l=(0,n.d4)(e=>e.payment.submitPutAnnualQuantityPending),o=S({currency:r.currency,teamId:e}),p=()=>{try{if(r?.annual_subscription)return r?.annual_subscription||void 0;return}catch(e){return}},g=p(),w=g?.whiteboard_quantity||0,[T,C]=a.useState(w),[A,R]=a.useState(g?.design_quantity||g?.quantity||0),P=(0,n.wA)(),F=(t,r)=>{P(u.MV({teamId:e,annualQuantity:t,annualWhiteboardQuantity:r}))},O=!!g?.trial_end&&!!(0,b.mt)(g.trial_end),D=g?(0,c.t)("change_annual_plan_modal.plan_start_date",{startDate:new Date(g.current_period_end)}):(0,c.t)("change_annual_plan_modal.unknown_start_date"),M=O?(0,c.t)("change_annual_plan_modal.confirmation_header_plan_starting",{startDate:D}):(0,c.t)("change_annual_plan_modal.confirmation_header_plan_started",{startDate:D});return a.createElement(_.fu,{name:"Change Annual Plan Modal",properties:{teamId:e,userId:t??void 0}},a.createElement(N.Rw,{confirmationTitle:M,confirmText:(0,c.t)("change_annual_plan_modal.confirm_text"),onConfirm:()=>{isNaN(A)||isNaN(T)||A<0||T<0||0===A&&0===T?P(s.s.error((0,c.t)("change_annual_plan_modal.invalid_seats_error"))):A+T>b.m?(P(s.s.error(a.createElement("div",null,(0,c.tx)("change_annual_plan_modal.contact_support_to_purchase_more_seats_error",{maxAnnualSubscriptions:b.m,contactSupportLink:a.createElement("a",{href:`mailto:${(0,i.W4)()}`},(0,c.t)("change_annual_plan_modal.contact_support_link"))})))),R(p()?.design_quantity||p()?.quantity||0),C(p()?.whiteboard_quantity||0)):T+A>100?P(m.to({type:d.Mv,data:{numAnnualEditors:A+T,onConfirm:()=>{F(A,T)}}})):P(u.MV({teamId:e,annualQuantity:A,annualWhiteboardQuantity:T}))},onCancel:()=>{P(m.Ce())},dontClose:!0,disableConfirm:l,trackedConfirmationProperties:{teamId:e,userId:t??void 0,monthly_quantity_design:A,monthly_quantity_figjam:T}},a.createElement("br",null),(0,c.tx)("change_annual_plan_modal.change_annual_plan_grace_period.seat_rename"),a.createElement("br",null),a.createElement("br",null),(()=>{let e=r.currency,t=new v.vr(e),n=o[f.ud.DESIGN].amount,i=o[f.ud.FIGJAM].amount;return a.createElement(a.Fragment,null,(0,c.tx)("change_annual_plan_modal.instructions.seat_rename",{monthlyEditorCost:t.formatMoney(n,{showCents:!1}),editorProduct:(0,x.E)(E.Te.DESIGN),monthlyFigjamCost:t.formatMoney(i,{showCents:!1}),figJamProduct:(0,x.E)(E.Te.WHITEBOARD)}))})(),a.createElement("br",null),a.createElement("br",null),a.createElement(L,{editorType:y._Y.DESIGN,tempNumEditors:A,setTempEditorsValue:e=>R(e),dispatch:P}),a.createElement(a.Fragment,null,a.createElement("br",null),a.createElement("br",null),a.createElement(L,{editorType:y._Y.WHITEBOARD,tempNumEditors:T,setTempEditorsValue:e=>C(e),dispatch:P})),a.createElement("br",null),a.createElement("br",null),a.createElement("a",{className:"change_annual_plan_modal--link--n0jw2 blue_link--blueLink--9rlnd",onClick:()=>{P(m.to({type:k.V}))}},O?(0,c.t)("change_annual_plan_modal.remove_annual_plan"):(0,c.t)("change_annual_plan_modal.dont_renew_annual_plan"))))}function R(){let e=(0,w.NP)({component:"ConfirmCancelAnnualPlanModal",migrationGroup:T.L.GROUP_5});if(!e)throw Error("Team is undefined");let t=(0,n.d4)(e=>e.teamBilling.summary.currency),r=(0,n.d4)(e=>e.payment.submitPutAnnualQuantityPending),i=S({currency:t,teamId:e}),l=(0,n.wA)(),o=new v.vr(t),s=i[f.ud.DESIGN].amount,d=i[f.ud.FIGJAM].amount;return a.createElement(N.Rw,{title:(0,c.t)("change_annual_plan_modal.cancel_annual_plan_header"),confirmText:(0,c.t)("change_annual_plan_modal.confirm_cancel_annual_plan"),cancelText:(0,c.t)("change_annual_plan_modal.nevermind"),onConfirm:()=>{l(u.MV({teamId:e,annualQuantity:0,annualWhiteboardQuantity:0}))},onCancel:()=>{l(m.to({type:k.X,data:{}}))},dontClose:!0,disableConfirm:r},a.createElement("br",null),a.createElement(a.Fragment,null,(0,c.tx)("change_annual_plan_modal.cancel_annual_plan_text.seat_rename",{monthlyEditorCost:o.formatMoney(s),monthlyFigJamEditorCost:o.formatMoney(d)})),a.createElement("br",null),a.createElement("br",null),(0,c.tx)("change_annual_plan_modal.cancel_annual_plan_subtext"))}},685399:(e,t,r)=>{r.r(t),r.d(t,{TeamChangePaymentModal:()=>T});var a=r(411855),n=r(188507),i=r(629019),l=r.n(i),o=r(981952),s=r(966712),c=r(946689),d=r(493323),m=r(154254),u=r(939863),_=r(662275),p=r(843309),f=r(176824),g=r(707465),E=r(622139),h=r(668526),y=r(585878),v=r(397477),b=r(23937);function w({currency:e,customerInfo:t,defaultCountry:r,estimatedChargeCents:i,isReactivating:f,canSeeBillingAddressExp:E}){let w=f?(0,u.t)("change_payment.success.successfully_reactivated_subscription"):(0,u.t)("change_payment.success.successfully_updated_your_payment_method"),T=(0,n.d4)(e=>(0,g.Np)(e,{view:"teamAdminConsole",teamId:t.teamId,teamAdminConsoleViewTab:h.Iv.SETTINGS})),{createPaymentElement:I,unmountPaymentElement:C,savePayment:x,billingAddress:N,updateBillingAddress:k,nameOnPaymentMethod:S,setNameOnPaymentMethod:L,paymentMethodType:A,error:R}=(0,p.Op)({setupIntentParams:{redirect_url:T,subtotal_estimate:i,success_message:w,currency:e},paymentFlowSource:p.wn.PRO_CHANGE_PAYMENT,customerInfo:t,defaultCountry:r,currency:e,canSeeBillingAddressExp:E,isCheckout:!1}),[P,F]=a.useState(!1),[O,D]=a.useState(!1),[M,B]=a.useState(window.innerHeight),U=(0,n.wA)(),V=R?.code===p.dl.UNINITIALIZED_STRIPE_ELEMENTS_ERROR,W=()=>U(_.Ce());(0,o.P)(({height:e})=>{B(e)});let H=async e=>{e&&e.preventDefault(),D(!0),await x(),D(!1)};return a.createElement(y.XV,{title:E?(0,u.t)("change_payment.update_payment_details"):(0,u.t)("change_payment.enter_payment_method"),onClose:W,maxWidth:465,headerSize:"large"},a.createElement("div",{className:l()({[b.$J]:!P,[b.Un]:V})},a.createElement("form",{onSubmit:H},a.createElement("div",{className:b.KJ,style:{maxHeight:Math.min(M-49-65,652)}},P&&E&&a.createElement("div",{className:m.cx.mb16.$},a.createElement("label",{htmlFor:"updatePaymentDetails",className:m.cx.colorTextSecondary.$},(0,s.kc)().locked_pro_team_revamp_ui_enabled?(0,u.tx)("change_payment.update_payment_details_description_default"):(0,u.tx)("change_payment.update_payment_details_description"))),a.createElement(v.F,{createPaymentElement:I,unmountPaymentElement:C,billingAddress:N,updateBillingAddress:k,nameOnPaymentMethod:S,updateNameOnPaymentMethod:L,paymentMethodType:A,error:R,isCommunityCheckout:!1,paymentElementEventHandlers:{ready:()=>F(!0)},canSeeBillingAddressExp:E,isCheckout:!1})),P&&!V&&a.createElement("div",{className:b.UD},O&&a.createElement(d.kt,{className:b.u1}),a.createElement(c.tM,{onClick:W},(0,u.tx)("change_payment.cancel")),a.createElement(c.vd,{tabIndex:0,type:"submit",disabled:O},(0,u.tx)("change_payment.save")))),V&&a.createElement(c.tM,{onClick:W},(0,u.tx)("change_payment.close_window"))))}function T({currency:e,customerInfo:t,defaultCountry:r,monthlySub:n,annualSub:i,isReactivating:l,canSeeBillingAddressExp:o}){let{estimatedDesignCost:s,estimatedWhiteboardCost:c}=(0,f.Q)({currency:e||"usd"}),d=Math.max(s(n?.design_quantity??0,E.tY.MONTHLY)+c(n?.whiteboard_quantity??0,E.tY.MONTHLY),s(i?.design_quantity??0,E.tY.ANNUAL)+c(i?.whiteboard_quantity??0,E.tY.ANNUAL));return a.createElement(w,{currency:e,customerInfo:t,defaultCountry:r,estimatedChargeCents:d,isReactivating:l,canSeeBillingAddressExp:o})}},1200:(e,t,r)=>{r.r(t),r.d(t,{ChangeVatGstIdModal:()=>y});var a=r(411855),n=r(188507),i=r(629019),l=r.n(i),o=r(915440),s=r(711525),c=r(946689),d=r(455057),m=r(939863),u=r(662275),_=r(99506),p=r(279453),f=r(585878),g=r(116240),E=r(626208);function h(e,t){return e&&"loaded"===t.status?t.data.org:e||"loaded"!==t.status?null:t.data.team}let y=a.memo(function(e){let t=(0,n.wA)(),{updateVatGstId:r}=e,i=!!e.org?.id,y=(0,o.Rs)(p.Wt6,{orgId:e.org?.id||""},{enabled:i}),v=(0,o.Rs)(p.xS7,{teamId:e.team?.id||""},{enabled:!i}),b=i?y:v,w=h(i,b),T=w?.taxIdVerificationStatus,[I,C]=a.useState(),[x,N]=a.useState(""),[k,S]=a.useState(""),[L,A]=a.useState(!1),[R,P]=a.useState({country:"",state:""}),[F,O]=a.useState(!1);a.useEffect(()=>{if(!F&&"loaded"===b.status){let e=h(i,b),t=e?(0,s.oA)(e.taxInfo):null;N(e?.vatGstId||""),S(t?.regionalVatGstId||""),A(t?.canUpdateRegionalVatGst||!1),P({country:t?.country||"",state:t?.state||""}),O(!0)}},[i,b,F]);let D=()=>{t(u.Ce())};return a.createElement(f.XV,{onClose:D,title:(0,m.t)("change_vat_gst_id.input_id"),minWidth:344,maxWidth:344,fixedTop:!0},I&&a.createElement("div",{className:"change_vat_gst_id_modal--errorBanner--sqxNt","data-testid":"change-vat-gst-id-error"},a.createElement(d._,{color:d.S.ERROR,rounded:!1,text:I})),T===_.kI.VERIFIED&&a.createElement("div",{"data-testid":"change-vat-gst-id-information"},a.createElement(d._,{color:d.S.INFORMATION,rounded:!1,text:(0,m.t)("change_vat_gst_id.tax_id_verification_succeeded")})),T===_.kI.UNVERIFIED&&a.createElement("div",{"data-testid":"change-vat-gst-id-warning"},a.createElement(d._,{color:d.S.WARNING,rounded:!1,text:(0,m.t)("change_vat_gst_id.tax_id_verification_failed")})),a.createElement("div",{className:E.Dy},a.createElement("p",{className:"change_vat_gst_id_modal--description--6gdSL"},(0,m.tx)("change_vat_gst_id.description")),a.createElement("form",{onSubmit:e=>{e.preventDefault(),r(x,e=>C(e),L?k:"").then(e=>{e&&D()})},"data-testid":"change-vat-form"},F&&a.createElement(g.A,{onChange:N,country:R.country,vatId:x,isCommunityCheckout:!1}),L&&a.createElement(g.A,{onChange:S,country:R.country,region:R.state,vatId:k,isCommunityCheckout:!1,variant:"regional"}),a.createElement("div",{className:l()(E.v0,E.hF)},a.createElement(c.vd,{className:E.pL,type:"submit",disabled:!F},(0,m.tx)("change_vat_gst_id.save_id"))))))})},815622:(e,t,r)=>{r.r(t),r.d(t,{ConfirmDowngradeModal:()=>f});var a=r(411855),n=r(188507),i=r(629019),l=r.n(i),o=r(776250),s=r(946689),c=r(939863),d=r(662275),m=r(995852),u=r(585878),_=r(626208);let p=a.memo(function(e){let t=(0,n.wA)(),{teamId:r,billingEndDate:i,exitSurveyData:p}=e.modalShown.data,f=e.teams[r],g=()=>{t(d.Ce())},E=i?(0,c.tx)("confirm_downgrade.at_the_end_of_your_current_billing_period_team_name_will_be_downgraded_to_our_free_starter_plan",{teamName:f.name,billingEndDate:i}):(0,c.tx)("confirm_downgrade.on_your_next_billing_date_team_name_will_be_downgraded_to_our_free_starter_plan",{teamName:f.name});return a.createElement(u.XV,{onClose:g,title:(0,c.t)("confirm_downgrade.cancel_professional_plan"),minWidth:344,maxWidth:344,dataTestId:"downgrade-confirmation-modal",fixedTop:!0},a.createElement("div",{className:_.Dy},a.createElement("p",null,E),a.createElement("div",{className:l()(_.v0,_.hF)},a.createElement(s.tM,{onClick:g},(0,c.tx)("confirm_downgrade.go_back")),a.createElement(s.qM,{className:_.pL,onClick:()=>{p&&(0,o.sx)("Team Downgrade Survey",{...p,selectedOptions:p.selectedOptions.map(e=>JSON.stringify(e))}),t(d.Ce()),t(m.Wc({teamId:r}))}},(0,c.tx)("confirm_downgrade.finish_cancellation")))))});function f(e){return a.createElement(p,{...e})}},604019:(e,t,r)=>{r.r(t),r.d(t,{ProCostBreakdown:()=>b,ProCostBreakdownModal:()=>w});var a=r(411855),n=r(188507),i=r(752553),l=r(939863),o=r(662275),s=r(710667),c=r(304769),d=r(13513),m=r(99506),u=r(820113),_=r(984968),p=r(135163),f=r(585878);let g="cost_breakdown--row--6-9Kd",E="cost_breakdown--primary--miID8",h="cost_breakdown--secondary---4QGG",y="cost_breakdown--currency--gqS1S";function v(e){let t=new u.vr(e.currency),r=t.formatMoney(e.whiteboardCostAnnual),n=t.formatMoney(e.whiteboardCostMonthly),i=(0,l.t)("org_admin_settings.cost_breakdown.seats",{seats:e.whiteboardSeatsMonthly}),o=(0,l.t)("org_admin_settings.cost_breakdown.seats",{seats:e.whiteboardSeatsAnnual}),s=(0,l.t)("org_admin_settings.cost_breakdown.12_months");return a.createElement(a.Fragment,null,e.whiteboardSeatsAnnual>0&&a.createElement("div",{className:g,"data-testid":"cost-breakdown-row-figjam-annual"},a.createElement("div",{className:E},a.createElement("span",null,(0,l.tx)("org_admin_settings.cost_breakdown.whiteboard_seats_annual_annual_fig_jam_editor_seats.seat_rename",{whiteboardSeatsAnnual:e.whiteboardSeatsAnnual})),a.createElement("span",{className:y},r)),a.createElement("div",{className:h},(0,l.tx)("org_admin_settings.cost_breakdown.cost_breakdown_string_triple",{cost:t.formatMoney(e.annualMonthlyAmount),seats:o,numMonths:s}))),e.whiteboardSeatsMonthly>0&&a.createElement("div",{className:g,"data-testid":"cost-breakdown-row-figjam-monthly"},a.createElement("div",{className:E},a.createElement("span",null,(0,l.tx)("org_admin_settings.cost_breakdown.whiteboard_seats_monthly_monthly_fig_jam_editor_seats.seat_rename",{whiteboardSeatsMonthly:e.whiteboardSeatsMonthly})),a.createElement("span",{className:y},n)),a.createElement("div",{className:h},(0,l.tx)("org_admin_settings.cost_breakdown.cost_breakdown_string_double",{cost:t.formatMoney(e.monthlyAmount),seats:i}))))}function b(e){let t=e.currency,r=new u.vr(t),n=e.nDesignEditorsMonthly,i=e.nDesignEditorsAnnual,o=e.nWhiteboardEditorsMonthly,s=e.nWhiteboardEditorsAnnual,c=e.nFigjamEditors,d=e.whiteboardCotermUpgrades,m=d?.amount||0,_=r.formatMoney(m),p=e.designCotermUpgrades,f=12*e.annualMonthlyDesignAmount*e.nDesignEditorsAnnual,b=e.monthlyDesignAmount*e.nDesignEditorsMonthly,w=f+b,T=r.formatMoney(f),I=r.formatMoney(b),C=p?.amount||0,x=r.formatMoney(C),N=12*e.annualMonthlyFigjamAmount*s,k=e.monthlyFigjamAmount*o,S=N+k,L=r.formatMoney(w+S+C+m),A=(0,l.t)("org_admin_settings.cost_breakdown.seats",{seats:n}),R=(0,l.t)("org_admin_settings.cost_breakdown.seats",{seats:i}),P=(0,l.t)("org_admin_settings.cost_breakdown.12_months");return a.createElement("div",{className:"cost_breakdown--container--wwGb0"},i>0&&a.createElement("div",{className:g,"data-testid":"cost-breakdown-row-design-annual"},a.createElement("div",{className:E},a.createElement("span",null,(0,l.tx)("org_admin_settings.cost_breakdown.design_seats_annual_annual_design_editor_seats.seat_rename",{designSeatsAnnual:i})),a.createElement("span",{className:y},T)),a.createElement("div",{className:h},(0,l.tx)("org_admin_settings.cost_breakdown.cost_breakdown_string_triple",{cost:r.formatMoney(e.annualMonthlyDesignAmount),seats:R,numMonths:P}))),n>0&&a.createElement("div",{className:g,"data-testid":"cost-breakdown-row-design-monthly"},a.createElement("div",{className:E},a.createElement("span",null,(0,l.tx)("org_admin_settings.cost_breakdown.design_seats_monthly_monthly_design_editor_seats.seat_rename",{designSeatsMonthly:n})),a.createElement("span",{className:y},I)),a.createElement("div",{className:h},(0,l.tx)("org_admin_settings.cost_breakdown.cost_breakdown_string_double",{cost:r.formatMoney(e.monthlyDesignAmount),seats:A}))),a.createElement(v,{whiteboardSeatsMonthly:o,whiteboardSeatsAnnual:s,whiteboardCostMonthly:k,whiteboardCostAnnual:N,figjamSeats:c,currency:t,annualMonthlyAmount:e.annualMonthlyFigjamAmount,monthlyAmount:e.monthlyFigjamAmount}),p&&p.quantity>0&&p.amount>0&&a.createElement("div",{className:g},a.createElement("div",{className:E},a.createElement("span",null,(0,l.tx)("org_admin_settings.cost_breakdown.design_seats_monthly_cotermed_design_editor_seats.seat_rename",{seatsCotermed:p.quantity})),a.createElement("span",{className:y},x))),d&&d.quantity>0&&d.amount>0&&a.createElement("div",{className:g},a.createElement("div",{className:E},a.createElement("span",null,(0,l.tx)("org_admin_settings.cost_breakdown.whiteboard_seats_monthly_cotermed_whiteboard_editor_seats.seat_rename",{seatsCotermed:d.quantity})),a.createElement("span",{className:y},_))),a.createElement("div",{className:"cost_breakdown--divider--GRAn-"}),a.createElement("div",{className:"cost_breakdown--total--a6sZV"},a.createElement("div",null,(0,l.tx)("org_admin_settings.cost_breakdown.total")),a.createElement("div",{className:y},L)))}function w(e){let t=(0,n.wA)(),r=(0,_.cD)(),l=d.Oq.exclude([c.ud.DEV_MODE]).dict(t=>({currency:e.currency,billableProductKey:t,tier:p.Ju.PRO,renewalTerm:p.IX.MONTH,unit:p.IX.MONTH})),u=d.Oq.exclude([c.ud.DEV_MODE]).dict(t=>({currency:e.currency,billableProductKey:t,tier:p.Ju.PRO,renewalTerm:p.IX.YEAR,unit:p.IX.MONTH})),[g,E]=(0,i.mI)((0,s.ic)(l,{planParentId:r,planType:m.OL.TEAM},s.Fq.ADMIN_SETTINGS),(0,s.ic)(u,{planParentId:r,planType:m.OL.TEAM},s.Fq.ADMIN_SETTINGS));if(null===g.data||null===E.data)throw Error("Price data is null");let h=g.data[c.ud.DESIGN].amount,y=g.data[c.ud.FIGJAM].amount,v=E.data[c.ud.DESIGN].amount,w=E.data[c.ud.FIGJAM].amount;return a.createElement(f.XV,{onClose:()=>t(o.Ce()),title:e.title,minWidth:341,maxWidth:341},a.createElement(b,{currency:e.currency,nDesignEditorsAnnual:e.nDesignEditorsAnnual,nDesignEditorsMonthly:e.nDesignEditorsMonthly,nFigjamEditors:e.nFigjamEditors,nWhiteboardEditorsAnnual:e.nWhiteboardEditorsAnnual,nWhiteboardEditorsMonthly:e.nWhiteboardEditorsMonthly,designCotermUpgrades:e.designCotermUpgrades,whiteboardCotermUpgrades:e.whiteboardCotermUpgrades,monthlyDesignAmount:h,monthlyFigjamAmount:y,annualMonthlyDesignAmount:v,annualMonthlyFigjamAmount:w}))}},648139:(e,t,r)=>{r.r(t),r.d(t,{TeamPermissionsModal:()=>eA});var a=r(411855),n=r(188507),i=r(729064),l=r(140593),o=r(776250),s=r(133537),c=r(498750),d=r(915440),m=r(742808),u=r(493323),_=r(939863),p=r(824520),f=r(761273),g=r(662275),E=r(672517),h=r(594901),y=r(860178),v=r(99506),b=r(279453),w=r(540019),T=r(643067),I=r(243987),C=r(147206),x=r(297536),N=r(428467),k=r(416618),S=r(389643),L=r(206193),A=r(668860),R=r(501256),P=r(764299),F=r(585878),O=r(24791),D=r(268787),M=r(800535),B=r(479842),U=r(944175),V=r(421063),W=r(880618),H=r(794094),$=r(163023),j=r(928491),G=r(881816),Y=r(561916),z=r(816985),q=r(553551),Q=r(761382),K=r(68188);function X(e){let t=e.canAdmin,r=a.createElement($.B,{className:z.wk,svg:Q.A});e.sharingAudienceControl===v.PQ.ORG_EDIT||e.sharingAudienceControl===v.PQ.ORG_VIEW?r=a.createElement("div",{className:z.AA},a.createElement($.B,{svg:K.A})):(e.sharingAudienceControl===v.PQ.WORKSPACE_EDIT||e.sharingAudienceControl===v.PQ.WORKSPACE_VIEW)&&(r=a.createElement("div",{className:z.AA},e.workspace&&a.createElement(j.z6,{entity:e.workspace,size:24})));let n=e.sharingAudienceControl===v.PQ.INVITE_ONLY&&e.isTeamOrgBrowsable,i=n?z.Fl:z.Jt;return a.createElement("div",{className:t?i:z.zn,onClick:t?()=>e.changeModalView(1):void 0,role:"button","data-onboarding-key":G.F,tabIndex:0},r,a.createElement("div",{className:z.$S},a.createElement("div",null,e.sharingAudienceControl&&(0,Y.ET)(e.sharingAudienceControl,e.org,e.workspace),n&&a.createElement("div",{className:z.JZ},(0,_.t)("team_creation.anyone_can_find_this_team"))),e.org&&a.createElement("div",{className:z.j7,"data-onboarding-key":G.F},e.sharingAudienceControl&&(0,Y.mi)(e.sharingAudienceControl),t&&a.createElement($.B,{svg:q.A,className:z.$w}),t&&a.createElement(G.j,null))))}var Z=r(838516),J=r(187134),ee=r(196367),et=r(57860),er=r(75395),ea=r(463033),en=r(862350),ei=r(951792),el=r(288006),eo=r(538082),es=r(268537),ec=r(964389),ed=r(468557),em=r(738269),eu=r(331363),e_=r(336599),ep=r(937890),ef=r(498606),eg=r(237870),eE=r(298543);let eh="team_join_link_permissions--loadedViewWrapper--LjAIr";var ey=r(289298);let ev=(0,Z.s)((e,t,r)=>e(eu.do({teamId:t,level:r}))),eb=(0,n.Ng)((e,t)=>({teamJoinLinks:e.teamJoinLinks,loadingState:e.loadingState,canAdmin:(0,N.hasAdminRoleAccessOnTeam)(t.teamId,e),canEdit:(0,N.hasEditorRoleAccessOnTeam)(t.teamId,e)}),null,(e,t,r)=>({isInLoadingState:function(e,t,r){let a=!(0,e_.VP)(t,(0,ep.OL)(e))&&!(0,e_.aF)(t,(0,ep.OL)(e))&&!r;return(0,e_.VP)(t,(0,ep.OL)(e))||(0,e_.VP)(t,eu.ui.loadingKeyForPayload({teamId:e}))||(0,e_.VP)(t,(0,ep._M)(e))||a}(r.teamId,e.loadingState,e.teamJoinLinks),...e,...r,...t}))(function(e){let{dispatch:t,teamId:r,initialInviteLevel:n,canAdmin:i,canEdit:l}=e,[o,s]=(0,a.useState)(n);if((0,a.useEffect)(()=>(ev(t,r,n),()=>{t(eu.F1(null))}),[t,r,n]),!e.isInLoadingState&&!e.teamJoinLinks||!i&&e.teamJoinLinks?.disabled)return null;let c=l&&!!e.teamJoinLinks?.url;return a.createElement(a.Fragment,null,a.createElement("div",{style:c?{justifyContent:"space-between"}:{justifyContent:"flex-start",marginTop:"8px"},className:"team_join_link_permissions--inviteLinkTitleWrapper--LSkbL"},a.createElement("span",{className:"team_join_link_permissions--inviteHeader--80xpy"},(0,_.tx)("team_join_links.invite_link")),c&&a.createElement(ew,{dropdownShown:e.dropdownShown,resetInviteLinks:()=>{t(g.$O({type:eC,data:{resetLink:()=>{t(eu.Nw({teamId:r,level:o,shouldShowVisualBell:!0}))}}}))},disableInviteLinks:()=>t(eu.ui({teamId:r})),loading:e.isInLoadingState,canAdmin:i})),e.isInLoadingState||e.teamJoinLinks?.url?a.createElement(eT,{dropdownShown:e.dropdownShown,setLevel:e=>{o!==e&&(s(e),t(eu.do({teamId:r,level:e,shouldShowFailureMessage:!0,callbackOnFailure:()=>s(o)})))},currentLevel:o,url:e.isInLoadingState?void 0:e.teamJoinLinks?.url,inviteLevels:l?[A.e6.VIEWER,A.e6.EDITOR]:[A.e6.VIEWER],teamId:e.teamId}):a.createElement(eI,{turnOnInviteLinks:()=>t(eu.Nw({teamId:r,level:o}))}))});function ew(e){let t=(0,n.wA)(),r="team-link-settings-dropdown",i=a.createRef(),l=()=>e.dropdownShown?.type===r;return a.createElement(J.o,{eventListeners:["onMouseDown"]},a.createElement("div",{ref:i},a.createElement(ee.d,{toggled:l(),disabled:e.loading,"aria-label":(0,_.t)("team_join_links.team_invite_link_settings"),onClick:()=>{let e=i.current?.getBoundingClientRect();l()?t(em.oB()):e&&t(em.j7({type:r,data:{targetRect:e}}))},htmlAttributes:{"data-tooltip-type":ef.Ib.TEXT,"data-tooltip":(0,_.t)("team_join_links.team_invite_link_settings")}},a.createElement(eo.P,null))),l()&&a.createElement(eE.Cf,{targetRect:e.dropdownShown.data.targetRect,maxWidth:140,minWidth:140,lean:"left",propagateCloseClick:!0},a.createElement(es.c$,{onClick:e.resetInviteLinks},(0,_.tx)("team_join_links.reset_invite_links")),e.canAdmin&&a.createElement(es.c$,{onClick:e.disableInviteLinks},(0,_.tx)("team_join_links.turn_off_invite_links"))))}function eT(e){let t=(0,n.wA)(),r="join-link-permission-level-dropdown",i=e.currentLevel===A.e6.VIEWER?"-32px":"-61px";return a.createElement("div",{className:eh},a.createElement("div",{className:"team_join_link_permissions--linkAndDropdown--dOdkB"},a.createElement("span",{className:"team_join_link_permissions--urlSection--fh6VF"},!e.url&&a.createElement(et.k,null),e.url&&a.createElement("span",{className:"team_join_link_permissions--urlText--jcjRH ellipsis--ellipsis--Tjyfa"},e.url)),a.createElement("div",null,a.createElement(er.E,{onClick:a=>{a.stopPropagation(),e.url&&(e.dropdownShown?t(em.oB()):t(em.j7({type:r})))},className:"team_join_link_permissions--permissionLevelDropdown--xuQLz role_row--select--6VpSS"},a.createElement("span",null,(0,C.C1)(e.currentLevel)),a.createElement("div",{className:"team_join_link_permissions--caretWrapper--OXpki role_row--caretWrapper--P1Mak"},a.createElement($.B,{svg:ey.A}))),e.dropdownShown&&e.dropdownShown.type===r&&a.createElement(es.ms,{className:"team_join_link_permissions--permissionLevelDropdownOptions--cgu-T",style:{marginTop:i}},e.inviteLevels.map((t,r)=>a.createElement(es.MM,{key:r,checked:t===e.currentLevel,onClick:()=>e.setLevel(t)},(0,C.C1)(t)))))),a.createElement(ea.$n,{onClick:()=>{e.url&&t(eu.LN({teamId:e.teamId,url:e.url,source:eu.Kq.TEAM_PERMISSIONS_MODAL}))},disabled:!e.url},(0,_.tx)("team_join_links.copy_link")))}function eI(e){return a.createElement("div",{className:eh},(0,_.tx)("team_join_links.share_a_secret_link_people_can_use_to_join_your_team")," ",a.createElement(ed.Ph,{href:"#",onClick:e.turnOnInviteLinks},(0,_.tx)("team_join_links.turn_on_invite_links")))}let eC="RESET_LINKS_CONFIRMATION_MODAL";(0,eg.Ju)(function(e){let t=(0,n.wA)(),r=en.hS(e);return a.createElement(ei.bL,{width:"md",manager:r},a.createElement(el.vo,null,a.createElement(el.Y9,null,a.createElement(el.hE,null,(0,_.tx)("team_join_links.reset_invite_links"))),a.createElement(el.nB,null,(0,_.tx)("team_join_links.modal_description")),a.createElement(el.wi,null,a.createElement(el.jk,null,a.createElement(ec.$z,{variant:"secondary",onClick:()=>t(g.Lo())},(0,_.tx)("team_join_links.cancel")),a.createElement(ec.$z,{variant:"destructive",onClick:()=>{e.resetLink(),t(g.Lo())}},(0,_.tx)("team_join_links.reset_links"))))))},eC);var ex=r(839957),eN=r(1700),ek=r(305312);let eS={domains:[],isFetching:!1,fetchedAt:null},eL=a.memo(function({roles:e,virtualItems:t,totalSize:r,user:n,parentOrg:i,permissionState:l,team:o,teamOrgDomains:s,canMakeAdmin:c}){let d=a.useMemo(()=>({team:o,type:v.vt.TEAM}),[o]);return a.createElement("div",{style:{height:`${r}px`,position:"relative"}},t.map(t=>{let r=t.index,m=e[r];return a.createElement(ex.O,{key:`role-row-${r}`,role:m,user:n,currentUserOrgId:i?.id??null,isOwnerOfResource:(0,N.isResourceOwner)(n.id,o.id,v.vt.TEAM,l.roles),isOrgUser:!!m.org_user,currentOrg:i,resourceName:o.name,resource:d,canEditRole:(0,N.canEditTeamRole)(m,l),canMakeAdmin:c,readOnlyOverrideWarningMessage:null,orgDomains:s,virtualRowItem:t})}))});function eA({teamId:e,initialInviteLevel:t,prepopulateEmail:r,initialView:$}){let j,G=(0,n.wA)(),Y=(0,y.Pc)(),z=(0,n.d4)(e=>e.autocomplete),q=(0,n.d4)(e=>e.contacts),Q=(0,n.d4)(e=>e.dropdownShown),K=(0,h.FC)(),Z=w.M4.Team.useValue(e).data,J=(0,d.Rs)(b.GyZ,{teamId:e}),ee=(0,d.Rs)(b.H1b,{teamId:e});(0,m.I)("loaded"===J.status&&"loaded"===ee.status,e=>{let t=ee.data?.team?.roles?.length??0,r="unknown";r=t<=100?"small":t<=300?"medium":"large",(0,o.sx)("share_modal_latency",{latency_ms:e,modal_type:"team",is_outlier:e>500,role_size:r},{forwardToDatadog:!0})});let et=(0,a.useMemo)(()=>(0,x.X)(J),[J]),er=(0,a.useMemo)(()=>(0,x.SN)(ee),[ee]),ea=et&&et.org,en=et&&et.teamSharingSettings,ei=et&&et.orgUser,el=ea?ea.id:null,eo=et&&et.workspace,es=ea&&ea.org_domains?ea.org_domains:eS,ec=a.useMemo(()=>er?.sort((e,t)=>e.pending===t.pending?eN.E4(e,q).toLocaleLowerCase()<eN.E4(t,q).toLocaleLowerCase()?-1:1:e.pending?1:-1)??[],[q,er]),ed=et&&et.pendingTeamRoleRequests?et.pendingTeamRoleRequests:[];(0,a.useEffect)(()=>{G(f.um())},[G]);let em=e=>t||(!(0,I.w5)(Z)&&e?A.e6.EDITOR:A.e6.VIEWER),[eu,e_]=(0,a.useState)(()=>em((0,N.canEditTeam)(e,K))),ep=(0,a.useCallback)(e=>(0,x.yI)(e,q.usersByEmail[e]||e,ea,es,Y.email),[q.usersByEmail,es,Y.email,ea]);(0,a.useEffect)(()=>{if(r){let e=ep(r);G(p.hZ({tokens:[e],inputValue:"",errorMessage:""}))}},[r,ep,G]);let ef=e=>{e_(e)},eg=e=>(0,x.t9)(e,ea,es),eE=t=>{let r=(0,R.Z)(t);G((0,k.rq)({emails:r,resourceType:v.vt.TEAM,resourceIdOrKey:e,level:eu,emailsToExclude:(0,S.bp)(q.usersByEmail,Y,ec),onSuccess:({invites:e,over_editor_limit:t})=>{if(eu>=A.e6.EDITOR&&t){let t=(0,N.getResourceTeamId)(e[0],K),r=t&&{...K.teams[t],canEdit:(0,N.canEditTeam)(t,K),canAdmin:(0,N.canAdminTeam)(t,K)};G(g.to({type:O.oE,data:{team:r,invitesSent:e.length,editorType:null,upsellSource:L.b.ADD_EDITOR}}));return}},source:"team_share_modal",orgName:ea?ea.name:void 0}))},eh=e=>{if(ea&&ea.domain_capture&&es&&es.domains.length>0){let t=(0,R.Z)(e).filter(e=>(0,s.xf)(e)&&!(0,T.H_)(es.domains,e));if(ea?.invite_whitelist_guest_invite_setting==null&&t.length>0){G(g.to({type:B.F,data:{emails:t,onConfirm:()=>{eE(e)},popStack:!0,orgName:ea.name}}));return}}eE(e)},ey=()=>{G(g.Ce()),G(p.cL())},ev=e=>{e.keyCode!==c.Uz.ESCAPE&&e.stopPropagation()},ew=(0,N.canEditTeam)(e,K),eT=(0,N.canViewTeam)(e,K),eI=(0,N.canAdminTeam)(e,K),[eC,ex]=a.useState($||0),eA=()=>0===eC?a.createElement("div",{className:ek.DA},a.createElement("p",null,(0,_.tx)("team_view.team_permissions_modal.share_this_team"))):a.createElement(V.w,{title:(0,_.t)("team_view.team_permissions_modal.share_settings"),onClick:()=>ex(0)}),eR=!!Z&&!Z.org_id,{sharingSuggestions:eP,sharingSuggestionIdsToExclude:eF,sharingSuggestionEmailsToExclude:eO}=(0,W.$)({orgId:el,teamId:e,contacts:q.usersByEmail,roles:ec,user:Y,autocompleteTokens:z.tokens}),eD=a.useCallback(()=>36,[]),eM=a.useRef(null),eB=(0,i.z)({size:ec.length,parentRef:eM,estimateSize:eD,overscan:10,paddingStart:0});return j=Z?0===eC?(()=>{if(!et)return a.createElement("div",{className:ek.Lq},a.createElement(u.qc,null));let t=[];return eI&&t.push(A.e6.ADMIN),ew&&t.push(A.e6.EDITOR),eT&&t.push(A.e6.VIEWER),(0,l.KF)(t.length>0,"there should be at least one role (the user's own)"),a.createElement(a.Fragment,null,a.createElement("div",{key:"container",className:ek.SS,onKeyDown:ev},eR&&a.createElement(a.Fragment,null,a.createElement(eb,{teamId:e,dropdownShown:Q,initialInviteLevel:em(ew)}),a.createElement("div",{className:ek.Vq},(0,_.tx)("team_view.team_permissions_modal.invite_by_email"))),!!et?.canAdmin&&a.createElement(U.$i,{teamId:e,teamRoleRequests:ed,teamRoles:ec}),(0,M.r)(Y)?a.createElement(M.X,{resourceType:"team"}):a.createElement(a.Fragment,null,a.createElement("div",{className:ek.Zk},a.createElement(P.e,{autocomplete:z,buttonText:(0,_.t)("team_view.team_permissions_modal.invite"),dispatch:G,dropdownKey:"permissions-invite-dropdown",dropdownShown:Q,hideDropdownOnEmpty:!0,inviteLevel:eu,getSelectText:C.C1,onInviteLevelChange:ef,options:t,onSubmit:eh,searchResultToken:eg,getSearchResults:t=>(0,S.Wj)(t,q.usersByEmail,Y,ec,el,e,null,ei?.permission===v._D.GUEST),validateToken:ep,TokenComponent:D.g,SearchResultComponent:D.o,joinLinkShown:eR,shouldAutoFocus:!eR,onHideModal:ey,placeholderText:(0,_.t)("team_creation.add_a_name_or_email")})),a.createElement(W.t,{suggestions:eP??void 0,autocomplete:z,searchResultToken:eg,resourceType:"team",resourceId:e,idsToExclude:eF??void 0,emailsToExclude:eO??void 0})),ea&&a.createElement("div",{className:ek.st,ref:eM},a.createElement("div",{className:ek.d3},a.createElement("div",{className:ek.eF},(0,_.t)("file_permissions_modal.who_has_access")),a.createElement(X,{team:Z,workspace:eo,org:ea,changeModalView:ex,sharingAudienceControl:en?.sharingAudienceControl,isTeamOrgBrowsable:en?.orgBrowsable,canAdmin:!!et?.canAdmin}),a.createElement(eL,{roles:ec,virtualItems:eB.virtualItems,totalSize:eB.totalSize,user:Y,parentOrg:ea,permissionState:K,team:Z,teamOrgDomains:es,canMakeAdmin:!!et?.canAdmin})))))})():ea?en&&a.createElement(H.nH,{team:Z,workspace:eo||void 0,org:ea,teamSharingSettings:en,hideModal:ey,goBack:()=>ex(0)}):a.createElement(a.Fragment,null):a.createElement(u.qc,null),a.createElement(E.fu,{name:"Share Modal",properties:{resourceType:v.vt.TEAM,resourceId:e}},a.createElement(F.XV,{title:a.createElement(a.Fragment,null,eA()),maxWidth:eR?484:x.k4,fixedTop:!0,onClose:ey},j))}},937106:(e,t,r)=>{r.r(t),r.d(t,{TeamRenameModal:()=>c});var a=r(411855),n=r(188507),i=r(939863),l=r(964258),o=r(851363),s=r(353265);function c({team:e}){let t=(0,n.wA)();return a.createElement(s.c,{initialName:e.name,maxLength:o.qg,placeholder:(0,i.t)("resource_rename_modal.team.placeholder"),submitText:(0,i.t)("resource_rename_modal.team.submit"),onRename:r=>t((0,l.IA)({team:e,name:r}))})}},959603:(e,t,r)=>{let a;r.r(t),r.d(t,{FileBrowserView:()=>xK});var n,i=r(411855),l=r(188507),o=r(627776),s=r(517333),c=r(737947),d=r(320063),m=r(358145),u=r(966712),_=r(752553),p=r(860601),f=r(563706),g=r(218881),E=r(250881),h=r(884243),y=r(238879),v=r(966420),b=r(371740),w=r(274990),T=r(243763),I=r(845263),C=r(140593),x=r(858977),N=r(154254),k=r(939863),S=r(809840),L=r(210049),A=r(300187),R=r(243058),P=r(498750),F=r(192437),O=r(687918),D=r(629019),M=r.n(D),B=r(402838),U=r(564780),V=r(225868),W=r(349410),H=r(988022),$=r(723245),j=r(688083),G=r(488983),Y=r(694687),z=r(860178),q=r(801387),Q=r(417908),K=r(931964),X=r(392340),Z=r(832568),J=r(711525),ee=r(946689),et=r(922790),er=r(493323),ea=r(355819),en=r(428322),ei=r(163023),el=r(501114),eo=r(181912),es=r(418956),ec=r(151109),ed=r(101505),em=r(456104),eu=r(582947),e_=r(596607),ep=r(397065),ef=r(340514),eg=r(493364),eE=r(463546);let eh="seen_org_admin_moved_unassigned_drafts_onboarding",ey=(0,eo.A)("2024-10-15").startOf("day"),ev=(0,eu.r1)(eh);function eb(){let e=(0,es.md)(ev),{show:t,isShowing:r,complete:a}=(0,em.e)({overlay:eE.rv,priority:ep.N.DEFAULT_MODAL},[e]),n=(0,l.d4)(e=>(0,e_.xw)(e)),o=n?.created_at,s=!!o&&(0,eo.A)(o).isSameOrAfter(ey);return(0,d.h)(()=>{t({canShow:e=>!(e||s)})}),i.createElement(ef.rq,{clickOutsideToHide:!0,arrowPosition:eg.F_.LEFT_TITLE,isShowing:r,targetKey:ec.sm,trackingContextName:ec.o8,title:(0,k.tx)("org_admin_onboarding.tooltip.moved_unassigned_drafts.title"),description:(0,k.tx)("org_admin_onboarding.tooltip.moved_unassigned_drafts.body"),primaryCta:{label:(0,k.tx)("general.got_it"),type:"button",onClick:a,ctaTrackingDescriptor:ed.c.DONE},secondaryCta:{label:(0,k.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/4420549259799",ctaTrackingDescriptor:ed.c.LEARN_MORE},onClose:a,userFlagOnShow:eh,shouldCenterArrow:eg.EL.FALLBACK})}var ew=r(896474),eT=r(948118),eI=r(738269),eC=r(611978);function ex(){let e=(0,l.wA)(),t=(0,eC.z3)();return i.createElement(eT.Z,{onClick:()=>{e(eI.$T({view:"recentsAndSharing"})),e(eI.Oe({clickedResourceType:"recentsAndSharing"}))},isSelected:"recentsAndSharing"===t,icon:i.createElement(ew.In,{icon:"recent-16"}),text:i.createElement(S.E,{truncate:!0},(0,k.tx)("sidebar.recents"))})}var eN=r(54552),ek=r(931828),eS=r(6949),eL=r(594901),eA=r(99506),eR=r(643067),eP=r(164249),eF=r(207286),eO=r(396147),eD=r(731706),eM=r(182550),eB=r(342691);function eU(e){let t,r;return(0,W.Cv)()()?(t=i.createElement("div",{className:N.cx.h24.w24.$},i.createElement(eM.I,null)),r=i.createElement(eV,{badge:e.badge})):(t=i.createElement(ew.In,{icon:"settings-16"}),r=e.badge),i.createElement(eT.Z,{rowClassName:"go_to_admin_row--goToAdminRow--OPVDe",icon:t,text:i.createElement("div",{className:N.cx.pr36.$,"data-onboarding-key":e.dataOnboardingKey},i.createElement(S.E,{truncate:!0},(0,k.tx)("sidebar.admin_dashboard"))),isSelected:e.isSelected,onClick:e.onClick,badge:r,dataTestId:e.dataTestId})}function eV(e){return i.createElement(i.Fragment,null,i.createElement("div",{className:"go_to_admin_row--badgeContainer--U08cW"},e.badge),i.createElement("div",{className:"go_to_admin_row--iconContainer--tEzjQ"},i.createElement(eB.a,null)))}var eW=r(578585),eH=r(753757),e$=r(698812),ej=r(227544),eG=r(421234),eY=r(860529),ez=r(186828),eq=r(155367),eQ=r(352898);function eK(e){let t=(0,l.wA)(),r=e.orgUser.permission===eA._D.ADMIN,a=(0,e$.RG)(),n=(0,e$.MX)(),{groupsUserIsAdminOf:o}=(0,e$.EQ)(n,e.orgUser.user_id,!r),s=(0,eF.Xf)(e.org.id),c="loaded"===s.status?s.data?.invoices??[]:void 0;i.useEffect(()=>{t(eW.Jt({forceRefetch:!1}))},[t,e.org.id]);let{groupsToReview:d}=(0,e$.Cz)(o,c),m=o[0]?.id,u=e.org.bigma_enabled&&a&&!!m,_=(0,q.NJ)(e.org.id).data??[],p=e.org.bigma_enabled&&_.length>0,f=(0,eG.of)(),g=(0,eO.ZY)({isIntendedAudience:e.org.bigma_enabled&&!r});if(!(r||u||p))return null;let E=function(e){switch(e.view){case"orgAdminSettings":case"billingGroupDashboard":return!0;case"licenseGroup":return e.subView===ez.GN.ADMIN;case"workspace":return e.subView===eQ.V0.ADMIN;default:return!1}}(e.selectedView),h=i.createElement(eD.Mn,{org:e.org,orgUser:e.orgUser,selectedView:e.selectedView,isSelected:E});return i.createElement(eU,{badge:h,onClick:()=>{let e=c&&(0,ej.hX)(c);if(r){let e=eq.J7.DASHBOARD;t(eI.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:e})),t(eI.Oe({clickedResourceType:"orgAdminSettings"}))}else u?g?t(eI.$T({view:"billingGroupDashboard",selectedTab:eY.D.REQUESTS})):(t(eI.$T({view:"licenseGroup",subView:ez.GN.ADMIN,licenseGroupId:e&&d.length>0?d[0].id:m,selectedTab:(0,eH.g)(e&&d.length>0?ez.RM.MEMBERS:ez.Uu[0])})),t(eI.Oe({clickedResourceType:"licenseGroupAdminSettings"}))):p&&(t(eI.$T({view:"workspace",subView:eQ.V0.ADMIN,workspaceId:_[0].id,selectedTab:f()})),t(eI.Oe({clickedResourceType:"workspaceAdminSettings"})))},dataTestId:"admin-settings-link",dataOnboardingKey:ec.sm,isSelected:E})}var eX=r(507877);function eZ(e){let t=(0,l.d4)(e=>e.currentTeamId),r=(0,l.wA)();return t?i.createElement(eT.Z,{isSelected:e.selectedView&&"team"===e.selectedView.view,onClick:()=>{r(eX.dm(t)),r(eI.Oe({clickedResourceType:"allProjects"}))},"data-onboarding-key":"ALL_PROJECTS_LINK_ONBOARIND_KEY",icon:i.createElement(ew.In,{icon:"grid-32"}),text:i.createElement(S.E,{truncate:!0},(0,k.tx)("sidebar.all_projects"))}):null}var eJ=r(928491);function e0(e){let t=(0,l.wA)(),r=(0,eC._6)(),a="workspace"===r.view&&r.workspaceId===e.workspace.id&&r.subView===eQ.V0.DIRECTORY;return i.createElement(eT.Z,{isSelected:a,onClick:()=>{t(eI.$T({view:"workspace",workspaceId:e.workspace.id,selectedTab:eQ.dN.TEAMS,subView:eQ.V0.DIRECTORY})),t(eI.Oe({clickedResourceType:"workspace",resourceIdOrKey:e.workspace.id}))},icon:i.createElement(eJ.z6,{entity:e.workspace,size:16}),text:i.createElement(S.E,{truncate:!0},e.workspace.name),"data-onboarding-key":e.dataOnboardingKey})}var e1=r(723239);let e2="seen_sidebar_workspace_link_onboarding",e4="sidebar_workspace_link_onboarding";function e8(){let e=(0,eu.r1)(e2),t=(0,es.md)(e),r=(0,es.md)(e1.Fy),{show:a,isShowing:n,complete:l}=(0,em.e)({overlay:eE.Tp6,priority:ep.N.DEFAULT_MODAL},[t,r]);return(0,d.h)(()=>{a({canShow:(e,t)=>!e&&t})}),i.createElement(ef.rq,{isShowing:n,trackingContextName:"sidebar-workspace-link-onboarding",targetKey:e4,title:(0,k.tx)("sidebar.workspaces.onboarding_title"),description:(0,k.tx)("sidebar.workspaces.onboarding_description"),emphasized:!0,primaryCta:{label:(0,k.tx)("general.done"),ctaTrackingDescriptor:ed.c.DONE,type:"button",onClick:l},secondaryCta:{label:(0,k.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/7576392133527-Guide-to-workspaces",ctaTrackingDescriptor:ed.c.LEARN_MORE},userFlagOnShow:e2,onClose:l,arrowPosition:eg.F_.LEFT_TITLE,clickOutsideToHide:!0,disableHighlight:!0})}var e5=r(140908),e3=r(556261);let e9="sidebar--section--COZVK",e6="sidebar--loading--AITp2",e7="sidebar--divider--sHsz4";function te({userStateLoaded:e,sidebarUser:t}){let r=(0,e3.pT)(),a=(0,e5.x1)(),n=t?.baseOrgUser?.permission===eA._D.GUEST,l=t?.baseOrgUser?.workspaceUsers?.find(e=>e.isMainWorkspace)?.workspace;return!l||n||!r||a()?null:e?i.createElement(i.Fragment,null,i.createElement(e8,null),i.createElement(e0,{workspace:l,dataOnboardingKey:e4})):i.createElement("div",{className:e6},i.createElement(er.kt,null))}var tt=r(576996),tr=r(485858),ta=r(561546),tn=r(448169),ti=r(47506),tl=r(489329),to=r(919114),ts=r(858212),tc=r(237870),td=r(474742);let tm=(0,tc.Ju)(function(e){let t=(0,l.wA)(),r=i.createElement("span",{className:N.cx.fontBold.$},e.sectionName);return i.createElement(td.Rw,{onConfirm:()=>{t(eN.de({sidebarSectionId:e.sectionId}))},confirmationTitle:(0,k.t)("sidebar.delete_section"),titleClass:"confirm_section_delete_modal--title--8Haoy text--fontPos11--2LvXf text--_fontBase--QdLsd",confirmText:(0,k.t)("sidebar.delete"),destructive:!0,autoFocusCta:!1},i.createElement("p",{className:"confirm_section_delete_modal--content--BToo-"},(0,k.tx)("sidebar.if_you_delete_section_the_section",{item:e.count>1?(0,k.t)("sidebar.items"):(0,k.t)("sidebar.item"),section:r,count:e.count,pronoun:e.count>1?(0,k.t)("sidebar.them"):(0,k.t)("sidebar.it")})))},"CONFIRM_SECTION_DELETE_MODAL",tc.ZU.YES);var tu=r(662275),t_=r(728587);let tp="custom-section-header-context-menu";function tf(){let e=(0,l.d4)(e=>e.dropdownShown);return e&&e?.type===tp?e:null}function tg(e){let t=(0,l.wA)(),r=tf();if(null==r)return i.createElement(i.Fragment,null);let a=()=>{0===r.data.favoritesCount?t(eN.de({sidebarSectionId:r.data.customSection.id})):t((0,tu.to)({type:tm,data:{sectionId:r.data.customSection.id,sectionName:r.data.customSection.name,count:r.data.favoritesCount}}))},n=()=>{e.setRenamingSectionId(r.data.customSection.id)},o=[{displayText:(0,k.t)("sidebar.rename_section"),callback:()=>n()},{displayText:(0,k.t)("sidebar.delete_section"),callback:()=>a()}];return i.createElement(t_.j,{depth:0,items:o,lean:"right",leanPadding:0,dispatch:t,minWidth:162,parentRect:r.data.targetRect,onSelectItem:(e,r)=>{e.callback&&e.callback("",null,t)},showPoint:!r.data.isFromRightClick,hidePointWhenContentOffScreen:!0})}var tE=r(489291);let th="favorited_section--emojiIcon--pDnB-",ty="favorited_section--favoriteStar--2R5nb",tv="favorited_section--isDragTarget--dQd5-",tb="favorited_section--previewContainer--4E-dF _overlayBase--_overlayBase--Rkj8l",tw="favorited_section--previewContainerNoDelay--buvES favorited_section--previewContainer--4E-dF _overlayBase--_overlayBase--Rkj8l",tT="favorited_section--favoriteClickTarget--Z9eur",tI="favorited_section--thumbnailContainer--C4PE-",tC="favorited_section--lowerContainer--9gDfQ",tx="favorited_section--lowerPartTitles--44fhW",tN="favorited_section--title--bWf4x ellipsis--ellipsis--Tjyfa text--fontPos13--xW8hS text--_fontBase--QdLsd",tk="favorited_section--editorTypeIndicator--OmyvY",tS="favorited_section--svgContainer--vwRae",tL="favorited_section--icon--E7nFx";function tA(e){let t=(0,l.wA)(),r=(0,l.d4)(eR.wA);if(!r)return null;let a=i.createElement("span",{role:"link",tabIndex:0,onClick:()=>{t(eI.$T({view:"org",orgId:r.id,orgViewTab:tE.X.HOME}))},className:"favorited_section--browseOrgLink--BvX0-"},(0,k.tx)("sidebar.browse_org_custom_sections"));return i.createElement("div",{className:"favorited_section--customSectionsEmptyStateContent--Z6jKH"},(0,k.tx)("sidebar.just_click_the_on_files_projects_and_teams_to_add_and_organize_them_here"),a)}function tR(e){return i.createElement("div",{className:"favorited_section--customSectionsEmptyState--JcvfB favorited_section--customSectionsEmptyStateContent--Z6jKH"},i.createElement(tA,{setNewCustomSectionIndex:e.setNewCustomSectionIndex}))}var tP=r(722138),tF=r(459826),tO=r(392592),tD=r(786013),tM=r(823810),tB=r(391388),tU=r(428467),tV=r(286098),tW=r(970516),tH=r(944682),t$=r(889399),tj=r(270056),tG=r(782656),tY=r(128751),tz=r(355513),tq=r(67085),tQ=r(104681),tK=r(499743),tX=r(132135),tZ=r(764151),tJ=r(892542),t0=r(623746),t1=r(540019),t2=r(451e3),t4=r(851363),t8=r(378356),t5=r(839192),t3=r(714728),t9=(e=>(e.FAVORITED_PROTOTYPE_CONTEXT_MENU="favorited-prototype-context-menu",e.FAVORITED_FILE_CONTEXT_MENU="favorited-file-context-menu",e.FAVORITED_PROJECT_CONTEXT_MENU="favorited-project-context-menu",e.FAVORITED_TEAM_CONTEXT_MENU="favorited-team-context-menu",e.FAVORITED_WORKSPACE_CONTEXT_MENU="favorited-workspace-context-menu",e))(t9||{});let t6="sidebar context menu";function t7(e,t,r,a){if(t.stopPropagation(),t.preventDefault(),"file"in e&&e.file){let t=e.file;r(tH.yJ({file:{key:t.key,team_id:t.teamId,file_repo_id:t.fileRepoId,folder_id:t.folderId}}));let a=(0,tV.QJ)(e);a&&r(tG.bE({repo:a}))}r(eI.j7({type:a,data:{resource:{...e},targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1}}}))}let re=(e,t,r,a={})=>e?[{displayText:t?t():"",callback:r,...a}]:[],rt=[{displayText:"",separator:!0}];function rr({dropdownShown:e}){let t=(0,l.wA)(),r=(0,l.d4)(e=>e.selectedView),a=(0,l.d4)(e=>e.user?.personal_drafts_folder_id),n=(0,tK.p)(),c=(0,u.kc)().ps_benchmark,d="favorited-project-context-menu"===e.type?e.data.resource.project?.id:e.data.resource?.file?.folderId,m=e.data.resource,_=c&&!!a&&m?.file?.folderId===a,p=(tD.C7b.CAN_VIEW===tD.C7b.CAN_VIEW?function(e){let t=(0,eL.FC)();return(0,i.useMemo)(()=>tB.Qw.loaded((0,tU.canViewFolder_DEPRECATED)(e,t)),[e,t])}(d):tB.Qw.loaded(!1)).unwrapOr(!1),f=!_&&p,g="favorited-prototype-context-menu"===e.type,E=(0,tM.As)(m?.file?.key??""),h=i.useMemo(()=>"favorited-file-context-menu"===e.type&&!!E.unwrapOr(null)?.canTrash,[e.type,E]),y=[...re(!0,()=>(0,k.t)("tile.dropdown.open"),()=>{(0,tP.DF)("open"),"favorited-file-context-menu"===e.type?((0,tP.LP)(m.file.key,eA.bk.FILE,m.sidebarSectionId,t6,m.file.editorType),(0,tz.Tq)(t,m.file)):"favorited-prototype-context-menu"===e.type?((0,tP.LP)(m.prototype.fileKey,eA.bk.PROTOTYPE,m.sidebarSectionId,t6,"design"),(0,$.FS)(t,m)):"favorited-project-context-menu"===e.type&&(t(eX.kg({clickedResourceType:"folder",resourceIdOrKey:m.project.id})),(0,tz.U8)(m.project.id,t))}),...re(!s.eD&&!(0,o.ce)(),()=>(0,k.t)("tile.dropdown.open_new_tab"),()=>{if("favorited-file-context-menu"===e.type)(0,tz.nz)((0,tX.jN)({...m,allowDefaulting:!0}),m.file.key,r,t),(0,tP.LP)(m.file.key,eA.bk.FILE,m.sidebarSectionId,t6,m.file.editorType),(0,tP.DF)("open_in_new_tab");else if("favorited-prototype-context-menu"===e.type){let e=m.prototype.url;(0,tz.D4)(e,m.prototype.fileKey,m.prototype.file.pageId,r),(0,tP.LP)(m.prototype.fileKey,eA.bk.PROTOTYPE,m.sidebarSectionId,t6,"design"),(0,tP.DF)("open_in_new_tab")}else"favorited-project-context-menu"===e.type&&(t(eX.kg({clickedResourceType:"folder",resourceIdOrKey:m.project.id})),(0,tz.Wq)((0,t2.EE)(m.project.id,m.project.org_id??null),t),(0,tP.LP)(m.project.id,eA.bk.FOLDER,m.sidebarSectionId,t6,"design"))}),...rt,...re(!0,()=>(0,k.t)("tile.dropdown.copy_link"),()=>{(0,tP.DF)("copy_link"),"favorited-file-context-menu"===e.type?t(tH.S({fileKey:m.file.key,url:(0,tX.jN)({file:m.file,attributionContext:(0,tJ.b)(n,tJ.d.FAVORITED_FILE_CONTEXT_MENU),allowDefaulting:!0}),source:tJ.d.FAVORITED_FILE_CONTEXT_MENU})):"favorited-prototype-context-menu"===e.type?t(tW.S({url:m.prototype.url})):"favorited-project-context-menu"===e.type&&t(tW.S({url:(0,t2.EE)(m.project.id,m.project.org_id??null)}))}),...re(!g&&!_,()=>(0,k.t)("sidebar.share"),()=>{(0,tP.DF)("share"),"favorited-file-context-menu"===e.type?t((0,tu.to)({type:t5.g_,data:{fileKey:m.file.key,source:tq.nk.fileBrowserFavoritedContextMenu}})):"favorited-project-context-menu"===e.type&&t((0,tu.to)({type:t3.W,data:{folderId:m.project.id}}))}),...re(f,()=>(0,k.t)("tile.dropdown.show_in_project"),()=>{if((0,tP.DF)("show_in_project"),"favorited-file-context-menu"===e.type&&e.data.resource.file?.folderId!=null){if(t(eI.$T({view:"folder",folderId:e.data.resource.file.folderId})),t(tY.an()),e.data.resource.file.repo){let r=(0,tV.QJ)(e.data.resource);null!=r&&t(tY.y$({type:t8.F.REPOS,tiles:[{type:tQ.nb.REPO,repo:r,branches:[],selectedBranchKey:""}]}))}else t(tY.y$({type:t8.F.FILES,tiles:[{type:tQ.nb.FILE,file:e.data.resource.file,fileLG:tZ.F.toLiveGraph(e.data.resource.file)}]}))}},{disabled:!f}),...rt,...re(!g,()=>(0,k.t)("tile.favoriting.remove_from_favorites"),()=>{"favorited-prototype-context-menu"===e.type&&m.prototype?t(eN.X7({prototype:{file_key:m.prototype.fileKey,page_id:m.prototype.pageId},entrypoint:"sidebar",favoriteId:m.id})):"favorited-file-context-menu"===e.type&&m.file?t(eN.qP({file:{key:m.file.key,editorType:m.file.editorType.toString()??void 0},entrypoint:"sidebar",favoriteId:m.id})):"favorited-project-context-menu"===e.type&&m.project&&t(tj.ZJ({folderId:m.resourceId,teamId:m.project.teamId,isSubscribed:!1}))}),...rt,...re(!g&&!_,()=>(0,k.t)("sidebar.delete"),()=>{if((0,tP.DF)("delete"),"favorited-file-context-menu"===e.type){let e=E.unwrapOr(null)?.canTrash?{[m.file.key]:m.file}:{};t(t$.U1({filesByKey:e}))}},{disabled:!h})];return i.createElement(t_.j,{items:y,parentRect:e.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorited-resource-dropdown",dispatch:t,onSelectItem:(e,r)=>{e.callback?.("",{},t,r)}})}function ra(e){let t=(0,l.wA)(),r=(0,l.d4)(e=>e.selectedView),a=(0,tK.p)(),n=e.favoritedFile.file,c=t1.M4.useFile(n?.key).data,d=n?.project?.canView,m=(0,l.d4)(e=>e.dropdownShown);if(null==m||null==n)return null;let u="favorited-file-context-menu"===m.type,_=[...re(!0,()=>(0,k.t)("tile.dropdown.open"),()=>{(0,tP.DF)("open"),(0,tP.LP)(n.key,eA.bk.FILE,e.favoritedFile?.sidebarSectionId??void 0,t6,n.editorType??void 0),(0,tz.Tq)(t,n)}),...re(!s.eD&&!(0,o.ce)(),()=>(0,k.t)("tile.dropdown.open_new_tab"),()=>{(0,tz.nz)((0,tX.jN)({file:n,allowDefaulting:!0}),n.key,r,t),(0,tP.LP)(n.key,eA.bk.FILE,e.favoritedFile?.sidebarSectionId??void 0,t6,n.editorType),(0,tP.DF)("open_in_new_tab")}),...rt,...e.organizeFavoriteOptions,...rt,...re(!0,()=>(0,k.t)("file_browser.copy_link"),()=>{t(tH.S({fileKey:n.key,url:(0,tX.jN)({file:n,attributionContext:(0,tJ.b)(a,tJ.d.FAVORITED_FILE_CONTEXT_MENU),allowDefaulting:!0}),source:tJ.d.FAVORITED_FILE_CONTEXT_MENU})),t(eI.oB())}),...re(!0,()=>(0,k.t)("sidebar.share"),()=>{(0,tP.DF)("share"),t((0,tu.to)({type:t5.g_,data:{fileKey:n.key,source:tq.nk.fileBrowserFavoritedContextMenu}}))}),...re(!0,()=>(0,k.t)("tile.dropdown.show_in_project"),()=>{if((0,tP.DF)("show_in_project"),t(eI.$T({view:"folder",folderId:e.folderId})),t(tY.an()),n.fileRepoId){let r=(0,tV.QJ)(e.favoritedFile);null!=r&&t(tY.y$({type:t8.F.REPOS,tiles:[{type:tQ.nb.REPO,repo:r,branches:[],selectedBranchKey:""}]}))}else{if(!c)return;t(tY.y$({type:t8.F.FILES,tiles:[(0,tQ.fA)(c)]}))}},{disabled:!(u&&d)})];return i.createElement(t_.j,{items:_,parentRect:m.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorite-file-dropdown",dispatch:t,onSelectItem:(e,r)=>{e.callback?.("",{},t,r)}})}function rn(e){let t=(0,l.wA)(),r=(0,l.d4)(e=>e.dropdownShown);if(null==r)return null;let a=[...e.organizeFavoriteOptions,...rt,...re(!0,()=>(0,k.t)("file_browser.copy_link_to_team"),()=>{let r=(0,t4.bL)(e.teamId,e.orgId);t(tW.S({url:r})),t(eI.oB())})];return i.createElement(t_.j,{items:a,parentRect:r.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorite-file-dropdown",dispatch:t,onSelectItem:(e,r)=>{e.callback?.("",{},t,r)}})}function ri(e){let t=(0,l.wA)(),r=(0,l.d4)(e=>e.dropdownShown);if(null==r)return null;let a=[...e.organizeFavoriteOptions,...rt,...re(null!==e.orgId,()=>(0,k.t)("file_browser.copy_link_to_workspace"),()=>{if(null!==e.orgId){let r=(0,eG.fO)(e.workspaceId,e.orgId);t(tW.S({url:r}))}t(eI.oB())})];return i.createElement(t_.j,{items:a,parentRect:r.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorited-resource-dropdown",dispatch:t,onSelectItem:(e,r)=>{e.callback?.("",{},t,r)}})}function rl(e){let t=(0,l.wA)(),r=(0,l.d4)(e=>e.dropdownShown);if(null==r)return null;let a=[...e.organizeFavoriteOptions,...rt,...re(!0,()=>(0,k.t)("file_browser.copy_link_to_project"),()=>{let r=(0,t2.EE)(e.projectId,e.orgId);t(tW.S({url:r})),t(eI.oB())})];return i.createElement(t_.j,{items:a,parentRect:r.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorited-resource-dropdown",dispatch:t,onSelectItem:(e,r)=>{e.callback?.("",{},t,r)}})}function ro(e){let t=(0,l.wA)(),r=(0,l.d4)(e=>e.dropdownShown);if(null==r)return null;let a=[...e.organizeFavoriteOptions,...rt,...re(!0,()=>(0,k.t)("file_browser.copy_link"),()=>{let r=(0,t0._3)(e.prototype.fileKey,e.prototype.file?.name,e.prototype.pageId);t(tW.S({url:r})),t(eI.oB())})];return i.createElement(t_.j,{items:a,parentRect:r.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorited-resource-dropdown",dispatch:t,onSelectItem:(e,r)=>{e.callback?.("",{},t,r)}})}var rs=r(929101),rc=r(606678),rd=r(411045),rm=r(67294),ru=r(134279),r_=r(597192),rp=r(731078),rf=r(266431),rg=r(575675);function rE(e){let t=(0,l.wA)(),r=(0,l.d4)(e=>e.currentUserOrgId),a=(0,l.d4)(e=>e.currentTeamId),n=(0,l.d4)(e=>e.favorites.collapsedCustomSections),o=e.favorite.team,s=(0,eL.FC)(),d=(0,l.d4)(e=>e.dropdownShown),m=(0,l.d4)(e=>e.avatarEditorState),u=i.useMemo(()=>d&&d.type===t9.FAVORITED_TEAM_CONTEXT_MENU&&d.data.teamId===o?.id,[d,o?.id]),_=i.useCallback((e,r)=>{(0,tP.LP)(r.team?.id,eA.bk.TEAM,r.sidebarSectionId??void 0,tP.vg);let a=(0,t4.bL)(r.resourceId,r.orgId);(0,P.oJ)(e)?(c.Ay.redirect(a,"_blank"),e.stopPropagation()):(t(eX.dm(r.resourceId)),e.preventDefault())},[t]),p=i.useCallback(e=>{if(!o)return;e.stopPropagation(),e.preventDefault();let r={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};t(eI.j7({type:t9.FAVORITED_TEAM_CONTEXT_MENU,data:{teamId:o.id,targetRect:r}}))},[t,o]);if(!r||null===o)return i.createElement(i.Fragment,null);let f=(0,tU.canAdminTeam)(o.id,s),g=(0,r_.o)({dispatch:t,currentOrgId:r,currentTeamId:a,collapsedCustomSections:n,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:eA.bk.TEAM,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(r,a)=>{let n={entrypoint:"sidebar",sectionId:a,team:{id:o.id},favoriteId:e.favorite.id,resourceType:eA.bk.TEAM};r?t(eN.V1(n)):t(eN.ox(n))}});return i.createElement(i.Fragment,null,i.createElement(eT.Z,{isSelected:e.isSelected,rowClassName:tT,onClick:t=>_(t,e.favorite),showGrabber:e.showGrabber,onContextMenu:p,icon:o.imgUrl?i.createElement("div",{className:N.cx.colorIcon.$},i.createElement(rm.nl,{shape:"ROUNDED_SQUARE",size:{imgSize:rm.Pf.SMALL,fallbackSize:rm.Pf.SMALL},fallbackDisplay:ru.U.HIDDEN,team:{...o,imgUrl:o.imgUrl},fallbackSvg:rg.A})):i.createElement(ew.In,{icon:"team-16"}),text:i.createElement(S.E,{truncate:!0},o.name)}),u&&i.createElement(rn,{teamId:o.id,orgId:o.orgId,organizeFavoriteOptions:g}),f&&i.createElement("span",{className:"favorited_section--hiddenEditableAvatar--MuzYX"},i.createElement(rf.ER,{entity:{...o,imgUrl:o.imgUrl||void 0},entityType:rp.ck.TEAM,avatarEditorState:m,size:14,dispatch:t})))}var rh=r(93536),ry=r(317113),rv=r(331737),rb=r(538464),rw=r(487342),rT=r(875847),rI=r(112235);function rC(e){switch(e.iconType){case ry.y1.DESIGN:case ry.y1.DESIGN_AND_DEV_MODE:case ry.y1.SLIDES:case ry.y1.SLIDES_TEMPLATE:return i.createElement(ry.MW,{type:e.iconType,size:ry.LE.SMALL});case ry.y1.SITES:return i.createElement(ew.In,{icon:"file-design-16-file-type"});case ry.y1.WHITEBOARD:return i.createElement(ew.In,{icon:"file-figjam-16-file-type"});case ry.y1.DEV_MODE:case ry.y1.DEV_MODE_SELECTED:case ry.y1.PROTOTYPE:case ry.y1.PUBLISHED:return i.createElement(ry.MW,{type:e.iconType,size:ry.LE.SMALL});case ry.y1.TEMPLATE:return i.createElement(ew.In,{icon:"file-team-template-16-file-type"});case ry.y1.REPO:return i.createElement(ew.In,{icon:"file-design-branch-16-file-type"});case ry.y1.COOPER:return i.createElement(ry.wT,{inverted:!0});default:(0,C.xb)(e.iconType)}}let rx=e=>i.createElement("div",{className:th},e);function rN(e){let t=(0,l.wA)(),r=(0,l.d4)(e=>e.currentUserOrgId),a=(0,l.d4)(e=>e.currentTeamId),n=(0,l.d4)(e=>e.favorites.collapsedCustomSections),o=(0,l.d4)(e=>e.dropdownShown),s=e.favorite.file,d=t1.M4.useFile(s?.key).data,m=(0,rI.N)(),_=null!==r,p=(0,u.kc)().ps_benchmark&&a,f=i.useMemo(()=>o&&o.type===t9.FAVORITED_FILE_CONTEXT_MENU&&o.data.fileKey===s?.key,[o,s]),g=i.useMemo(()=>o&&o.type===tp,[o]),E=i.useCallback(e=>{if(!s)return;d||t(tH.yJ({file:{key:s.key,team_id:s.teamId,file_repo_id:s.fileRepoId,folder_id:s.folderId,library_key:s.libraryKey}})),e.stopPropagation(),e.preventDefault();let r={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};t(eI.j7({type:t9.FAVORITED_FILE_CONTEXT_MENU,data:{fileKey:s.key,targetRect:r}}))},[t,s,d]);if(null===s)return i.createElement(i.Fragment,null);let h=(0,tX.jN)({file:s,allowDefaulting:!0}),y=(e,r)=>{(0,tP.LP)(r.file?.key,eA.bk.FILE,r.sidebarSectionId??void 0,tP.vg,r.file?.editorType??void 0),(0,P.oJ)(e)?(t(eX.UN({fileKey:r.file?.key??"",entrypoint:tP.vg})),e.stopPropagation()):e.preventDefault(),r.file&&(c.Ay.redirect(h,"_blank"),t(eX.UN({fileKey:r.file.key,entrypoint:tP.vg})))},v=()=>{null!==s&&t(eN.qP({file:{key:s.key,editorType:s.editorType??eA._Y.DESIGN},repoId:s.fileRepoId??void 0,entrypoint:"sidebar",favoriteId:e.favorite.id}))},b=(0,r_.o)({dispatch:t,currentOrgId:r,currentTeamId:a,collapsedCustomSections:n,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:eA.bk.FILE,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(r,a)=>{if(r&&d){let r={entrypoint:"sidebar",sectionId:a,favoriteId:e.favorite.id,resourceType:eA.bk.FILE};t(eN.V1(r))}else r||null===s||v()}}),w=s?.name,T=(0,rw.AE)(w),I=e.favorite.file?m(e.favorite.file):ry.y1.DESIGN,C=T?rx(T):i.createElement(rC,{iconType:I}),x=T?(0,rw.Nn)(w,T):w,N=e.favorite.file?.project?.path,L=(0,rT.S)(N),A=L?tN:"favorited_section--titleWithoutSubtitle--BXdOW ellipsis--ellipsis--Tjyfa text--fontPos13--xW8hS text--_fontBase--QdLsd";return i.createElement(i.Fragment,null,i.createElement(eT.Z,{isSelected:e.isSelected,rowClassName:tT,showGrabber:e.showGrabber,onContextMenu:_||p?E:r=>{t7(e.favorite,r,t,t9.FAVORITED_FILE_CONTEXT_MENU)},onClick:t=>y(t,e.favorite),icon:C,text:""!==x?i.createElement(S.E,{truncate:!0,showTooltipWhenTruncated:!1},x):i.createElement(S.E,{truncate:!0},(0,k.tx)(e.favorite.file?.editorType==="whiteboard"?"sidebar.fig_jam_file":e.favorite.file?.editorType==="slides"?"sidebar.slides_file":"sidebar.design_file")),badge:e.isHover&&!(_||p)?i.createElement("div",{className:ty},i.createElement(rb.r,{favoriteType:eA.bk.FILE,resourceId:e.favorite.resourceId,size:rb.m.MEDIUM,setFavorite:v,orgId:e.favorite.orgId})):void 0,isFavoritesToMove:e.isFavoritesToMove}),!f&&!g&&i.createElement("div",{className:e.showPreviewDelay?tb:tw,style:{transform:`translateY(${-e.previewYOffset}px)`}},i.createElement("div",{className:tI},i.createElement(rv.NM,{file:s,noBorder:!0})),i.createElement("div",{className:tC},i.createElement(ry.MW,{svgOptions:{id:"sidebar-thumbnail"},className:tk,type:I}),i.createElement("div",{className:tx},i.createElement("div",{className:A},e.favorite.file?.name),L&&i.createElement("div",{className:"favorited_section--subtitle--sQ1zI ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},L)))),(_||p)&&f&&s?.folderId&&i.createElement(ra,{favoritedFile:e.favorite,folderId:s.folderId,organizeFavoriteOptions:b}))}var rk=r(619942);let rS=e=>i.createElement("div",{className:th},e);function rL(e){let t=(0,l.wA)(),r=e.favorite.project,a=(0,l.d4)(e=>e.currentTeamId),n=(0,l.d4)(e=>e.currentUserOrgId),o=(0,l.d4)(e=>e.favorites.collapsedCustomSections),s=(0,ts.S)(),c=(0,l.d4)(e=>e.dropdownShown),d=i.useMemo(()=>c&&c.type===t9.FAVORITED_PROJECT_CONTEXT_MENU&&c.data.projectId===r?.id,[c,r]),m=i.useCallback(e=>{if(!r)return;e.stopPropagation(),e.preventDefault();let a={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};t(eI.j7({type:t9.FAVORITED_PROJECT_CONTEXT_MENU,data:{projectId:r.id,targetRect:a}}))},[t,r]),u=(0,rk.E)(),_=i.useCallback((e,t)=>{(0,tP.LP)(t.project?.id,eA.bk.FOLDER,t.sidebarSectionId??void 0,tP.vg),u(t.resourceId,e)},[u]);if(!s||null==r)return null;let p=(0,r_.o)({dispatch:t,currentOrgId:n,currentTeamId:a,collapsedCustomSections:o,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:eA.bk.FOLDER,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(a,n)=>{let i={entrypoint:"sidebar",sectionId:n,folder:r,favoriteId:e.favorite.id};a?t(eN.Mv(i)):t(eN.jv(i))}}),f=(0,rw.AE)(r.path),g=f?(0,rw.Nn)(r.path,f):r.path;return i.createElement(i.Fragment,null,i.createElement(eT.Z,{rowClassName:tT,onContextMenu:m,isSelected:e.isSelected,onClick:t=>_(t,e.favorite),icon:f?i.createElement("div",null,rS(f)):i.createElement(ew.In,{icon:"folder-16"}),showGrabber:e.showGrabber,text:i.createElement(S.E,{truncate:!0},g),isFavoritesToMove:e.isFavoritesToMove}),d&&i.createElement(rl,{projectId:r.id,orgId:r.orgId,organizeFavoriteOptions:p}))}var rA=r(261902),rR=r(71656),rP=r(869381);function rF({thumbnailUrl:e,isLocked:t,...r}){return t?i.createElement(rA.N,{thumbnailType:rP.F.PROTOTYPE,...r}):i.createElement(rR.V,{thumbnailUrl:e,thumbnailType:rP.F.PROTOTYPE,...r})}let rO=i.createElement(ry.MW,{type:ry.y1.PROTOTYPE,size:ry.LE.SMALL});function rD(e){let t=(0,l.wA)(),r=(0,l.d4)(e=>e.currentTeamId),a=(0,l.d4)(e=>e.currentUserOrgId),n=(0,l.d4)(e=>e.favorites.collapsedCustomSections),o=(0,l.d4)(e=>e.dropdownShown),s=i.useMemo(()=>o&&o.type===t9.FAVORITED_PROTOTYPE_CONTEXT_MENU&&o.data.resource.prototype.id===e.favorite.prototype?.id,[o,e.favorite.prototype]),d=i.useMemo(()=>o&&o.type===tp,[o]),m=(0,ts.S)();if(null===e.favorite.prototype)return i.createElement(i.Fragment,null);let u=(0,t0._3)(e.favorite.prototype.fileKey,e.favorite.prototype.file?.name,e.favorite.prototype.pageId),_=(e,t)=>{if((0,tP.LP)(t.prototype?.fileKey,eA.bk.PROTOTYPE,t.sidebarSectionId??void 0,tP.vg),(0,P.oJ)(e)){e.stopPropagation();return}e.preventDefault(),c.Ay.redirect(u,"_blank")},p=(r,a)=>{r||null===e.favorite.prototype||t(eN.X7({prototype:{file_key:e.favorite.prototype.fileKey,page_id:e.favorite.prototype.pageId},entrypoint:"sidebar",favoriteId:a}))},f=(0,r_.o)({dispatch:t,currentOrgId:a,currentTeamId:r,collapsedCustomSections:n,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:eA.bk.PROTOTYPE,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(r,a)=>{if(r){let r={entrypoint:"sidebar",sectionId:a,favoriteId:e.favorite.id,resourceType:eA.bk.PROTOTYPE};t(eN.V1(r))}else p(!1,e.favorite.id)}});return i.createElement(i.Fragment,null,i.createElement(eT.Z,{isSelected:e.isSelected,rowClassName:tT,onContextMenu:r=>{t7(e.favorite,r,t,t9.FAVORITED_PROTOTYPE_CONTEXT_MENU)},showGrabber:e.showGrabber,onClick:t=>_(t,e.favorite),icon:rO,text:i.createElement(S.E,{truncate:!0,showTooltipWhenTruncated:!1},e.favorite.prototype.file?.name),badge:e.isHover&&!m?i.createElement("div",{className:ty},i.createElement(rb.r,{favoriteType:eA.bk.PROTOTYPE,resourceId:e.favorite.resourceId,size:rb.m.MEDIUM,setFavorite:p,orgId:e.favorite.orgId})):void 0,isFavoritesToMove:e.isFavoritesToMove}),!s&&!d&&i.createElement("div",{className:e.showPreviewDelay?tb:tw,style:{transform:`translateY(${-e.previewYOffset}px)`}},i.createElement("div",{className:tI},i.createElement(rF,{isLocked:!!e.favorite.prototype.file?.hasProtoLinkPassword&&e.favorite.prototype.file?.hasProtoLinkPassword,thumbnailUrl:e.favorite.prototype.thumbnailUrl,noBorder:!0})),i.createElement("div",{className:tC},i.createElement(ry.MW,{type:ry.y1.PROTOTYPE,className:tk}),i.createElement("div",{className:tx},i.createElement("div",{className:tN},e.favorite.prototype.file?.name)))),m&&s&&e.favorite.prototype&&i.createElement(ro,{prototype:e.favorite.prototype,organizeFavoriteOptions:f}))}var rM=r(9821);function rB(e){let t=(0,l.wA)(),r=(0,l.d4)(e=>e.currentUserOrgId),a=(0,l.d4)(e=>e.currentTeamId),n=(0,l.d4)(e=>e.favorites.collapsedCustomSections),o=(0,l.d4)(e=>e.dropdownShown),s=e.favorite.workspace,c=i.useMemo(()=>o&&o.type===t9.FAVORITED_WORKSPACE_CONTEXT_MENU&&o.data.workspaceId===s?.id,[o,s?.id]),d=i.useCallback((e,r)=>{let a=r.workspace;(0,tP.LP)(a?.id,eA.bk.WORKSPACE,r.sidebarSectionId??void 0,tP.vg),a&&t(eI.$T({view:"workspace",subView:eQ.V0.DIRECTORY,workspaceId:a.id,selectedTab:eQ.dN.TEAMS}))},[t]),m=i.useCallback(e=>{if(!s)return;e.stopPropagation(),e.preventDefault();let r={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};t(eI.j7({type:t9.FAVORITED_WORKSPACE_CONTEXT_MENU,data:{workspaceId:s.id,targetRect:r}}))},[t,s]);if(!r||null===s)return i.createElement(i.Fragment,null);let u=(0,r_.o)({dispatch:t,currentOrgId:r,currentTeamId:a,collapsedCustomSections:n,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:eA.bk.WORKSPACE,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(r,a)=>{let n={workspace:{id:s.id,name:s.name??"",imgUrl:e.favorite.workspace?.imgUrl??null},entrypoint:"sidebar",sectionId:a,favoriteId:e.favorite.id};r?t(eN.ZW(n)):t(eN.if(n))}}),_=e.favorite.workspace?i.createElement(eJ.z6,{entity:e.favorite.workspace,size:16}):i.createElement(ei.B,{svg:rM.A,className:N.cx.colorIcon.$});return i.createElement(i.Fragment,null,i.createElement(eT.Z,{isSelected:e.isSelected,showGrabber:e.showGrabber,rowClassName:tT,onClick:t=>d(t,e.favorite),onContextMenu:m,icon:_,text:i.createElement(S.E,{truncate:!0}," ",s.name)}),c&&i.createElement(ri,{workspaceId:s.id,orgId:e.favorite.orgId,organizeFavoriteOptions:u}))}var rU=r(408409);let rV=(e,t)=>{let r=e.cloneNode(!0),a=document.createElement("div");return a.className="favorited_generic_row--favorite--vFcy4 favorited_generic_row--_favorite--jiaJX sidebar--sidebarSection---c9jn text--fontPos11--2LvXf text--_fontBase--QdLsd",Object.assign(a.style,{position:"absolute",top:"-100%",left:"-100%",width:`${e.clientWidth}px`,height:`${e.clientHeight}px`,overflow:"hidden",zIndex:-1}),t&&(r.classList.add(t),r.classList.add(N.cx.colorText.$)),a.appendChild(r),document.body.appendChild(a),a};function rW(e){let t=(0,l.wA)(),r=(0,l.d4)(e=>e.dragState),a=(0,rd.RR)(),{hasPendingRequest:n,getUpgradePathway:o,getUpgradeEligibility:s,getPlanAndPlanUser:c,hasProvisionalAccess:d}=(0,rc.wH)({folderId:e.favorite.resourceType===eA.bk.FOLDER?e.favorite.resource.project?.id??null:null,isDraftsMove:!0}),m=(0,rs.f4)((0,es.md)(rs.yH),a),[u,_]=i.useState(!1),p=e.favorite.resourceType,f=(0,eC._6)(),[g,E]=i.useState(!1),h=e.rearrangeDragState?.draggedOverFavoriteId===e.favorite.resource.id&&!g,[y,v]=i.useState(!1),b=i.useRef(null),w=(0,ts.S)(),T=u&&!w,I=e.isSelected||(()=>{switch(p){case eA.bk.FOLDER:return"folder"===f.view&&f.folderId===e.favorite.resource.resourceId;case eA.bk.TEAM:return"team"===f.view&&f.teamId===e.favorite.resource.resourceId;case eA.bk.WORKSPACE:return"workspace"===f.view&&f.subView===eQ.V0.DIRECTORY&&f.workspaceId===e.favorite.resource.resourceId;default:return!1}})(),x=(t,r)=>(0,rs.Zm)({files:t,repos:r,isDestinationDrafts:e.favorite.resourceType===eA.bk.FOLDER&&e.favorite.resource.project?.path==="",enabledForOrgOnly:!1,originFolderIdToPath:m,isBillingRemodelEnabled:a,hasPendingRequest:n,getUpgradePathway:o,getUpgradeEligibility:s,getPlanAndPlanUser:c,hasProvisionalAccess:d});return i.createElement("div",{className:h?e.rearrangeDragState?.dropBefore?"favorited_generic_row--dropBefore--xZvBN sidebar--dropBefore--wZDYO":e.rearrangeDragState?.dropInto?"favorited_generic_row--dropInto--VKuX5":"favorited_generic_row--dropAfter--a64Ax sidebar--dropAfter--JEX7d":void 0},i.createElement(tn.Y,{key:e.favorite.resource.resourceId,isDragTarget:e=>{let t=new rh.le(e);return E(t.isFile()),r.type!==eP.R.SidebarSection&&!t.isFile()},onTargetDragEnter:(t,a)=>{let n=new rh.le(t),i=!1;(r.type===eP.R.Favorite||n.isFigFiles()||n.isRepos()||n.isPrototypes()||n.isTiles())&&((n.isFigFiles()||n.isRepos()||n.isTiles())&&(i=e.favorite.resourceType===eA.bk.FOLDER),e.updateRearrangeDragState({draggedOverFavoriteId:e.favorite.resource.id,dropBefore:i?a.upperQuarter:a.upper,dropInto:i&&a.middleVerticalHalf,draggedOverSectionId:e.favorite.resource.sidebarSectionId}),v(i))},onTargetDragLeave:t=>{let a=new rh.le(t);(r.type===eP.R.Favorite||a.isFigFiles()||a.isRepos()||a.isPrototypes()||a.isTiles()&&h)&&(e.clearRearrangeDragState(e.favorite.resource.id),v(!1))},onTargetDrop:n=>{let i=new rh.le(n);if(e.rearrangeDragState?.dropInto&&e.favorite.resourceType===eA.bk.FOLDER&&e.favorite.resource.project)(0,rU.A)(t,e.favorite.resource.project,e.favorite.resource.project.team,i,a,x),t(to.T());else if(i.isFigFiles()||i.isRepos()||i.isPrototypes()||i.isTiles())e.onSetResourceFavoriteDragDrop(n);else if(r.type===eP.R.Favorite&&h){let a=r.data;e.reorderOrInsertFavorite(a.resource.id,a.resourceType),t(to.T())}e.clearRearrangeDragState(e.favorite.resource.id),v(!1)},onTargetDragQuadrantUpdate:t=>{e.updateRearrangeDragState({draggedOverFavoriteId:e.favorite.resource.id,dropBefore:y?t.upperQuarter:t.upper,dropInto:y&&t.middleVerticalHalf,draggedOverSectionId:e.favorite.resource.sidebarSectionId})},draggable:!1},i.createElement("div",{onMouseEnter:()=>{e.preventHoverStyle||_(!0)},onMouseLeave:()=>{e.setShowPreviewDelay(!1),_(!1)},onDragStart:r=>{r.dataTransfer.effectAllowed="move";let a=new rh.le(r.dataTransfer);a.setArbitraryData(e.favorite.resource.id);let n=r.currentTarget.firstElementChild;if(null===n)return;let i=n.getBoundingClientRect(),l=r.clientX-i.left,o=r.clientY-i.top;b.current=rV(n,"favorited_generic_row--draggable--QinZd"),a.setDragImage(b.current,l,o),t(to.v({type:eP.R.Favorite,data:e.favorite}))},onDragEnd:r=>{b.current&&b.current.remove(),t(to.T()),e.clearRearrangeDragState(e.favorite.resource.id),v(!1)},draggable:!e.isFavoritesToMove},(()=>{switch(p){case eA.bk.FILE:return i.createElement(rN,{favorite:e.favorite.resource,isHover:u,showGrabber:T,isSelected:I,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections,isFavoritesToMove:e.isFavoritesToMove});case eA.bk.PROTOTYPE:return i.createElement(rD,{favorite:e.favorite.resource,isHover:u,showGrabber:T,isSelected:I,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections,isFavoritesToMove:e.isFavoritesToMove});case eA.bk.FOLDER:return i.createElement(rL,{favorite:e.favorite.resource,isHover:u,showGrabber:T,isSelected:I,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections,isFavoritesToMove:e.isFavoritesToMove});case eA.bk.TEAM:return i.createElement(rE,{favorite:e.favorite.resource,isHover:u,showGrabber:T,isSelected:I,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections});case eA.bk.WORKSPACE:return i.createElement(rB,{favorite:e.favorite.resource,isHover:u,showGrabber:T,isSelected:I,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections});default:(0,C.xb)(p)}})())))}var rH=r(397844),r$=r(498606),rj=r(949207),rG=r(432023),rY=r(604771),rz=r(501191);function rq(e){let t=(0,l.wA)(),r=(0,l.d4)(e=>e.currentTeamId),a=function(){let e=(0,l.d4)(e=>e.dropdownShown),t=(0,l.d4)(e=>e.currentUserOrgId),r=(0,l.d4)(e=>e.currentTeamId),a=(0,u.kc)().ps_benchmark&&r;return!e||e?.type!=="favorited-file-context-menu"&&e?.type!=="favorited-prototype-context-menu"||t||a?null:e}(),n=(0,Y.dq)()??null,o=(0,$.sb)(e.favorites,e.order),s=(0,eC._6)(),[c,d]=i.useState(!1),_=(0,l.d4)(e=>e.favorites.movingResource),p=(0,ts.S)(),f=(0,l.d4)(e=>e.favorites.collapsedCustomSections),g=p&&e.section?!f.has(e.section?.id):!f.has("favorited"),[E,h]=i.useState(!1),[y,v]=i.useState(),[b,w]=i.useState(),T=(0,l.d4)(e=>e.dragState),I=(0,m.ZC)(T);i.useEffect(()=>{T.type===eP.R.None&&I&&I.type!==eP.R.None&&w(void 0)},[T,I]),i.useEffect(()=>{!e.isCurrentHoveredSection&&T.type===eP.R.SidebarSection&&b&&w(void 0)},[e.isCurrentHoveredSection,b,T]);let[C,x]=i.useState(void 0),[S,L]=i.useState(!0),A=i.useRef(null),R=tf();i.useEffect(()=>{C===b?.draggedOverFavoriteId&&w(void 0),x(void 0)},[b,w,C,x]);let P=i.useCallback(r=>{e.section?.id&&(r.dataTransfer.effectAllowed="move",new rh.le(r.dataTransfer).setArbitraryData(e.section.id),t(to.v({type:eP.R.SidebarSection,data:e.section.id})))},[t,e.section]),F=i.useCallback(()=>{(0,tP.xs)(!g);let r=new Set(f);p&&e.section?(rH.Fp({type:"topLevel",id:"custom",orgId:n,sectionId:e.section?.id},!g),g?r.add(e.section.id):r.delete(e.section.id)):(rH.Fp({type:"topLevel",id:"favorited",orgId:n},!g),g?r.add("favorited"):r.delete("favorited")),t(eN.U6({collapsedCustomSections:r}))},[g,n,e.section,f,p,t]),O=(r,a)=>{let n;let i=o.map(e=>e.resource.id);if(!b?.draggedOverFavoriteId)return i;let l=-1!==i.indexOf(r);if(l)n=(0,ta.Pe)(i,r,b.draggedOverFavoriteId,b.dropBefore);else{let e=i.indexOf(b.draggedOverFavoriteId);b.dropBefore||(e+=1),n=[...i.slice(0,e),r,...i.slice(e)]}if((0,tP.hp)(),v(r),e.section?.id){l?t(eN.vg({sectionId:e.section.id,orderedFavoriteIds:n})):t(eN.V1({favoriteId:r,sectionId:e.section.id,resourceType:a,orderedFavoriteIds:n}));return}l||t(eN.V1({favoriteId:r,sectionId:void 0,resourceType:a})),t(V.yJ({prefs:{id:e.fileBrowserPreferences?.id||"optimistic-id",orderedFavoritedResourceIds:n,orderedTeamIds:e.fileBrowserPreferences?.orderedTeamIds,orderedLicenseGroupIds:e.fileBrowserPreferences?.orderedLicenseGroupIds},userInitiated:!0}))},D=i.useCallback(e=>{e.stopPropagation(),y&&v(void 0)},[y]),B=i.useCallback(()=>{L(!0)},[]),U=i.useCallback(e=>{let t=new rh.le(e);return d(t.isFile()),t.isFigFiles()||t.isRepos()||t.isPrototypes()||t.isTiles()},[]),W=a=>{let i=new rh.le(a),l=[],c=[],d=[];if(h(!1),i.isFigFiles()){if(!(l=i.getData()))return!1}else if(i.isPrototypes()){if(!(d=i.getData()))return!1}else if(i.isRepos()){let e=i.getReposData();if(!e)return!1;c=e.repos}else if(i.isTiles()){let e=i.getTilesData();if(!e)return!1;l=e.files,c=e.repos,d=e.prototypes}l=l.filter(e=>!e.is_favorited),c=c.filter(e=>!e.is_favorited),d=d.filter(e=>!e.is_favorited);let m=o.map(e=>e.resource.id),u=l.length+c.length+d.length,_=(0,$.kK)(n);if(u+o.length>_)return t(tO.F.enqueue({message:(0,k.t)("tile.favoriting.max_favorites",{maxFavorites:_})})),!1;let p=null;return b&&(p=m.indexOf(b.draggedOverFavoriteId)+(b.dropBefore?0:1)),t(eN.N9({files:l,repos:c,prototypes:d,orgId:n,teamId:r,selectedView:s.view,entrypoint:"sidebar",insertAtIndex:p,orderedFavorites:m,sectionId:e.section?.id,fileBrowserPrefs:e.fileBrowserPreferences})),!0},H=i.useCallback(()=>{h(!0)},[]),j=i.useCallback(()=>{h(!1)},[]),G=M()([N.cx.relative.$,"favorited_section--showsCaret--vjo7-",E||b?.draggedOverSectionId&&e.section&&!c&&b.draggedOverSectionId===e.section.id?tv:""]),z=p?e.section?.name===""||e.section?.name===void 0?(0,k.tx)("sidebar.starred"):e.section.name:(0,k.tx)("sidebar.favorite_files"),q=R?.data?.customSection?.id===e.section?.id,Q=e.isCreatingNewSection||e.isRenaming,K=M()({"favorited_section--sectionHeaderContainer--otgqF sidebar--sectionHeaderContainer--TcvBb sidebar--sectionHeaderName--xToHG sidebar--sectionName--4N7hT sidebar--sectionText--KAGhn sidebar--sectionContent--NHX7b ellipsis--ellipsis--Tjyfa":!0,"favorited_section--actionButtonsVisibleOnHover--AOJ8E":!Q,"favorited_section--actionButtonsVisible--Ey4QI":q&&!Q}),X=e.section?.name===void 0?(0,k.t)("sidebar.new_section"):(0,$.R3)(e.section)?(0,k.t)("sidebar.starred"):e.section.name;return i.createElement(tn.Y,{className:G,isDragTarget:U,draggable:!1,onTargetDrop:W,onTargetDragEnter:H,onTargetDragLeave:j},i.createElement("div",null,i.createElement("div",{draggable:!0,onDragStart:P,className:K,onClick:F,onContextMenu:r=>{r.stopPropagation(),r.preventDefault();let a={top:r.clientY,right:r.clientX,bottom:r.clientY,left:r.clientX,width:1,height:1};t(eI.j7({type:tp,data:{customSection:e.section,favoritesCount:o.length,isFromRightClick:!0,targetRect:a}}))},role:"button",tabIndex:0},i.createElement(ei.B,{className:p?"favorited_section--expandCaretCustomSections--SUjwA":"favorited_section--expandCaret--LgAK5 sidebar--expandCaret--eXGWm",svg:g?rj.A:rG.A}),i.createElement("div",{className:"favorited_section--sectionName--PrU2k ellipsis--ellipsis--Tjyfa","data-onboarding-key":1===e.allSections.length?null:"FAVORITES_ONBOARDING_KEY"},e.isRenaming?i.createElement(tF.p,{className:"favorited_section--input--8x-Vh",placeholderValue:X,submit:r=>{e.isCreatingNewSection?(_?t(eN.yH({name:r,insertAtIndex:e.sectionIndex,currentOrderedSections:e.allSections.map(e=>e.id),prefs:e.fileBrowserPreferences??void 0,newResourceForSection:_})):t(eN.YI({name:r,insertAtIndex:e.sectionIndex,currentOrderedSections:e.allSections.map(e=>e.id),prefs:e.fileBrowserPreferences??void 0})),e.setNewCustomSectionIndex&&e.setNewCustomSectionIndex(void 0)):e.section&&(t(eN.vg({sectionId:e.section.id,name:r.trim()})),e.setRenamingSectionId&&e.setRenamingSectionId(void 0))},cancel:()=>{e.isCreatingNewSection?(e.setNewCustomSectionIndex&&e.setNewCustomSectionIndex(void 0),_&&t(eN.to({movingResource:void 0}))):e.setRenamingSectionId&&e.setRenamingSectionId(void 0)},maxLength:25}):z),n&&i.createElement("div",{className:"favorited_section--actionButtons--VZ6Er"},i.createElement("div",{role:"button",tabIndex:0,className:tS,"data-tooltip-max-width":200,ref:A,onClick:r=>{R?t(eI.oB()):A.current&&t(eI.j7({type:tp,data:{targetRect:A.current.getBoundingClientRect(),customSection:e.section,favoritesCount:o.length}})),r.stopPropagation(),r.preventDefault()},onContextMenu:e=>e.stopPropagation()},i.createElement(ei.B,{svg:rY.A,className:tL})),i.createElement(rQ,{newCustomSectionIndex:e.sectionIndex,setNewCustomSectionIndex:e.setNewCustomSectionIndex})))),i.createElement("div",{className:g?void 0:N.cx.hidden.$},(()=>{if(0===o.length){let t=1===e.allSections.length&&(0,$.R3)(e.allSections[0]);return p||e.isCreatingNewSection?p&&t&&!e.isCreatingNewSection?i.createElement(tA,{setNewCustomSectionIndex:e.setNewCustomSectionIndex}):i.createElement(i.Fragment,null):i.createElement(rK,{setNewCustomSectionIndex:e.setNewCustomSectionIndex})}return i.createElement("div",{onMouseMove:D,onMouseLeave:B},o.map(t=>{let r=y===t.resource.id||t.resource.resourceId===a?.data?.resource.resourceId;return i.createElement(rW,{key:t.resource.resourceId,favorite:t,isSelected:r,onSetResourceFavoriteDragDrop:W,reorderOrInsertFavorite:O,clearRearrangeDragState:x,updateRearrangeDragState:w,rearrangeDragState:b,previewYOffset:e.previewYOffset,showPreviewDelay:S,setShowPreviewDelay:L,sections:e.allSections,preventHoverStyle:void 0!==y})}),a&&i.createElement(rr,{dropdownShown:a}))})()))}function rQ(e){return i.createElement("div",{role:"button",tabIndex:0,className:tS,"data-tooltip-max-width":200,"data-tooltip-type":r$.Ib.TEXT,"data-tooltip":(0,k.t)("favorited_resources.create_a_new_section_tooltip"),onClick:t=>{t.stopPropagation(),e.setNewCustomSectionIndex&&e.setNewCustomSectionIndex(e.newCustomSectionIndex)},onContextMenu:e=>e.stopPropagation()},i.createElement(ei.B,{svg:rz.A,className:tL}))}function rK(e){return i.createElement("div",{className:"favorited_section--favoritedSectionEmptyState--Xhxgt sidebar--emptySection--SKfhv sidebar--sidebarSection---c9jn text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,k.tx)("sidebar.to_favorite_files_you_use_often"))}function rX(e){let t=(0,$.ds)(e.favoritedFiles,e.favoritedPrototypes,e.favoritedProjects,e.favoritedTeams,e.favoritedWorkspaces);return i.createElement(rq,{favorites:t,order:e.fileBrowserPreferences?.orderedFavoritedResourceIds??void 0,fileBrowserPreferences:e.fileBrowserPreferences,allSections:e.userSidebarSections??[],sectionIndex:0,previewYOffset:e.previewYOffset})}function rZ(e){let t=(0,l.wA)(),r=(0,l.d4)(e=>e.dragState),a=(0,l.d4)(e=>e.favorites.newCustomSectionIndex),n=(0,l.d4)(e=>e.favorites.favoritesCount),o=(0,$.ds)(e.favoritedFiles,e.favoritedPrototypes,e.favoritedProjects,e.favoritedTeams,e.favoritedWorkspaces),[s,c]=i.useState(),[d,m]=i.useState(),[u,_]=i.useState(!1),p=(0,ts.S)(),f=i.useMemo(()=>(0,$.t$)(e.userSidebarSections??[],e.fileBrowserPreferences?.orderedSidebarSections??void 0),[e.userSidebarSections,e.fileBrowserPreferences?.orderedSidebarSections]);i.useMemo(()=>{n&&n<15&&o.length>=15&&(0,ti.YQ)({id:tl.FAVORITES_COUNT_CROSSED_THRESHOLD_EVENT}),t(eN.lF({favoritesCount:o.length}))},[n,o.length,t]);let g={},E=[];o.forEach(e=>{e.resource.sidebarSectionId?g[e.resource.sidebarSectionId]?g[e.resource.sidebarSectionId].push(e):g[e.resource.sidebarSectionId]=[e]:E.push(e)});let h=i.useCallback(()=>r.type===eP.R.Favorite||r.type===eP.R.SidebarSection,[r]),y=i.useCallback(e=>{r.type===eP.R.SidebarSection&&_(e.upper)},[r]),v=i.useCallback(()=>{let a="starred"===s?void 0:s;if(r.type===eP.R.Favorite){let e=r.data;t(eN.V1({favoriteId:e.resource.id,sectionId:a,resourceType:e.resourceType}))}else if(r.type===eP.R.SidebarSection&&a){let n=f.map(e=>e.id)??[],i=(0,ta.Pe)(n,r.data,a,u);t(V.yJ({prefs:{id:e.fileBrowserPreferences?.id||"optimistic-id",orderedFavoritedResourceIds:e.fileBrowserPreferences?.orderedFavoritedResourceIds,orderedTeamIds:e.fileBrowserPreferences?.orderedTeamIds,orderedLicenseGroupIds:e.fileBrowserPreferences?.orderedLicenseGroupIds,orderedSidebarSections:i},userInitiated:!0}))}_(!1),c(void 0),t(to.T())},[s,t,r,u,f,e.fileBrowserPreferences]),b=i.useCallback(e=>()=>{c(e)},[]),w=i.useCallback(()=>{c(void 0)},[]),T=i.useCallback(e=>{t(eN.pS({newCustomSectionIndex:e}))},[t]);if(0===f.length&&p&&void 0===a)return i.createElement(tR,{setNewCustomSectionIndex:T});let I=i.createElement("div",{className:N.cx.mb8.$},i.createElement(rq,{favorites:[],order:[],allSections:f,isRenaming:!0,setRenamingSectionId:m,sectionIndex:a||0,isCreatingNewSection:!0,setNewCustomSectionIndex:T,fileBrowserPreferences:e.fileBrowserPreferences,previewYOffset:e.previewYOffset}));return i.createElement("div",{className:N.cx.mt8.$},0===a&&I,f.map((t,n)=>{let l=r.type===eP.R.Favorite?tv:u?"favorited_section--dropBefore--6poyi sidebar--dropBefore--wZDYO":"favorited_section--dropAfter--7G6L7 sidebar--dropAfter--JEX7d",o=M()([s===t.id?l:"",N.cx.mb8.$]);return i.createElement("div",{key:t.id},i.createElement(tn.Y,{className:o,isDragTarget:h,draggable:!1,onTargetDragQuadrantUpdate:y,onTargetDrop:v,onTargetDragEnter:b(t.id),onTargetDragLeave:w},i.createElement(rq,{favorites:g[t.id]??[],sectionIndex:n,section:t,allSections:f,order:t.orderedFavoritedResourceIds??[],isRenaming:d===t.id,setRenamingSectionId:m,setNewCustomSectionIndex:T,previewYOffset:e.previewYOffset,isCurrentHoveredSection:s===t.id})),a===n+1&&I)}),p&&i.createElement(tg,{setRenamingSectionId:m}))}var rJ=r(281381),r0=r(768137),r1=r(372038),r2=r(660656),r4=r(838329),r8=r(585878),r5=r(533600);let r3=(0,tc.Ju)(function(e){let[t,r]=(0,i.useState)(null),a=(0,l.wA)(),n=(0,r1.Gs)(),o=(0,z.TA)(),s=(0,l.d4)(e=>e.teamUserByTeamId),c=(0,l.d4)(e=>o?e.authedUsers.byId[o]?.plans?.filter(e=>!e.is_org):null),d=(0,k.t)("file_browser.planless_favorites.add_favorites_to_modal_title"),m=()=>a(tu.Ce()),u={};o&&(0,r4._)(s,o).forEach(e=>{e.drafts_folder_id&&(u[e.team_id]=e.drafts_folder_id)});let _=(e,t)=>{t&&a(r2.C({files:e,folderName:"",folderId:t,isDraftsToMove:!0,fromFileModal:!0}))};return i.createElement(r8.XV,{title:d,fixedTop:!0,minWidth:480,maxWidth:480,onClose:m,truncateTitleText:!0},i.createElement("div",{className:"move_favorites_modal--modalBody---Rdx2"},c&&i.createElement(ea.P,{width:480},i.createElement("div",{className:N.cx.pl8.pr8.$},c.map(e=>i.createElement(r9,{key:e.plan_id,planId:e.plan_id,name:e.name,imgUrl:e.img_url,checked:t?.plan_id===e.plan_id,onSelect:()=>r(t?.plan_id===e.plan_id?null:e)})))),i.createElement("div",{className:"move_favorites_modal--footer--ERUeX"},i.createElement(ee.nR,{onClick:m},(0,k.tx)("modal.cancel")),i.createElement(ee.vd,{disabled:!t,onClick:()=>{let r=t?.is_org?null:t?.plan_id,i=e.favorites.reduce((e,t)=>t.resourceType===eA.bk.FILE&&t.resource.file?.key?{...e,[t.resource.file?.key]:!0}:e,{}),l={},o=n.filter(e=>{let t=!!i[e.key];return t&&(l[e.key]=!0),t}),s=e.favorites.filter(e=>!(e.resourceType===eA.bk.FILE&&e.resource.file?.key)||!l[e.resource.file?.key]).map(e=>e.resource.id);a(eN.Ic({favoriteIds:s,teamId:r})),r&&_(o,u[r]),m()}},(0,k.t)("modal.confirm")))))},"MoveFavoritesModal");function r9(e){return i.createElement("button",{"data-testid":`${e.name}-button`,className:M()("move_favorites_modal--teamRow--qNRGf",e.checked?N.cx.colorBgSelected.$:""),onClick:e.onSelect},i.createElement("div",{className:"move_favorites_modal--iconContainer--oDATP"},e.checked?i.createElement(ei.B,{className:N.cx.colorIcon.$,svg:r5.A}):i.createElement(rm.nl,{size:rm.Pf.MEDIUM,shape:"CIRCLE",fallbackDisplay:ru.U.HIDDEN,team:{id:e.planId,imgUrl:e.imgUrl}})),i.createElement("div",{className:"move_favorites_modal--teamName--pVqcu ellipsis--ellipsis--Tjyfa"},i.createElement("span",{className:"move_favorites_modal--destinationHeading--mwxLX"},e.name)))}var r6=r(842232);let r7="favorited_drafts_to_move";function ae(e){let t=(0,l.wA)(),[r,a]=i.useState(!0),n=(0,l.d4)(e=>e.favorites.collapsedCustomSections),o=e.teamUser?.planlessFavoritedFiles?.filter(t=>!e.dataDriftCorrectedTeamResources?.favoritedFilesKeySet.has(t.resourceId)),s=e.teamUser?.planlessFavoritedPrototypes?.filter(t=>!e.dataDriftCorrectedTeamResources?.favoritedPrototypesIdSet.has(t.resourceId)),c=e.teamUser?.planlessFavoritedProjects?.filter(t=>!e.dataDriftCorrectedTeamResources?.favoritedFoldersIdSet.has(t.resourceId)),d=(0,$.ds)(o,s,c),m=!n.has(r7),u=i.useCallback(()=>{rH.Fp({type:"topLevel",id:r7,orgId:null},!m),m?n.add(r7):n.delete(r7),t(eN.U6({collapsedCustomSections:n}))},[m,n,t]),_=i.useCallback(()=>{t(eN.vr({favoriteIds:d.map(e=>e.id)}))},[t,d]);if(0===d.length)return i.createElement(i.Fragment,null);let f=d.map(t=>i.createElement(rW,{key:t.resource.resourceId,favorite:t,isSelected:!1,onSetResourceFavoriteDragDrop:p.lQ,reorderOrInsertFavorite:p.lQ,updateRearrangeDragState:p.lQ,clearRearrangeDragState:p.lQ,rearrangeDragState:void 0,previewYOffset:e.previewYOffset,showPreviewDelay:r,setShowPreviewDelay:a,sections:[],preventHoverStyle:!1,isFavoritesToMove:!0}));return i.createElement(i.Fragment,null,i.createElement("div",{className:"favorited_section--divider--o9WjE favorited_section--divider--o9WjE"}),i.createElement("div",{className:M()("favorited_section--moveFavoritesContainer--qp39R",N.cx.pt4.pb4.ml8.mr8.mb8.$)},i.createElement("div",{className:M()(N.cx.flex.itemsCenter.justifyBetween.pl8.pr8.$,"favorited_section--favoriteToMoveHeaderContainer--2RB9p favorited_section--sectionHeaderContainer--otgqF sidebar--sectionHeaderContainer--TcvBb sidebar--sectionHeaderName--xToHG sidebar--sectionName--4N7hT sidebar--sectionText--KAGhn sidebar--sectionContent--NHX7b ellipsis--ellipsis--Tjyfa")},i.createElement("div",{onClick:u,className:N.cx.flex.itemsCenter.justifyBetween.$,role:"button",tabIndex:0},i.createElement(ei.B,{className:M()(N.cx.flex.itemsCenter.p6.mr12.colorIcon.$,"favorited_section--moveFavoritesContainerHeaderLeftBlockItems--pl1Hf"),svg:m?rj.A:rG.A}),(0,k.tx)("sidebar.move_these_starred_items"),i.createElement(ei.B,{svg:r6.A,className:M()("favorited_section--helpIcon--vfl5Y",N.cx.flex.itemsBaseline.ml4.$),"data-tooltip-type":r$.Ib.TEXT,"data-tooltip":(0,k.t)("file_browser.planless_favorites.your_favorited_items_tooltip"),"data-tooltip-timeout-delay":50,"data-tooltip-max-width":200})),m?null:i.createElement(rJ.Ex,{text:d.length>99?"99+":`${d.length}`,color:rJ.zE.DEFAULT,className:N.cx.mr8.colorText.colorBgSelectedSecondary.$})),m?i.createElement("div",{className:"favorited_section--favoritesToMoveContentContainer--xYv6p"},f,i.createElement("div",{className:N.cx.flex.justifyBetween.m8.h24.$},i.createElement(r0.$$,{className:"favorited_section--favoritesToMoveActionButtons--FUt77",onClick:()=>{t(tu.to({type:r3,data:{favorites:d}}))}},(0,k.tx)("file_browser.planless_favorites.add_to_sidebar")),i.createElement(r0.nR,{className:"favorited_section--unstarAllButton--Rhy3- favorited_section--favoritesToMoveActionButtons--FUt77",onClick:_},(0,k.tx)("file_browser.planless_favorites.unstar_all")))):null))}function at(e){let t=(0,l.d4)(e=>e.currentTeamId),r=(0,l.wA)();return t?i.createElement(eT.Z,{isSelected:e.selectedView&&"limitedTeamSharedProjects"===e.selectedView.view,onClick:()=>{r(eX.eP()),r(eI.Oe({clickedResourceType:"limitedTeamSharedProjects"}))},icon:i.createElement(ew.In,{icon:"grid-32"}),text:i.createElement(S.E,{truncate:!0},(0,k.tx)("sidebar.all_shared_projects"))}):null}function ar(e){return e?(0,k.t)("sidebar.browse.all_workspaces"):(0,k.t)("sidebar.browse.all_teams")}function aa(){let e=(0,l.d4)(e=>e.currentUserOrgId),t=(0,l.d4)(t=>e?t.orgById[e]:null),r=(0,q.c4)(e).data??!1;return t&&e?i.createElement(i.Fragment,null,ar(r)):null}var an=r(499893);function ai({hasWorkspaces:e}){let t=(0,l.wA)(),r=(0,l.d4)(e=>e.currentUserOrgId),a=(0,l.d4)(e=>e.selectedView),n=(0,ts.S)(),o=(0,l.d4)(e=>r?e.orgById[r]:null),s="org"===a.view&&a.orgId===r,c=ar(e);return o&&r&&c?i.createElement(eT.Z,{isSelected:s,onClick:()=>{t(eI.$T({view:"org",orgId:r,orgViewTab:tE.X.HOME})),t(eI.Oe({clickedResourceType:"org",resourceIdOrKey:r}))},icon:i.createElement(ei.B,{className:N.cx.colorIcon.$,svg:n?rM.A:an.A}),text:i.createElement(S.E,{truncate:!0},c)}):null}var al=r(807749),ao=r(539665);let as="seen_team_admin_moved_unassigned_drafts_onboarding",ac=(0,eu.r1)(as);function ad(){let e=(0,es.md)(ac),{show:t,isShowing:r,complete:a}=(0,em.e)({overlay:eE.tZO,priority:ep.N.DEFAULT_MODAL},[e]);return(0,d.h)(()=>{t({canShow:e=>!e})}),i.createElement(ef.rq,{clickOutsideToHide:!0,arrowPosition:eg.F_.LEFT_TITLE,isShowing:r,targetKey:a_,trackingContextName:ao.o8,title:(0,k.tx)("team_admin.onboarding.unassigned_drafts.title"),description:(0,k.tx)("team_admin.onboarding.unassigned_drafts.description"),primaryCta:{label:(0,k.tx)("general.got_it"),type:"button",onClick:a,ctaTrackingDescriptor:ed.c.DONE},secondaryCta:{label:(0,k.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/4420549259799",ctaTrackingDescriptor:ed.c.LEARN_MORE},onClose:a,userFlagOnShow:as,shouldCenterArrow:eg.EL.FALLBACK})}var am=r(243987),au=r(668526);let a_="PRO_ADMIN_SETTINGS_LINK_ONBOARING_KEY";function ap(e){let t=(0,l.wA)(),r=(0,l.d4)(e=>e.currentTeamId),a=(0,l.d4)(e=>e.teams),n=(0,l.d4)(tU.getPermissionsState);if(!r)return null;let o=a[r];if(!(0,tU.hasAdminRoleAccessOnTeam)(r,n)||!o||!(0,am.w5)(o))return null;let s=e.selectedView&&"teamAdminConsole"===e.selectedView.view,c=i.createElement(eD.e9,{planType:eO.ps.TEAM,planId:r,isSelected:s,isDataLoaded:!0,isOrgAdmin:!1});return i.createElement(i.Fragment,null,i.createElement(eU,{badge:o?.pro_team?c:void 0,isSelected:s,dataTestId:"admin-settings-link",dataOnboardingKey:a_,onClick:()=>{t(eI.$T({view:"teamAdminConsole",teamId:r,isProTeam:o.pro_team,teamAdminConsoleViewTab:o.pro_team?au.Iv.DASHBOARD:au.Iv.MEMBERS})),t(eI.Oe({clickedResourceType:"teamAdminSettings",resourceIdOrKey:o.id}))}}),i.createElement(ad,null))}var af=r(268853),ag=r(915440),aE=r(205857),ah=r(408462),ay=r(309798),av=r(279453),ab=r(206193),aw=r(74592),aT=r(799569),aI=r(672517);function aC(){return i.createElement("div",{className:"base_upgrade_section--divider--k-uOp sidebar--divider--sHsz4"})}function ax(e){return i.createElement(aI.fu,{name:e.trackingContext,properties:e.trackingProperties},i.createElement("div",{className:e.demure?"base_upgrade_section--contentMindful--eOyhd base_upgrade_section--content--95XrT":"base_upgrade_section--content--95XrT"},e.onDismiss&&i.createElement(aT.Jn,{className:"base_upgrade_section--closeButton--cbjWt",onClick:e.onDismiss}),e.header&&i.createElement("div",{className:N.cx.wFull.if(e.demure,N.cx.font13.lh24,N.cx.mb12).$},e.header,!e.demure&&i.createElement(aC,null)),e.svg&&i.createElement(ei.B,{className:`base_upgrade_section--icon--B3S9V ${e.svgStyles??""}`,svg:e.svg}),e.countDownDaysLeft&&i.createElement("div",{className:"base_upgrade_section--countdownTicker--6YLVt"},i.createElement(S.E,{children:e.countDownDaysLeft,fontWeight:"medium",fontSize:14})),i.createElement("div",{className:e.demure?"base_upgrade_section--textContainerMindful--CttjJ":"base_upgrade_section--textContainer--ObHaO"},e.titleText&&i.createElement("p",{className:"base_upgrade_section--title--MLhT1"},e.titleText),i.createElement("p",null,e.bodyText)),i.createElement(ee.vd,{className:"base_upgrade_section--ctaButton--B1ywj",onClick:e.onClickCTA,dataTestId:e.ctaDataTestId,disabled:e.disabled,trackingProperties:e.ctaTrackingProperties},e.ctaText)))}let aN="upgrade_section--upgradeTextEmphasized--aQCr9";var ak=r(491095),aS=r(247866),aL=(e=>(e[e.UPGRADE=0]="UPGRADE",e[e.CREATE=1]="CREATE",e))(aL||{});function aA(e){let t=(0,l.wA)(),r=(0,I.Gu)(),a=e.type,n=i.createElement("span",{className:aN},(0,k.t)("edu.sidebar_section.verified"));return i.createElement(ax,{trackingContext:0===a?"Edu Upgrade Section":"Edu Create Section",svg:ak.A,bodyText:i.createElement(i.Fragment,null,n," ",0===a?(0,k.t)("edu.sidebar_section.upgrade"):(0,k.t)("edu.sidebar_section.create_team")),ctaText:0===a?(0,k.t)("edu.choose_team"):(0,k.t)("edu.create_free_team"),onClickCTA:0===a?()=>{t((0,tu.to)({type:ah.q}))}:()=>{t(eX.Dw({isEduTeam:!0}))},onDismiss:r?void 0:()=>{t(ek.b({dismissed_edu_sidebar:!0}))},ctaDataTestId:"edu-upgrade-cta"})}function aR({daysLeft:e}){let t=(0,l.wA)(),r=(0,ag.Rs)(av.UpR,{},{enabled:!(0,u.kc)().edu_bootcamps_reverification}),a=(0,W.H5)(),n=!!(0,ay.f)("edu_hide_verification");if((0,u.kc)().edu_bootcamps_reverification||(n=(r.data?.currentUser?.schoolType?.status===J.tT.Loaded?r.data.currentUser.schoolType.data:null)===aw.h6.BOOTCAMP_OR_ONLINE&&a()),e<0)return null;let o=()=>{t((0,tu.to)({type:aE.V,data:{upsellSource:ab.b.EDU_UPGRADE_SECTION}}))},s=i.createElement(ee.eM,{onClick:()=>c.Ay.redirect("/education/apply",f.Ay.isIpadNative?void 0:"_blank")},(0,k.tx)("edu.sidebar_section.verify_your_education_status"));return e>0?i.createElement(ax,{trackingContext:"Universal Upgrade Section Education Plan Countdown",countDownDaysLeft:e,titleText:(0,k.tx)("edu.sidebar_section.education_plan_expires_in_days",{daysLeft:e}),bodyText:n?(0,k.tx)("edu.sidebar_section.bootcamp_users_after_that_you_ll_need_to_upgrade_your_team"):(0,k.tx)("edu.sidebar_section.after_that_you_ll_need_to_upgrade_your_team_or_verify",{verify:s}),ctaText:(0,k.tx)("upgrade.upgrade_to_professional"),onClickCTA:o}):i.createElement(ax,{trackingContext:"Universal Upgrade Section Education Plan Expired",svg:aS.A,titleText:(0,k.tx)("edu.sidebar_section.education_plan_expired"),bodyText:n?(0,k.tx)("edu.sidebar_section.bootcamp_users_to_keep_editing_upgrade_your_team"):(0,k.tx)("edu.sidebar_section.to_keep_editing_upgrade_your_team",{verify:s}),ctaText:(0,k.tx)("upgrade.upgrade_to_professional"),onClickCTA:o})}var aP=r(138020),aF=r(881388),aO=r(760824),aD=r(845213);let aM="dismissed_limited_team_space_uub";function aB(e){let t=(0,l.wA)(),[r,a]=i.useState(!1),n=(0,ag.Rs)(av.qOl,{teamId:e.team.id}),o=(0,z.iZ)(),s="loaded"===n.status&&(0,aP.oA)(n.data?.teamRoleRequest),c=!!s&&"pending"===s.status,d=!!s&&"approved"===s.status,m=!!s&&"denied"===s.status;if(i.useEffect(()=>{c&&a(!0)},[c]),"loaded"!==n.status||d||m)return null;let u=async()=>{try{await aD.$.requestTeamRole({teamId:e.team.id}),t(tO.F.enqueue({message:(0,k.t)("view_permissions.request_sent"),type:"request-team-membership"})),(0,H.uE)("limited_team_plan_request_upgrade_clicked",{user:o},{teamId:e.team.id}),a(!0)}catch(e){t(aF.s.error("Failed to request team role",e))}};return i.createElement(ax,{trackingContext:"Limited Team Space Dismissable Upgrade Section",trackingProperties:{teamId:e.team.id},disabled:c||r,header:(0,k.tx)("upgrade.limited_access_in_this_team"),bodyText:(0,k.tx)("upgrade.to_get_unlimited_files_must_be_member",{currentTeamName:e.team.name}),ctaText:r?(0,k.tx)("upgrade.access_requested"):(0,k.tx)("upgrade.request_full_access"),onClickCTA:u,ctaTrackingProperties:{},onDismiss:()=>{t(aO.bE({all_team_flags:[{team_id:e.team.id,flags:{[aM]:!0}}]}))},demure:"very"})}var aU=r(898211),aV=r(724838),aW=r(990546);function aH({orgUpsellEligibility:e}){let t=(0,l.wA)(),r=(0,l.d4)(e=>e.userFlags),a=e===aV.VY.SINGLE_TEAM?(0,k.tx)("upgrade.access_cross_team_design_libraries_sso_and_more"):(0,k.tx)("upgrade.centralize_your_teams_and_share_design_libraries"),n=`${e===aV.VY.SINGLE_TEAM?"Single-Team":"Multi-Team"} Dismissible Org Upgrade Section`;return i.createElement(ax,{trackingContext:n,svg:aW.A,bodyText:a,ctaText:(0,k.tx)("upgrade.view_plans"),onClickCTA:()=>{e===aV.VY.SINGLE_TEAM&&t((0,tu.to)({type:aU.HS,data:{upsellSource:ab.b.ORG_UPGRADE_SECTION}})),e===aV.VY.MULTIPLE_TEAMS&&t((0,tu.to)({type:aU.u3,data:{upsellSource:ab.b.ORG_UPGRADE_SECTION}}))},onDismiss:()=>t((0,aV.CJ)(r)),ctaDataTestId:"org-upgrade-cta"})}var a$=r(317372),aj=r(942244),aG=r(385111);let aY="dismissed_paid_free_space_uub";function az(e){let t=(0,l.wA)(),r=(0,es.md)(a$.A),a=aG.h.useTrackingContext({trigger:ab.b.UNIVERSAL_UPGRADE_SECTION}),n=i.createElement(ee.eM,{onClick:()=>{t(eI.j7({type:aj.ER,data:{targetRect:r}}))},trackingProperties:{trackingDescriptor:ed.c.WORK_IN_ONE_OF_YOUR_PAID_TEAMS}},(0,k.tx)("upgrade.work_in_one_of_your_paid_teams")),o=(0,k.tx)("upgrade.to_get_unlimited_files_and_features_link_switch_teams_or_upgrade_this_team_s_plan",{linkSwitchTeams:n});return i.createElement(ax,{trackingContext:"Paid Free Space Dismissible Upgrade Section",trackingProperties:{teamId:e.team.id,...a},header:(0,k.tx)("upgrade.this_team_is_on_a_free_plan"),bodyText:o,ctaText:(0,k.tx)("upgrade.view_all_plans"),onClickCTA:()=>{t((0,tu.to)({type:aE.V,data:{upsellSource:ab.b.UNIVERSAL_UPGRADE_SECTION}}))},ctaTrackingProperties:{trackingDescriptor:ed.c.VIEW_ALL_PLANS},onDismiss:()=>{t(aO.bE({all_team_flags:[{team_id:e.team.id,flags:{[aY]:!0}}]}))},demure:"very"})}var aq=r(175290),aQ=r(378459),aK=r(746869);let aX="pro_trials_upgrade_section--divider--0tBoX sidebar--divider--sHsz4";var aZ=r(707990);function aJ(){let e=(0,l.wA)();return i.createElement(ax,{trackingContext:"Universal Upgrade Section Pro Trial Entry",trackingProperties:aK.ng.getTrackingProperties(),svg:aZ.A,titleText:i.createElement(S.E,null,(0,k.tx)("upgrade.free_professional_team_trial")),bodyText:i.createElement(S.E,null,(0,k.tx)("upgrade.enjoy_our_best_design_features_for_14_days")),ctaText:i.createElement(S.E,null,(0,k.tx)("upgrade.try_the_professional_plan")),onClickCTA:()=>e((0,tu.to)({type:aQ.m})),ctaDataTestId:"redesigned-upgrade-button-pro-trial-entry-upgrade",ctaTrackingProperties:aK.ng.getTrackingProperties("Try the Professional Plan"),svgStyles:"pro_trials_upgrade_section--sparkleIcon--ybCKo"})}function a0({team:e}){return i.createElement(aq.Y,{spacing:8,dataTestId:"team-info"},i.createElement(rm.nl,{size:rm.Pf.SMALL,team:e,fallbackDisplay:ru.U.HIDDEN,shape:"ROUNDED_SQUARE"}),i.createElement(S.E,{children:e.name,fontWeight:"medium",fontSize:11,truncate:"end"}))}function a1({daysLeft:e,trialTeam:t,onClickCTA:r}){var a;let n=i.createElement(ee.eM,{onClick:r,dataTestId:"pro_trial_inline_upgrade",trackingProperties:aK.ng.getTrackingProperties()},(0,k.tx)("upgrade.pro_trial_inline_upgrade_cta"));return i.createElement(aI.fu,{name:"Universal Upgrade Section Pro Trial Countdown",properties:aK.ng.getTrackingProperties()},i.createElement("div",{className:aX}),i.createElement("div",{className:"pro_trials_upgrade_section--redesignedUpgradeSection--E-f1E"},i.createElement("div",{className:"pro_trials_upgrade_section--countdownInfo--sN5Pd"},i.createElement(a0,{team:t})),i.createElement("div",{className:aX}),i.createElement("div",{className:"pro_trials_upgrade_section--countdownDaysTicker--rDpWO"},i.createElement(S.E,{children:e,color:e<=2?"danger":"default",fontWeight:"medium",fontSize:24})),i.createElement("div",{className:"pro_trials_upgrade_section--countdownDaysLeftText--a-ppM"},i.createElement(S.E,{color:e<=2?"danger":"default",fontWeight:"medium",fontSize:13},(0,k.tx)("upgrade.days_left_in_trial",{days:e}))),i.createElement("div",{className:"pro_trials_upgrade_section--redesignedUpgradeText--ho-7F"},i.createElement(S.E,{children:(a=e)>=14?i.createElement(S.E,null,(0,k.tx)("upgrade.pro_trial_uub_countdown.this_counter_will_help_you_keep_track",{upgrade:n})):a>=10?i.createElement(S.E,null,(0,k.tx)("upgrade.pro_trial_uub_countdown.if_you_are_enjoying_your_trial",{upgrade:n})):a>=4?i.createElement(S.E,null,(0,k.tx)("upgrade.pro_trial_uub_countdown.try_out_these_features")):a>=2?i.createElement(S.E,null,(0,k.tx)("upgrade.pro_trial_uub_countdown.you_will_miss_these_files")):a>=1?i.createElement(S.E,null,(0,k.tx)("upgrade.pro_trial_uub_countdown.just_a_memory")):null})),e<=9&&i.createElement(ee.vd,{className:"pro_trials_upgrade_section--redesignedUpgradeButton--SP1nz",onClick:r,dataTestId:"redesigned-upgrade-button-pro-trial-countdown-upgrade",trackingProperties:aK.ng.getTrackingProperties()},i.createElement(S.E,null,(0,k.tx)("upgrade.upgrade_to_professional")))))}function a2(e){return i.createElement(ax,{trackingContext:"Universal Upgrade Section Pro Trial Expired",trackingProperties:aK.ng.getTrackingProperties(),titleText:i.createElement(S.E,null,(0,k.tx)("upgrade.currently_on_starter_plan")),bodyText:i.createElement(S.E,null,(0,k.tx)("upgrade.your_trial_has_ended")),ctaText:i.createElement(S.E,null,(0,k.tx)("upgrade")),onClickCTA:e.onClickCTA,ctaDataTestId:"redesigned-upgrade-button-pro-trial-expired-upgrade",ctaTrackingProperties:aK.ng.getTrackingProperties(),header:i.createElement(a0,{team:e.team})})}function a4(e){let t=(0,l.wA)(),{ongoingUpgradableTrials:r,expiredUpgradableTrials:a}=e,n=(0,l.d4)(e=>e.teams),o=e=>{t((0,tu.to)({type:aE.V,data:{teamId:e,upsellSource:ab.b.PRO_TRIAL_UPSELL_MODAL}}))};return a.length>0?i.createElement(a2,{team:n[a[0].teamId],onClickCTA:()=>o(a[0].teamId)}):r.length>0?i.createElement(a1,{trialTeam:n[r[0].teamId],daysLeft:r[0].daysLeft,onClickCTA:()=>o(r[0].teamId)}):null}var a8=(e=>(e.PRO_TRIALS_ENTRY="Pro Trials Entry",e.PRO_TRIALS_UPGRADE="Pro Trials Upgrade",e.LIMITED_TEAM_SPACE="Limited Team Space",e.EDU_EXPIRY="EDU Expiry",e.EDU_UPGRADE="EDU Upgrade",e.ORG_UPGRADE="Org Upgrade",e.PAID_FREE_SPACE="Paid Free Space",e.UNIVERSAL="Universal",e))(a8||{}),a5=(e=>(e.BETWEEN_CONTENT="between_content",e.AFTER_CONTENT="after_content",e.IN_FOOTER="in_footer",e))(a5||{});function a3({onTeam:e,hitFileLimit:t}){let r=(0,l.wA)(),a=aG.h.useTrackingContext({trigger:ab.b.UNIVERSAL_UPGRADE_SECTION}),n=t?i.createElement(i.Fragment,null,i.createElement("span",{className:aN},(0,k.tx)("upgrade.running_out_of_files_in_your_free_team"))," ",(0,k.tx)("upgrade.upgrade_to_give_your_ideas_and_designs_room_to_grow_without_limits")):(0,k.tx)("upgrade.ready_to_go_beyond_free_plan_upgrade_for_premium_features");return i.createElement(ax,{trackingContext:"Universal Upgrade Section",trackingProperties:{onTeam:e,hitFileLimit:t,...a},svg:aW.A,bodyText:n,ctaText:(0,k.tx)("upgrade.view_plans"),ctaTrackingProperties:{trackingDescriptor:ed.c.UPGRADE},ctaDataTestId:"redesigned-upgrade-button",onClickCTA:()=>{r((0,tu.to)({type:aE.V,data:{upsellSource:ab.b.UNIVERSAL_UPGRADE_SECTION}}))}})}var a9=r(794272),a6=r(650322),a7=r(205548),ne=r(7e3),nt=r(984968),nr=r(716034),na=r(529928),nn=r(693223);let ni=(0,nr.eU)(e=>{let t=e(nn.m),r=e(nl),a=(0,u.kc)().ps_benchmark;if(!r)return!1;let n=[eA.P4.FILES_LIMITED,eA.P4.FILES_LIMITED_LEGACY,eA.P4.WHITEBOARD_FILES_LIMITED,eA.P4.WHITEBOARD_FILES_LIMITED_BETA,eA.P4.SLIDE_FILES_LIMITED,eA.P4.SLIDE_FILES_LIMITED_BETA].some(e=>r?.restrictions_list?.includes(e));return a?n:Object.values(t).some(e=>[eA.P4.FILES_LIMITED,eA.P4.FILES_LIMITED_LEGACY,eA.P4.WHITEBOARD_FILES_LIMITED,eA.P4.WHITEBOARD_FILES_LIMITED_BETA,eA.P4.SLIDE_FILES_LIMITED,eA.P4.SLIDE_FILES_LIMITED_BETA].some(t=>e.restrictions_list&&e.restrictions_list.includes(t)))}),nl=(0,na.bt)(e=>{let t=e.currentTeamId;return t?e.teams[t]:null});function no(){return i.createElement(F.tH,{boundaryKey:"SidebarUpgradeSection",fallback:F.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:af.e.MONETIZATION_UPGRADES}},i.createElement(ns,null))}function ns(){let e=nd();return null===e?null:i.createElement(nc,{...e})}function nc(e){switch(e.type){case a8.PRO_TRIALS_ENTRY:return i.createElement(aJ,null);case a8.PRO_TRIALS_UPGRADE:return i.createElement(a4,{ongoingUpgradableTrials:e.props.ongoingUpgradableTrials,expiredUpgradableTrials:e.props.expiredUpgradableTrials});case a8.EDU_EXPIRY:return i.createElement(aR,{daysLeft:e.props.daysLeft});case a8.EDU_UPGRADE:return i.createElement(aA,{type:e.props.type});case a8.ORG_UPGRADE:return i.createElement(aH,{orgUpsellEligibility:e.props.orgUpsellEligibility});case a8.PAID_FREE_SPACE:return i.createElement(az,{team:e.props.team});case a8.LIMITED_TEAM_SPACE:return i.createElement(aB,{team:e.props.team});case a8.UNIVERSAL:default:return i.createElement(a3,{onTeam:e.props.onTeam,hitFileLimit:e.props.hitFileLimit})}}function nd(){let e=function(){let e=(0,eL.FC)(),t=(0,z.TA)(),r=(0,ay.f)(aK.Jy),a=(0,ne.xX)(),n=(0,l.d4)(e=>e.userTeamFlags),i=(0,e3.pT)();if(aK.ng.uxEnabled()&&!i){let{ongoingTrials:i,expiredTrials:l}=aK.ng.getUpgradableProTrials(n,e),o=l.filter(aK.ng.canSeeProTrialExpiryUx);if(i.length>0||o.length>0)return{type:a8.PRO_TRIALS_UPGRADE,props:{ongoingUpgradableTrials:i,expiredUpgradableTrials:o}};if(r&&a.length>0&&aK.ng.isUserInVariant(t))return{type:a8.PRO_TRIALS_ENTRY}}return null}(),t=function(){let e=(0,z.iZ)(),t=(0,nt.ol)(),r=(0,eL.FC)(),a=(0,ag.Rs)(av.UpR,{}),n=a.data?.currentUser?.eduPeriodEnd,i=(0,I.Gu)(),o=(0,l.d4)(e=>e.userFlags),s=(0,e3.pT)();if(!e||"loaded"!==a.status)return null;let c=(0,a6.x$)(n,(0,a6.cn)(e)),d=c>0&&c!==1/0&&(0,a6.cn)(e)&&t?.student_team_state===eA.kU.STUDENT_TEAM_CURRENT,m=0===c&&t?.student_team_state===eA.kU.STUDENT_TEAM_EXPIRED&&(0,am.oc)(t.id,r);if((0,u.kc)().edu_offboarding_experience&&(d||m))return{type:a8.EDU_EXPIRY,props:{daysLeft:c}};if((!o.dismissed_edu_sidebar||i)&&(0,a6.cn)(e)&&!s){let e=(0,am.Kg)(r).length>0;return{type:a8.EDU_UPGRADE,props:{type:e?aL.UPGRADE:aL.CREATE}}}return null}(),r=function(){let e=(0,z.iZ)(),t=0===Object.keys((0,l.d4)(e=>e.orgById)).length,r=(0,l.d4)(e=>e.teams),a=(0,nt.ol)(),n=(0,es.md)(ni),i=!Object.values(r).some(e=>null!==e.subscription||e.student_team_at),o=!!(0,u.kc)().ps_benchmark,s=(0,es.md)(e1.Lm),c=(0,ag.Rs)(av.kQI,{id:a?.id??""},{enabled:!!a&&o}),d=(0,Z.vt)(),m=(0,W.Yz)(),_=(0,K.R)(a?.id),p=(0,K.jn)(),f=(0,W.Xs)();if(!e||o&&!a||o&&("loaded"!==c.status||!c.data.team?.hasPermission||"loaded"!==s.status||!s.data))return null;let g=a&&o&&!(0,a6.cn)(e)&&!(0,am.w5)(r[a.id])&&!m(d)&&!f(p&&_);return!o&&t&&!(0,a6.cn)(e)&&i||g?{type:a8.UNIVERSAL,props:{onTeam:Object.keys(r).length>0,hitFileLimit:n}}:null}(),a=function(){let e=(0,eL.FC)(),t=(0,l.d4)(e=>e.userFlags),r=(0,a9.R)(e=>({orgUsersByOrgId:e.orgUsersByOrgId,user:e.user,userFlags:e.userFlags,teams:e.teams,currentTeamId:e.currentTeamId})),a=(0,aV.hF)(r,e),n=(0,aV.j)(t);return a===aV.VY.NONE||n?null:{type:a8.ORG_UPGRADE,props:{orgUpsellEligibility:a}}}(),n=function(){let e=(0,z.iZ)(),t=(0,l.d4)(e=>e.teams),r=(0,nt.ol)(),a=!!(0,u.kc)().ps_benchmark,n=(0,es.md)(e1.Lm),i=(0,l.d4)(e=>e.userTeamFlags),o=(0,ag.Rs)(av.kQI,{id:r?.id??""},{enabled:!!r&&a}),s=(0,W.Mi)();return!e||!r||!a||"loaded"!==n.status||n.data||(0,a6.cn)(e)||(0,am.w5)(t[r.id])||"loaded"!==o.status||!o.data.team?.hasPermission||!s()?null:(0,a7.gY)(i,aY,r.id,7776e6)?null:{type:a8.PAID_FREE_SPACE,props:{team:r},overrideLocation:a5.IN_FOOTER}}(),i=function(){let e=(0,z.iZ)(),t=(0,nt.ol)(),r=(0,Q.d)(),a=(0,l.d4)(e=>e.userTeamFlags);return e&&t&&r?(0,a7.gY)(a,aM,t.id,7776e6)?null:{type:a8.LIMITED_TEAM_SPACE,props:{team:t},overrideLocation:a5.IN_FOOTER}:null}();return null!==e?e:null!==i?i:null!==t?t:null!==r?r:null!==a?a:null!==n?n:null}var nm=r(776250),nu=r(913270),n_=r(195907);function np(){let e=(0,l.wA)(),t=()=>{(0,nm.sx)("community_browser_sidebar_action_clicked"),e(eI.$T({view:"communityHub",subView:"searchAndBrowse",data:(0,nu.Gu)()}))};return i.createElement(aI.L0,{trackingEventName:"community_browser_sidebar_action_clicked",className:M()(N.cx.flex.flexRow.itemsCenter.gap12.h48.pl16.pr16.colorText.cursorDefault.$,"explore_community_button--hoverColor--mDUIs"),"data-onboarding-key":n_.vM,onClick:e=>{e.preventDefault(),e.stopPropagation(),t()}},i.createElement(ew.In,{icon:"community-16"}),i.createElement(S.E,null,(0,k.tx)("sidebar.explore_community")))}function nf(e){return i.createElement("div",{className:N.cx.sticky.bottom0.colorBg.zIndex1.if(e.hasTopBorder,N.cx.bt1.colorBorder.bSolid).$},e.shouldShowUUBInFooter&&i.createElement("div",{className:N.cx.pb10.pt12.$},i.createElement(no,null)),!(0,u.sL)()&&i.createElement(np,null))}var ng=r(380473),nE=r(264488);function nh(e){return i.createElement("div",{className:N.cx.flex.flexColumn.colorBg.if(e.hasBottomBorder,N.cx.bb1.colorBorder.bSolid).$},i.createElement(nE.Xg,null),i.createElement(ng.Zn,null))}var ny=r(900581),nv=r(278362);function nb(e){let t=(0,l.wA)(),r=(0,eC._6)(),a=(0,l.d4)(e=>e.currentUserOrgId),n=(0,ts.S)(),o=(0,l.d4)(e=>e.teamFeedBellStates),s=!!(a&&o[a]),c="teamFeed"===r.view;return i.createElement(eT.Z,{onClick:()=>{t(eI.$T({view:"teamFeed"})),t(eI.Oe({clickedResourceType:"teamFeed"}))},isSelected:c,icon:i.createElement(ei.B,{className:N.cx.colorIcon.$,svg:n?nv.A:ny.A}),text:i.createElement("span",{className:"team_feed_page_link--sectionNameCustomSections--dPwog sidebar--sectionNameCustomSections--9e7LZ sidebar--sectionTextCustomSections---1KFn sidebar--sectionContentCustomSections--wI9mZ ellipsis--ellipsis--Tjyfa"},i.createElement("div",{className:"team_feed_page_link--sectionNameCustomSectionsLeft--MLMFK"},(0,k.tx)("fig_feed.feed"),s&&i.createElement("div",{className:"team_feed_page_link--redDot--t6QPY red_dot--baseRedDot--pgZV7"})))})}var nw=r(796933);function nT({selectedView:e,teamFolderId:t,teamFolderName:r}){let a=(0,l.wA)();return t&&r?i.createElement(eT.Z,{isSelected:e&&"folder"===e.view&&e.folderId===t,onClick:()=>{a(eX.gN(t)),a(eI.Oe({clickedResourceType:"folder"}))},icon:i.createElement(ew.In,{icon:"folder-32"}),text:i.createElement(S.E,{truncate:!0,showTooltipWhenTruncated:!1},r),"data-onboarding-key":nw.Jo}):null}var nI=r(699575);function nC(){let e=(0,l.wA)(),t="deletedFiles"===(0,l.d4)(e=>e.selectedView).view;return i.createElement(i.Fragment,null,i.createElement(eT.Z,{isSelected:t,onClick:()=>{e(eI.$T({view:"deletedFiles"})),e(eI.Oe({clickedResourceType:"deletedFiles"}))},icon:i.createElement(ei.B,{className:N.cx.colorIcon.$,svg:nI.A}),text:i.createElement("div",{className:N.cx.pr36.$},i.createElement(S.E,null,(0,k.tx)("file_browser.tool_bar.trash")))}))}var nx=r(630834);function nN(e){let t=(0,l.wA)(),r=(0,Y.dq)(),a=(0,l.d4)(e=>e.currentTeamId),n=(0,l.d4)(e=>e.userFlags),o=(0,eL.FC)(),s=(0,l.d4)(e=>e.userStateLoaded),c=(0,eC._6)(),d=(0,l.d4)(e=>e.dragState),[m,_]=i.useState(0),[p,g]=i.useState(!1),[E,h]=i.useState(!1),[y,v]=i.useState(!1),b=e=>{t(ek.b({show_create_new_section_banner:!1}))},w=e=>{t(eN.pS({newCustomSectionIndex:0})),b(e)},T=!!a,I=(0,Q.d)(),C=(0,eR.wA)(o),x=(0,eS.a9)(),S=x&&x.permission===eA._D.ADMIN,L=(0,$.D6)(r),A=()=>s?i.createElement(no,null):null,R=(0,u.kc)().ps_benchmark&&T?e.dataDriftCorrectedTeamResources?.favoritedFiles:e.sidebarUser?.favoritedFiles,P=(0,u.kc)().ps_benchmark&&T?e.dataDriftCorrectedTeamResources?.favoritedPrototypes:e.sidebarUser?.favoritedPrototypes,F=(0,u.kc)().ps_benchmark&&T?e.dataDriftCorrectedTeamResources?.favoritedProjects:e.sidebarUser?.favoritedProjects;F&&e.FBGNavigationUpdatesTreatment!==W.ih.CONTROL&&(F=F.filter(t=>t.project?.id!==e.teamFolderId));let O=R?.length===0&&P?.length===0&&F?.length===0,D=e.FBGNavigationUpdatesTreatment===W.ih.CONTROL||!O,B=nd(),U={[W.ih.CONTROL]:a5.BETWEEN_CONTENT,[W.ih.VARIANT_A]:a5.IN_FOOTER,[W.ih.VARIANT_B]:a5.AFTER_CONTENT}[e.FBGNavigationUpdatesTreatment],V=B?.overrideLocation??U,H=!!d.data&&(d.type===eP.R.Folder||d.type===eP.R.Team||d.type===eP.R.Favorite),j=C&&i.createElement("div",{className:e9},n.show_create_new_section_banner?i.createElement("div",{className:"sidebar--betaAnnouncementContainer--FfmFT"},i.createElement("div",{className:"sidebar--betaAnnouncementHeader--g6Qzz"},i.createElement("div",{className:"sidebar--betaAnnouncementHeaderTitle--AyDjm"},(0,k.tx)("favorited_resources.custom_sections_banner_header")),i.createElement("div",{role:"button",tabIndex:0,className:"sidebar--closeX---nRcN",onClick:e=>b(e)},i.createElement(ei.B,{svg:nx.default}))),i.createElement("div",{className:"sidebar--betaAnnouncementBodyContainer--8u60g"},i.createElement("p",null,(0,k.tx)("favorited_resources.custom_sections_banner_body")),i.createElement("br",null),i.createElement("p",null,i.createElement(ee.tM,{className:"sidebar--betaAnnouncementButton--RCpKp",onClick:e=>w(e)},(0,k.tx)("favorited_resources.custom_sections_banner_create_new_section_button"))))):null),G=!(e.showLoadingState||e.showingFileBrowserLoader);return i.createElement(et.A,{loadingElementId:"filebrowser-loading-sidebar",loaded:G},i.createElement("div",{className:N.cx.flex.flexColumn.wFull.$},i.createElement(nh,{hasBottomBorder:y}),i.createElement(ea.P,{className:"sidebar--sidebarScrollContainer--Z95XT",innerClassName:N.cx.hFull.$,scrollingDisabled:!1,onScroll:e=>_(e)},i.createElement(en.a,{onIntersectionChange:t=>{v(!t.isIntersecting),t.isIntersecting||p||(e.trackScroll(),g(!0))}}),i.createElement("div",{className:M()("sidebar--navContent--15V3f",{"sidebar--grabbingCursor--6rbhU":H})},i.createElement("div",{className:N.cx.flexGrow1.flex.flexColumn.$},i.createElement(i.Fragment,null,i.createElement(ex,null),(0,u.kc)().ps_benchmark&&i.createElement(tr.r,{selectedView:c,dispatch:t}),i.createElement("div",{className:e7}),i.createElement("div",{className:N.cx.ml8.mr8.mt2.mb2.$},i.createElement(al.b,null)),(0,u.kc)().xr_debounce_threshold&&C&&x&&x.permission!==eA._D.GUEST?i.createElement(nb,null):null,e.draftsProject&&i.createElement(tt.s,{folder:e.draftsProject,selectedView:c,dispatch:t,shouldHideCreateFileButton:e.isShowingLockedRedesign}),i.createElement(te,{userStateLoaded:s,sidebarUser:e.sidebarUser}),T&&i.createElement(i.Fragment,null,I?i.createElement(i.Fragment,null,i.createElement(at,{selectedView:c}),i.createElement(nC,null)):i.createElement(i.Fragment,null,i.createElement(eZ,{selectedView:c}),i.createElement(nC,null),i.createElement(ap,{selectedView:c}),e.FBGNavigationUpdatesTreatment!==W.ih.CONTROL&&i.createElement(nT,{selectedView:c,teamFolderId:e.teamFolderId,teamFolderName:e.teamFolderName}))),V===a5.BETWEEN_CONTENT&&i.createElement("div",{className:e9},!!B&&i.createElement("div",{className:N.cx.my8.mx0.h1.$,style:el.sx.add({backgroundColor:"var(--color-border)"}).$}),A()),!1,!(x&&C)&&D&&i.createElement("div",{className:e7}),x&&C&&(s?i.createElement(i.Fragment,null,i.createElement(ai,{hasWorkspaces:e.isOrgWithWorkspaces}),i.createElement(nC,null),C&&x&&!f.Ay.mobile&&i.createElement(i.Fragment,null,i.createElement(eK,{selectedView:c,org:C,orgUser:x}),S&&i.createElement(eb,null))):i.createElement("div",{className:e6},i.createElement(er.kt,null))),L&&j,s?i.createElement(i.Fragment,null,r?i.createElement(rZ,{fileBrowserPreferences:e.sidebarUser?.fileBrowserPreferences,favoritedFiles:R,favoritedPrototypes:P,favoritedProjects:F,favoritedTeams:e.sidebarUser?.favoritedTeams??null,favoritedWorkspaces:e.sidebarUser?.favoritedWorkspaces??null,userSidebarSections:e.sidebarUser?.userSidebarSections?(0,J.oA)(e.sidebarUser.userSidebarSections):[],previewYOffset:m}):i.createElement(i.Fragment,null,D&&i.createElement(rX,{fileBrowserPreferences:e.sidebarUser?.fileBrowserPreferences,favoritedFiles:R,favoritedPrototypes:P,favoritedProjects:F,favoritedTeams:null,favoritedWorkspaces:null,previewYOffset:m})),T&&i.createElement(ae,{teamUser:e.sidebarUser?.currentTeamUser??null,dataDriftCorrectedTeamResources:e.dataDriftCorrectedTeamResources,previewYOffset:m})):i.createElement("div",{className:e6},i.createElement(er.kt,null)),V===a5.AFTER_CONTENT&&i.createElement("div",{className:N.cx.sticky.bottom0.colorBg.pb10.pt12.$},A()))),i.createElement(en.a,{onInitialLoad:e=>{h(!e)},onIntersectionChange:e=>{h(!e.isIntersecting)}}))),i.createElement(nf,{hasTopBorder:V===a5.BETWEEN_CONTENT&&(E||y),shouldShowUUBInFooter:V===a5.IN_FOOTER})))}function nk(e){let t=(0,z.iZ)(),r=(0,Y.dq)(),a=(0,Q.d)(),n=(0,l.d4)(e=>e.currentTeamId),o=(0,l.wA)(),s=(0,X.Q)({currentOrgId:r,currentTeamId:(0,u.kc)().ps_benchmark&&n||null}),c="loaded"===s.status?s.data:null,d="loaded"!==s.status,m=(0,z.TA)(),p=(0,l.d4)(e=>m?e.authedUsers.byId[m]?.plans:null),[{status:f,data:g}]=(0,_.IT)((0,j.Xg)({teamId:n||void 0}),{enabled:!a}),E="loaded"===f&&g?.length===1?g[0]:null,h=E?.id,y=E?.name,v=null,b=(0,Z.vt)(n),w=(0,W.Yz)(),T=(0,K.R)(n),I=(0,K.jn)(),C=(0,W.Xs)(),x=(0,i.useMemo)(()=>c?{...c.currentUser}:null,[c]),N=(0,q.Zr)(c?.org??null),k=i.useMemo(()=>{if(x&&x.currentTeamUser&&n)return(0,$.TF)(x,n,p)},[x,n,p]),S=e.showingFileBrowserLoader;if(i.useEffect(()=>{if((0,u.kc)().ps_benchmark&&n&&x&&x?.currentTeamUser){let e=x.currentTeamUser;!e.fileBrowserPreferences&&x.fileBrowserPreferences&&o(V.Sh({prefs:x.fileBrowserPreferences,orderedFolderSubscriptions:x.fileBrowserSectionPreferences?.filter(e=>e.teamId===n)[0]?.orderedFolderIds??[],teamUser:e}))}},[n,x,o]),x){if(r&&x.baseOrgUser){let e=x.baseOrgUser;x.fileBrowserPreferences=e.fileBrowserPreferences,x.fileBrowserSectionPreferences=e.fileBrowserSectionPreferences}else(0,u.kc)().ps_benchmark&&n&&x.currentTeamUser&&(x.fileBrowserPreferences=x.currentTeamUser?.fileBrowserPreferences);n?v=x.currentTeamUser?.draftsProject??null:r&&(v=x.baseOrgUser?.draftsProject??null)}return i.createElement(nN,{showingFileBrowserLoader:S,sidebarUser:x,draftsProject:v,dataDriftCorrectedTeamResources:k,showLoadingState:d,trackScroll:()=>(0,H.uE)("Sidebar Scrolled",{user:t}),isShowingLockedRedesign:w(b)||C(I&&T),FBGNavigationUpdatesTreatment:(0,W.fn)(),teamFolderId:h,teamFolderName:y,isOrgWithWorkspaces:N})}var nS=(e=>(e.FILE_BROWSER="FileBrowserSidebar",e.ADMIN="AdminSettingsSidebar",e))(nS||{});function nL(e){let t=(0,l.d4)(e=>e.mobileNavShown),r=(0,W.Cv)(),a=(0,B.A)()&&r()?"AdminSettingsSidebar":"FileBrowserSidebar";return i.createElement("nav",{className:M()("sidebar--navDefault--pYuzm",{"sidebar--showMobileNav--YiFit":t})},i.createElement(F.tH,{boundaryKey:a,fallback:i.createElement(U.R,null),hasCustomWASMBuild:G.y4},"FileBrowserSidebar"===a?i.createElement(nk,{...e}):i.createElement(R.ay,null)))}var nA=r(697551),nR=r(411916),nP=r(935757),nF=r(435011),nO=r(637590),nD=r(757782),nM=r(726732),nB=r(355025),nU=r(929018),nV=r(809838),nW=r(91408),nH=r(170588),n$=r(29914),nj=r(922827),nG=r(539321),nY=r(568214),nz=r(138392),nq=r(168039),nQ=r(231959),nK=r(42173);let nX=(0,nr.eU)(void 0),nZ=(0,nr.eU)(!1),nJ=(0,nY.H0)("#2c2c2c");function n0(e,t,r){try{let a=(0,nY.H0)(t),n=(0,nY.kx)(a),i=(0,nz.oN)(t,!n,n);return r&&i!==t&&(0,nm.sx)("workspace_background_color_adjusted_for_accessibility",{workspace_id:e,original_background_color:t,adjusted_background_color:i}),i}catch(e){console.error(e)}return t}function n1(e){let t=(0,es.md)(nX);if(!e||"unset"===t)return;let r=(e.colorConfig?.colors??[])[0];return t?(0,nG.colorToHex)(t):r}function n2(e){return!!e&&"unset"!==e}function n4(e){let t=(0,nq.DP)(),r=n1(e);if(r&&("light"===t||"dark"===t))return(0,nY.kx)(r)!==("dark"===t)}function n8(e){return e&&e!==nQ.O&&"colorConfig"in e?e:void 0}function n5(e){return void 0!==e.team_id}function n3(e,t){if(e!==nQ.O){if("team_id"in e&&e.team_id)return t.teams[e.team_id];if("workspace_id"in e)return e}}var n9=r(56099),n6=r(383986),n7=r(127391);function ie(e){return i.createElement(aq.Y,{spacing:4},i.createElement(n7.H,{entityId:e.planEntity.id,entityName:e.planEntity.name,imgUrl:e.planEntity.img_url}),i.createElement(S.E,{fontSize:13,color:"secondary"},e.planEntity.name))}let it={folder:e=>e?{view:"folder",folderId:e}:void 0,team:e=>e?{view:"team",teamId:e}:void 0,workspace:e=>({view:"workspace",subView:eQ.V0.DIRECTORY,workspaceId:e??null,selectedTab:eQ.dN.TEAMS}),org:e=>e?{view:"org",orgId:e,orgViewTab:tE.X.HOME}:void 0};function ir({resource:e}){let t=(0,l.wA)(),r=(0,eL.FC)(),a=(0,e3.b_)({migrationGroup:n9.L.GROUP_1,component:"BreadcrumbsContainer"}),n=(0,e3.u3)({migrationGroup:n9.L.GROUP_1,component:"BreadcrumbsContainer"}),o=n1(n8(e)),s=(0,ag.Rs)(av.bUn,{orgId:a??null},{enabled:n}),c="loaded"!==s.status,d=s.data?.org?.workspaces??[],m=function(e,t){let r=(0,a9.R)(e=>({currentUserOrgId:e.currentUserOrgId,teams:e.teams,orgById:e.orgById}));return(0,i.useMemo)(()=>({folder:n5(e)?e:void 0,team:n3(e,r),workspace:function(e,t,r){let a=n3(e,t);if(e===nQ.O);else if(a&&a.workspace_id)return r?.find(e=>e.id===a.workspace_id);else if(a&&!a.workspace_id&&a.org_id){let e=t.orgById[a.org_id];return e?.workspaces_count?nQ.O:void 0}else if("domain_capture"in e||n5(e)||"workspace_id"in e)return;return e}(e,r,t),org:function(e,t){let r=n3(e,t);return r?.org_id?t.orgById[r.org_id]:e===nQ.O?t.currentUserOrgId?t.orgById[t.currentUserOrgId]:void 0:"org_id"in e?e.org_id?t.orgById[e.org_id]:void 0:"orgId"in e?e.orgId?t.orgById[e.orgId]:void 0:"domain_capture"in e?e:void 0}(e,r)}),[e,r,t])}(e,c?[]:[...d]);if(n||m.org?a!==m.org?.id:!m.team||!(0,tU.canViewTeam)(m.team.id,r)){let e=m.org??m.team;return e?i.createElement(ie,{planEntity:e}):null}let u=e===nQ.O?void 0:e.id,_=(e,r)=>{let n=r===nQ.O?void 0:r.id,i=it[e](n);(0,H.Cu)({clickedResourceType:e,clickedResourceId:n,currentResource:u,orgId:a}),i&&t(eI.$T(i))},p=["org","workspace","team","folder"].reduce((e,t)=>{let r=m[t];if(r){let a="workspace"===t&&!r.canView,n=r===n6.s?(0,k.t)("breadcrumbs.unassigned_license_group"):a?(0,k.t)("breadcrumbs.private_workspace_ellipses"):r?.name;e.push({text:n,onClick:()=>{a||_(t,r)},parentBackgroundColor:o,isHoverable:!(r===n6.s||a)})}return e},[]);return p.pop(),i.createElement(x.B,{items:p})}function ia(e){return e.rightSideActions?i.createElement(ii,{headerLabel:e.label,rightSideActions:e.rightSideActions}):e.label}function ii(e){let t=(0,ag.Rs)(av.RIo,{orgId:null});return((0,ag.ap)(t,"file_creation_defaults_latency"),"loaded"!==t.status)?null:i.createElement("div",{className:N.cx.flex.justifyBetween.wFull.itemsCenter.columnGap16.$},e.headerLabel,i.createElement("div",{className:N.cx.flex.gap8.$},e.rightSideActions))}function il(e){let t=n1(n8(e.resource));return i.createElement("div",{className:N.cx.if(e.showNavigationChevrons,N.cx.pl20,N.cx.pl32).if(!!e.pageHeaderContent,N.cx.bb1.colorBorder.bSolid).flex.flexRow.flexShrink0.gap8.itemsCenter.h48.pr32.$,style:{backgroundColor:t},"data-testid":"file-browser-desktop-header"},e.showNavigationChevrons&&i.createElement(nV.J,{parentBackgroundColor:t}),e.pageHeaderContent?i.createElement("span",{className:N.cx.minW0.wFull.$},i.createElement(ia,{label:e.pageHeaderContent,rightSideActions:e.pageHeaderActions})):e.resource&&i.createElement(ir,{resource:e.resource}))}var io=r(837746);let is=(0,nW.jz)(io.tgj);function ic(e){return i.createElement(i.Fragment,null,i.createElement(nH.z,{query:`(min-width: ${is}px)`,defaultClass:N.cx.sticky.top0.colorBg.zIndexTopBar.$},i.createElement(il,{resource:e.breadcrumbResource,pageHeaderContent:e.pageHeaderContent?i.createElement(S.E,{fontSize:13,truncate:!0},e.pageHeaderContent):void 0,pageHeaderActions:e.pageHeaderActions,showNavigationChevrons:e.showNavigationChevrons})),e.pageHeaderContent&&i.createElement(n$.i,{tabs:[i.createElement(S.E,{key:"mobilePageHeaderKey",truncate:!0},e.pageHeaderContent)]}))}function id(e){let t=i.useRef(null),r=(0,l.d4)(({selectedView:e})=>e),a=(0,Y.dq)(),n=(0,nV.E)(),c=(0,l.d4)(nF.iy),d=(0,q.P)(a,(0,l.d4)(nF.o$)),m=(0,W.Cv)(),_=(0,nB.K)(),p=(0,Y.sZ)(),f=_&&p&&!nO.T8.includes(r.view);!function(){let e=(0,u.kc)().ps_benchmark,t=(0,l.Pj)();i.useEffect(()=>{if(!e)return;let r=t.getState(),a=(0,tU.getPermissionsState)(r),n=(0,nR.vp)(a.user,a.currentUserOrgId,a.currentTeamId);n&&(0,nP.Y9)(n.userId,(0,nA.d9)(r.selectedView),n.orgId,void 0,n.teamId)},[t,e])}();let g=c||d.data||void 0,E="orgAdminSettings"===r.view||"licenseGroup"===r.view&&r.subView===ez.GN.ADMIN||"workspace"===r.view&&r.subView===eQ.V0.ADMIN||"billingGroupDashboard"===r.view||("teamAdminConsole"===r.view||"abandonedDraftFiles"===r.view||"orgDomainManagement"===r.view)&&m(),h=!e.showingFileBrowserLoader&&!E&&(!!s.eD||(0,o.ce)()||g||e.pageHeaderContent);return i.useEffect(()=>{let e=e=>{e.keyCode===P.Uz.PERIOD&&document.activeElement?.tagName==="BODY"&&(0,u.kc)().internal_only_debug_tools&&(0,u.kc)().figment_debugger&&(0,nM.Y)()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]),i.createElement("div",{className:N.cx.flex.flexRow.flexGrow1.$,ref:t},i.createElement(nL,{showLoadingState:!1,showingFileBrowserLoader:e.showingFileBrowserLoader}),i.createElement("div",{className:"file_browser_layout--fileBrowserPageViewContainer--m7oe2"},h&&i.createElement(F.tH,{boundaryKey:"FileBrowserPageHeader",fallback:F.H4.NONE_I_KNOW_WHAT_IM_DOING,hasCustomWASMBuild:G.y4},i.createElement(ic,{pageHeaderContent:e.pageHeaderContent,pageHeaderActions:e.pageHeaderActions,breadcrumbResource:g,showNavigationChevrons:n})),i.createElement(F.tH,{boundaryKey:"FileBrowserLayout-content",fallback:i.createElement(U.R,null),hasCustomWASMBuild:G.y4},!e.showingFileBrowserLoader&&(f?i.createElement(nU.H,{org:p,isInFileBrowser:!0}):i.createElement(O.z,{layoutRef:t},e.children)))),i.createElement(nD.G,{entryPoint:nD.Q.FILE_BROWSER}))}var im=r(57860),iu=r(90885),i_=r(777489),ip=r(831649),ig=r(396755),iE=r(377090),ih=r(937294),iy=r(626322),iv=r(626296),ib=r(590564);function iw({orgTeamsQuery:e,workspaceId:t,onLoad:r}){let a=(0,l.wA)(),{currentOrgUser:n,teams:o,user:s,roles:c,orgId:d,orgName:m}=(0,a9.R)(e=>({currentOrgUser:e.orgUsersByOrgId[e.currentUserOrgId]?.[e.user.id],teams:e.teams,user:e.user,roles:e.roles,orgId:e.currentUserOrgId,orgName:e.orgById[e.currentUserOrgId].name})),{canCreateTeam:_}=(0,q.LM)(d?{id:d}:null,t);i.useEffect(()=>{"loaded"===e.status&&r?.()},[r,e.status]);let p=()=>{let e={workspaceId:t??nQ.O};a(tu.to({type:iv.Uc,data:e}))},f=i.useMemo(()=>{let t=e.data??[],r=t.length<ta.Tw;return(0,ta.KQ)(t,"name",{useExpensiveNaturalComparison:r}),t},[e]),g=n&&n.permission===eA._D.GUEST,E=Object.keys((0,iy.t)(c.byTeamId,s.id)).filter(e=>o[e]);if(g){let e=E.map(e=>o[e]).filter(e=>e.org_id===d);return i.createElement(i_.h,{teams:e,onLeave:e=>{a(tu.to({type:ib.p,data:{teamId:e.id}}))},orgName:m})}return(0,u.kc)().teams_in_items_view?"loaded"!==e.status?i.createElement("div",{className:N.cx.flex.wFull.hFull.alignCenter.justifyCenter.$},i.createElement(im.k,null)):i.createElement("div",{className:N.cx.mt24.$},i.createElement(ig.H,{orgTeams:f,orgTeamStatus:e.status,onCreateTeam:_?p:void 0,emptyView:t&&!_?(0,k.t)("team_tile.no_teams.empty_workspace"):void 0})):i.createElement(ip.W,{orgTeams:e,onJoin:e=>(0,iE.GR)(a,e)(),onLeave:e=>{a(tu.to({type:ib.p,data:{teamId:e.id}}))},onCreateTeam:_?p:void 0,emptyView:t&&!_?(0,k.t)("team_tile.no_teams.empty_workspace"):void 0})}let iT=(0,nr.eU)(()=>tB.Qw.loaded([]));function iI({workspaceId:e,onlyJoinedTeams:t}){let r=(0,eL.FC)(),a=(0,e3.b_)({migrationGroup:n9.L.GROUP_4,component:"useFilteredOrgTeams"}),n=!(0,tU.canMemberOrg)(a??null,r),l=(0,es.md)(n?iT:iu.E);return i.useMemo(()=>l.transform(n=>n.filter(n=>{if(t)return(0,tU.hasViewerRoleAccessOnTeam)(n.id,r);if(null===e){if(n.workspace_id)return!1}else if(e&&n.workspace_id!==e)return!1;return(0,ih.dP)(n,r,a??null)})),[l,r,a,t,e])}function iC({children:e}){return i.createElement("section",{"aria-label":(0,k.t)("file_browser.teams")},i.createElement("div",{className:N.cx.mx32.textBodyLargeStrong.$},i.createElement("div",null,(0,k.t)("file_browser.teams"))),e)}var ix=r(239831);function iN({avatar:e,title:t,rightSideActions:r,rightSideOfTitleAction:a,pageHeaderIcon:n,textColor:l,badge:o}){return i.createElement("div",{className:M()(N.cx.mt12.mx32.mb20.$,"page_header--mx16Mobile--8Eihb")},i.createElement("div",{className:N.cx.flex.mt8.itemsCenter.justifyBetween.$},i.createElement("div",{className:N.cx.flex.itemsCenter.h40.minW0.$},e,i.createElement("div",{className:N.cx.wFull.overflowHidden.$,style:el.sx.if(e&&!n,el.sx.ml16).$},i.createElement("span",{className:N.cx.flex.itemsCenter.$},n,i.createElement(S.E,{color:l,fontSize:24,truncate:"line-clamp",lineClamp:2},t," "),i.createElement("div",{className:N.cx.ml8.$},o),a&&a.element))),i.createElement("div",{className:N.cx.flex.ml16.gap8.$},r?.map(e=>i.createElement(ix.K,{action:e,key:e.key})))))}function ik(e){let{belowHeaderItem:t,...r}=e;return i.createElement(i.Fragment,null,i.createElement(n$.i,{tabs:null,hideToolBarOnMobile:!0}),i.createElement(iN,{...r}),t)}var iS=r(481373),iL=r(939683);function iA(e){return i.createElement(r0.nR,{className:"button_custom--buttonSecondaryDisabled--9JtXq","data-tooltip-type":r$.Ib.TEXT,"data-tooltip":e.tooltipText,"data-tooltip-show-immediately":!0,onMouseEnter:e.onMouseEnter},e.text)}function iR({backgroundColor:e}){let t=(0,iL.NV)(H.WL),r=(0,l.d4)(e=>e.selectedView.view),a=(0,k.t)("license_group_view.toolbar.new_team_button"),n=()=>{t(H.jd,{placement:r})};return e?i.createElement("button",{className:M()("button_custom--buttonBase--H2KEL button--buttonBase---72nl",(0,nY.kx)(e)?"button_custom--buttonColorsForDarkBackground--CiydL":"button_custom--buttonColorsForLightBackground--wejKf","button_custom--buttonHugContents--Ntibj"),"data-tooltip-type":r$.Ib.TEXT,"data-tooltip":(0,k.t)("license_group_view.toolbar.create_team_disabled"),"data-tooltip-show-immediately":!0,onMouseEnter:n,disabled:!0},i.createElement(S.E,{fontSize:11,fontWeight:"medium",truncate:!0},a)):i.createElement(iA,{text:a,tooltipText:(0,k.t)("license_group_view.toolbar.create_team_disabled"),onMouseEnter:n})}var iP=r(214758),iF=r(895379);function iO(e){let t=(0,l.wA)(),r=(0,l.d4)(e=>e.currentUserOrgId),a=(0,eC._6)();return()=>{r?t(tu.to({type:iv.Uc,data:{workspaceId:e??nQ.O}})):t(eX.Dw({previousView:a}))}}function iD({workspace:e,org:t}){let{canCreateTeam:r,cannotCreateTeamReason:a}=(0,q.LM)(t,e?.id??null),n=n4(e),l=n1(e),o=iO(e?.id);return a===q.z4.TEAM_CREATION_CONTROL?{kind:iF.A.CUSTOM,key:iF.D.NEW_TEAM,element:i.createElement(iR,{backgroundColor:l})}:r?{kind:iF.A.CUSTOM,key:iF.D.NEW_TEAM,element:i.createElement(iP.P,{onClick:o,variant:n?"inverted-inverse":"inverse",text:(0,k.t)("license_group_view.toolbar.new_team_button")})}:null}function iM(){let e=(0,Y.sZ)(),t=iD({org:e,workspace:null}),r=iI({workspaceId:null,onlyJoinedTeams:!1});return i.createElement(iS.r,{header:i.createElement(ik,{title:(0,k.t)("license_group_view.meta.unassigned_title",{orgName:e.name}),rightSideActions:t?[t]:void 0}),content:i.createElement("div",{className:N.cx.flex.flexColumn.my24.$},i.createElement(iC,null,i.createElement(iw,{orgTeamsQuery:r,workspaceId:null})))})}var iB=r(776551),iU=r(798099),iV=r(143678),iW=r(292164);function iH(e){let t=(0,l.wA)(),r=i.useRef(null),a=(0,l.d4)(({dropdownShown:e})=>e),n=e.dropdownKey&&e.dropdownOptions&&a&&a.type===e.dropdownKey&&a.data&&a.data.targetRect,o=(0,aI.j6)();return i.createElement("button",{ref:r,onClick:()=>{r.current&&t(eI.j7({type:e.dropdownKey,data:{targetRect:r.current.getBoundingClientRect()}}))},onMouseDown:iU.dG,className:N.cx.bgNone.ml8.$,"aria-label":e.buttonAriaLabel},i.createElement(ei.B,{svg:iW.A,className:M()("page_header_dropdown--dropdownIcon--tr-Wo",e.dropdownColorClassName?e.dropdownColorClassName:"page_header_dropdown--dropdownIconColor--kMRsm")}),n&&(0,aI.T8)(i.createElement(t_.j,{parentRect:a.data.targetRect,minWidth:224,rootAndSubmenuMaxWidth:224,items:e.dropdownOptions,dispatch:t,onSelectItem:e=>{e.callback&&e.callback("",null,t),e.trackingProperties&&(0,H.Cu)({...o.properties,trackingContext:o.name,...e.trackingProperties})},showPoint:!0}),iV.e0.PAGE_HEADER_DROPDOWN))}var i$=r(742809),ij=r(56342),iG=r(353265);let iY=t1.M4.Mutation(async e=>{await ij.u.updateDescription(e)}),iz=(0,tc.Ju)(function({workspace:e}){let t=(0,l.wA)(),r=(0,t1.n_)(iY);return i.createElement(iG.c,{title:(0,k.t)("workspace_view.description_modal.title"),subtitle:i.createElement("div",{className:N.cx.mb16.$},i.createElement(S.E,{color:"secondary"},(0,k.tx)("workspace_view.description_modal.subtitle",{allWorkspacesText:i.createElement("span",{className:N.cx.fontSemiBold.$},(0,k.t)("sidebar.browse.all_workspaces"))}))),initialName:e.description??"",placeholder:(0,k.t)("workspace_view.description.placeholder"),submitText:(0,k.t)("workspace_view.description.save"),onRename:a=>r({workspaceId:e.id,description:a}).then(()=>t(tO.F.enqueue({message:(0,k.t)("workspace_view.description_update_updated")})),()=>{let e=(0,k.t)("workspace_view.description_update_error");t(aF.s.error(e)),console.error(e)})})},"UpdateWorkspaceDescriptionModal");function iq(){let e=(0,l.wA)(),t=(0,z.TA)(),r=(0,eG.of)();return i.useCallback(a=>{let n=a.workspace.admins.some(e=>e.baseOrgUser?.user.id===t),i=[];return n&&i.push({displayText:(0,k.t)("workspace_view.toolbar.admin_settings"),callback:()=>{e(eI.$T({view:"workspace",subView:eQ.V0.ADMIN,workspaceId:a.workspace.id,selectedTab:r()}))}}),i.length>0&&i.push({displayText:"",separator:!0}),i.push({displayText:(0,k.t)("file_browser.copy_link"),callback:()=>{let t=(0,eG.fO)(a.workspace.id,a.org.id);e(tW.S({url:t}))}}),a.workspace.canAdmin&&i.push({displayText:(0,k.t)("license_group_view.toolbar.change_icon"),callback:()=>{e((0,i$.X)({entity:a.workspace,entityType:rp.ck.WORKSPACE,shape:"SQUARE"}))}}),i},[e,t,r])}var iQ=r(268537),iK=r(300587),iX=r(677859),iZ=r(662599),iJ=(e=>(e.SOLID="solid",e.NO_FILL="no_fill",e))(iJ||{});function i0({selectedFillOption:e,onSelectFillOption:t}){let r={solid:(0,k.t)("workspace_view.toolbar.solid"),no_fill:(0,k.t)("workspace_view.toolbar.no_fill")};return i.createElement(iQ.Ve,{className:N.cx.ml8.colorTextMenuSecondary.colorIconMenuSecondary.$,dropdownButton:function({onClick:t}){return i.createElement(iX.$n,{className:N.cx.ml4.mr4.$,role:"combobox",onClick:t,caret:"down"},i.createElement("span",{className:N.cx.minW32.mr8.$},r[e]))},dropdownOptionsClassName:N.cx.mt4.$,options:["solid","no_fill"].map((e,a)=>i.createElement(iQ.c$,{className:N.cx.colorTextMenuSecondary.$,key:a,id:e,onClick:()=>{t(e)}},r[e])),optionsBelowSelector:!0,noBorder:!0})}let i1=t1.M4.Mutation(async e=>{await ij.u.updateColor(e)});function i2({workspace:e,onClose:t}){let r=(0,l.wA)(),a=(0,t1.n_)(i1),n=[{option:nJ},...(0,nK.TS)("base").filter(e=>!(0,nY.DA)(e,(0,nK.BV)(nj.daH.BLACK,"base"))).map(e=>({option:e})),...(0,nK.TS)("baseLight").map(e=>({option:e}))],o=i.useRef(null),[s,c]=i.useState(!1),d=(0,nq.DP)(),m=function(e){try{if(e)return(0,nY.H0)(e)}catch(e){console.error(e)}}((e?.colorConfig?.colors??[])[0]),[u,_]=i.useState(m?"solid":"no_fill"),[p,f]=(0,es.fp)(nX);return i.useEffect(()=>(f(m),()=>{f(void 0)}),[]),i.useEffect(()=>{if(!s){let e=e=>{"Escape"===e.key&&t()},r=e=>{o.current&&!o.current.contains(e.target)&&t()};return document.addEventListener("keydown",e),document.addEventListener("pointerdown",r),()=>{document.removeEventListener("keydown",e),document.removeEventListener("pointerdown",r)}}},[s,t]),i.createElement(i.Fragment,null,i.createElement("div",{role:"button","aria-label":(0,k.t)("common.close"),tabIndex:0,className:N.cx.absolute.wFull.hFull.top0.left0.zIndexTertiaryModal.$,onClick:t}),i.createElement("div",{className:N.cx.absolute.flex.h40.justifyCenter.alignCenter.flexShrink0.bRadius4.colorBgMenu.elevation400.mt8.ml32.zIndexModal.$,ref:o},i.createElement(i0,{selectedFillOption:u,onSelectFillOption:e=>{if(_(e),"solid"===e){let e="dark"===d?nJ:nY.UE;f(m??e)}else f("unset")}}),n2(p)&&i.createElement(i.Fragment,null,i.createElement(iX.wv,null),i.createElement(iK.qW,{buttonClassName:N.cx.ml2.mr2.$,options:n,value:{option:p},onColorChange:e=>{f(e.option)},paletteType:"base",fixedNumColumns:9,optionSize:"medium",buttonSize:"xsmall",shouldDisableDataTooltip:!0,dropperDisabled:!0,positionX:()=>0,positionY:(e,t)=>(0,iZ.DH)(e,t,4),shouldCustomColorPopoverCloseOnEscape:!0,isColorPopoverOpen:s,setIsColorPopoverOpen:c,hasNonWhiteboardColors:!0})),i.createElement(iX.wv,null),i.createElement(iX.$n,{className:N.cx.ml4.mr2.$,onClick:t},i.createElement("span",{className:N.cx.mr1.colorTextToolbarSecondary.$},(0,k.t)("workspace_view.color.toolbar.cancel"))),i.createElement(iX.$n,{className:N.cx.mr8.$,onClick:()=>{a({workspaceId:e.id,colors:n2(p)?[(0,nG.colorToHex)(p)]:[],onfulfilled:()=>r(tO.F.enqueue({message:(0,k.t)("workspace_view.toolbar.workspace_color_updated")})),onrejected:()=>{let e=(0,k.t)("workspace_view.toolbar.workspace_color_update_error");r(aF.s.error(e)),console.error(e)}}),t()}},i.createElement("span",{className:N.cx.colorTextOnbrand.$},(0,k.t)("workspace_view.color.toolbar.save")))))}var i4=r(32863),i8=r(797804);let i5=(0,l.Ng)(e=>({currentUserId:e.user?.id}))(function(e){let t=t=>{t.stopPropagation(),e.canLeave&&e.onLeaveClick()},r=e.members.length,a=e.membersToShow||10;return i.createElement("div",null,!e.removeHeader&&i.createElement("div",{className:N.cx.font13.fontMedium.mb12.$},e.label||(0,k.t)("file_browser.team_overview.member_label")),e.members.slice(0,a).map(r=>{let a=r.id===e.currentUserId,n=e.showAdminBadge&&e.showAdminBadge(r);return i.createElement(eJ.az,{key:r.id,size:24,entity:r,className:e.customAvatarRowStyle?e.customAvatarRowStyle:N.cx.font13.mb16.$,showIsMe:a,onClick:e.onMemberClick,badge:n?{color:rJ.zE.DEFAULT,text:(0,k.t)("file_browser.badge_label.admin")}:void 0,includeUserEmailAddress:e.shouldIncludeUserEmailAddress},e.canLeave&&a&&i.createElement("span",{onClick:t,className:"members_preview--leaveLink--v8vxs text--fontPos13--xW8hS text--_fontBase--QdLsd blue_link--blueLink--9rlnd"},(0,k.tx)("file_browser.team.leave_confirm")))}),r>a&&(e.customOverflowRow||i.createElement("div",{className:"members_preview--totalMemberCountContainer--wYQwX",onClick:e.onClickShowMore},i.createElement(ei.B,{svg:i8.A,className:"members_preview--teamIcon--UFW2s"}),i.createElement("div",{className:"members_preview--totalMemberCount--D3Q8a text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,k.tx)("file_browser.team_overview.num_others",{numMembers:r-a})))))});var i3=r(589640),i9=r(548593),i6=(e=>(e.MEMBERS="MEMBERS",e.ADMINS="ADMINS",e))(i6||{});function i7(e){let t=(0,i9.rw)(),r=new Map([["MEMBERS",(0,k.t)("workspace_view.members_modal.members")],["ADMINS",(0,k.t)("workspace_view.members_modal.admins")]]),a=[];return r.forEach((r,n)=>{a.push(i.createElement(t,{tab:n,mobileNavTabTitle:r,selectedTab:e.selectedTab,key:n,onClick:()=>e.setTab(n)},r))}),i.createElement("div",{className:"workspace_members_modal--tabsContainer--DBh33"},a)}function le(e){return i.createElement("div",{className:"workspace_members_modal--searchContainer--KGPrU modal--searchContainer--EA8ib"},i.createElement(i4.IW,{className:"workspace_members_modal--searchBar--z110d",focusOnMount:!0,query:e.query,clearSearch:()=>{e.onChange("")},onChange:e.onChange,hideXIcon:!0,hasTransparentBackground:!0,iconClassName:"workspace_members_modal--searchIcon--7DSd4",placeholder:(0,k.t)("workspace_view.members_modal.search_placeholder")}))}function lt(e){return i.createElement("div",{className:"workspace_members_modal--emptyContainer--bTf-s"},i.createElement("div",{className:"workspace_members_modal--emptyState--IwqA2 text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.content))}let lr=(0,tc.Ju)(function(e){let t=(0,l.wA)(),r=(e,t)=>null===e.baseOrgUser?-1:null===t.baseOrgUser?1:e.baseOrgUser.user.handle.localeCompare(t.baseOrgUser.user.handle),a=e.workspace.members.slice().sort(r),n=e.workspace.admins.slice().sort(r),o={};a.forEach(e=>{e.baseOrgUser&&(o[e.baseOrgUser.user.id]=e.permission)});let[s,c]=(0,i.useState)("MEMBERS"),[d,m]=(0,i.useState)(a),[u,_]=(0,i.useState)(""),p=i.createElement(i7,{dispatch:t,selectedTab:s,setTab:e=>{_(""),c(e),m("MEMBERS"===e?a:n)}}),f=d.filter(e=>{let t=e.baseOrgUser?.user,r=u.toLocaleLowerCase();return!!t?.email?.toLocaleLowerCase().includes(r)||!!t?.handle.toLocaleLowerCase().includes(r)}).map(e=>{let t=e.baseOrgUser.user;return{id:t.id,handle:t.handle,img_url:t.imgUrl,email:t.email}})||[],g=i.createElement(le,{query:u,onChange:e=>_(e)}),E=i.createElement(lt,{content:(0,k.tx)("workspace_view.members_modal.no_members",{workspaceName:e.workspace.name})}),h=i.createElement(lt,{content:(0,k.tx)("workspace_view.members_modal.no_admins",{workspaceName:e.workspace.name})}),y=i.createElement(lt,{content:(0,k.tx)("workspace_view.members_modal.no_results",{query:u})}),v=i.createElement(ea.P,{className:"workspace_members_modal--outerContainer--in03x",innerClassName:"workspace_members_modal--membersContainer--16pMi"},i.createElement(i5,{members:f,showAdminBadge:e=>"ADMINS"!==s&&o[e.id]===eA.bp.ADMIN,membersToShow:f.length,canLeave:!1,removeHeader:!0,customAvatarRowStyle:"workspace_members_modal--memberPopup--y5bbv text--fontPos13--xW8hS text--_fontBase--QdLsd admin_settings_page--avatarWithHandle--awCiS ellipsis--ellipsis--Tjyfa",shouldIncludeUserEmailAddress:!0,onMemberClick:(e,r)=>{t(eI.$T({view:"user",userId:r.id,userViewTab:i3.o.INTERNAL_PROFILE})),t(tu.Ce())}}));return"MEMBERS"===s?0===a.length?v=E:0===f.length&&(v=y):"ADMINS"===s&&0===n.length&&(v=h),i.createElement(r8.XV,{title:p,headerSize:"large",fixedTop:!0,onClose:()=>{t(tu.Ce())}},i.createElement("div",{className:"workspace_members_modal--modalContainer--3d9wu"},i.createElement(aq.Y,{direction:"vertical",height:"fill-parent",width:"fill-parent",spacing:0},"MEMBERS"===s&&a.length>0&&g," ",v)))},"WORKSPACE_MEMBERS_MODAL",tc.ZU.YES);var la=r(150823),ln=r(247576);function li(e){let{workspace:t,org:r}=e,a=(0,l.wA)(),n=(0,l.d4)(e=>e.currentUserOrgId),o=(0,l.d4)(e=>e.avatarEditorState),s=t.canAdmin,[c,d]=(0,es.fp)(nZ),{canCreateTeam:m}=(0,q.LM)(r,t.id),u=(0,ts.S)(),_=window.innerWidth<=(0,nW.hG)(io.tgj),p=t?t.id:nQ.O,f=n4(t),g=n1(t),E=t?.members||[],h=iO(t.id),y=i.useCallback((e,r,n)=>{if(t){let i={workspace:{id:t.id,name:t.name??"",imgUrl:t.imgUrl},entrypoint:"workspace_page_view",sectionId:n,favoriteId:r};e?a(eN.ZW(i)):a(eN.if(i))}},[a,t]),v=()=>{a(tu.to({type:lr,data:{workspace:e.workspace,tab:i6.MEMBERS}}))},b={kind:iF.A.ICON_TEXT_BUTTON,key:iF.D.VIEW_MEMBERS,displayText:E.length.toString(),onClick:e=>v(),icon:ln.A,svgStyleClass:M()(g?(0,nY.kx)(g)?"workspace_page_header--iconTextButtonSvgForDarkBackground--Sq5Fx workspace_page_header--iconTextButtonSvg--zStD-":"workspace_page_header--iconTextButtonSvgForLightBackground--pL63t workspace_page_header--iconTextButtonSvg--zStD-":"workspace_page_header--iconTextButtonSvg--zStD-"),styleClass:M()(g?(0,nY.kx)(g)?"workspace_page_header--membersButtonForDarkBackground--2IRgt workspace_page_header--favoriteStarContainerForDarkBackground--MXtIt":"workspace_page_header--membersButtonForLightBackground--N75P8 workspace_page_header--favoriteStarContainerForLightBackground--AKL23":void 0),isLoading:e.isWorkspaceMembersLoading},w=i.useMemo(()=>i.createElement(rb.r,{setFavorite:y,favoriteType:eA.bk.WORKSPACE,resourceId:p,isFavoriteHeaderStar:!0,orgId:n,parentBackgroundColor:g,containerStyle:M()(g?(0,nY.kx)(g)?"workspace_page_header--favoriteStarContainerForDarkBackground--MXtIt":"workspace_page_header--favoriteStarContainerForLightBackground--AKL23":void 0,la.HM)}),[p,y,n,g]),T=function(){let e=iq(),t=(0,l.wA)(),[r,a]=(0,es.fp)(nZ);return i.useCallback(r=>{let n=e(r);return r.workspace.canAdmin&&(n.push({displayText:(0,k.t)("workspace_view.toolbar.change_color"),callback:()=>a(!0)}),n.push({displayText:(0,k.t)("workspace_view.description.title"),callback:()=>{t(tu.to({type:iz,data:{workspace:r.workspace}}))}})),n},[e,t,a])}(),I=t&&r?T({workspace:t,org:r}):m&&_?[{displayText:(0,k.t)("org_view.new_team"),callback:h}]:void 0,C=[],x=iD({workspace:t,org:r});if(x&&C.push(x),e.showMembersButton&&C.push(b),u&&t&&C.push({kind:iF.A.CUSTOM,key:iF.D.FAVORITE,element:w}),!t)return i.createElement(ik,{title:(0,k.t)("license_group_view.meta.unassigned_title",{orgName:r.name}),rightSideActions:C});let N=I?{kind:iF.A.CUSTOM,key:iF.D.DROPDOWN,element:i.createElement(iH,{buttonAriaLabel:(0,k.t)("org_view.page_header_dropdown_label"),dropdownKey:`workspace-context-${t.id}`,dropdownOptions:I,dropdownColorClassName:g?(0,nY.kx)(g)?"workspace_page_header--dropdownColorsForDarkBackground--OIHSt":"workspace_page_header--dropdownColorsForLightBackground--uH-aL":void 0})}:void 0;return i.createElement("div",{style:{backgroundColor:g}},i.createElement(ik,{avatar:s?i.createElement(rf.j,{avatarEditorState:o,entityType:rp.ck.WORKSPACE,entity:t,dispatch:a,size:40}):i.createElement(eJ.z6,{entity:t,size:40}),title:g&&(0,nY.kx)(g)?i.createElement("span",{className:"workspace_page_header--titleColorForDarkBackground--Qnjvi"},t.name):t.name,badge:t.orgAccess===eA.bU.SECRET?i.createElement("div",{"data-tooltip-type":r$.Ib.TEXT,"data-tooltip":(0,k.t)("workspace_table.secret_workspace_lock_tooltip"),"data-tooltip-subtext":(0,k.t)("workspace_table.secret_workspace_lock_tooltip_subtext"),"data-tooltip-timeout-delay":500,"data-tooltip-max-width":300},i.createElement(ew.In,{icon:"lock-16"})):void 0,rightSideActions:C,rightSideOfTitleAction:N,belowHeaderItem:c?i.createElement(i2,{workspace:t,onClose:()=>d(!1)}):void 0,textColor:f?"oninverse":void 0}))}function ll(e){let t=(0,l.wA)(),r=e.workspace.members,a=i.useMemo(()=>r||[],[r]),n=i.useMemo(()=>a.slice(0).sort(()=>Math.random()-.5),[a]),o={};return a.forEach(e=>{e.baseOrgUser&&(o[e.baseOrgUser.user.id]=e.permission)}),i.createElement("div",{className:N.cx.my24.mr8.ml24.$},i.createElement("div",{className:"workspace_page_meta_content--membersHeader--0jaJ3 text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,k.t)("workspace_view.sidebar.members")),i.createElement(i5,{removeHeader:!0,members:n.map(e=>e.baseOrgUser?.user).filter(e=>!!e),onMemberClick:(e,r)=>{t(eI.$T({view:"user",userId:r.id,userViewTab:i3.o.INTERNAL_PROFILE}))},canLeave:!1,showAdminBadge:e=>o[e.id]===eA.bp.ADMIN,customOverflowRow:i.createElement(i.Fragment,null,i.createElement("button",{className:"workspace_page_meta_content--seeAllMembers--mIOar text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:()=>{t(tu.to({type:lr,data:{workspace:e.workspace,tab:i6.MEMBERS}}))}},(0,k.t)("workspace_view.sidebar.see_all_members")))}))}var lo=r(330654);function ls({isExpanded:e,fill:t,onClick:r}){return i.createElement("div",{role:"button",tabIndex:-1,className:M()("expand_caret--animation--GOE8s",{"expand_caret--expanded--MmsW9":e}),onClick:r},i.createElement(ew.In,{icon:"caret-right-16",fill:t}))}function lc({isOpen:e,toggleIsOpen:t,collapseHeader:r,content:a}){return i.createElement("div",{className:N.cx.flex.flexColumn.wFull.$},i.createElement("div",{className:N.cx.flex.flexRow.gap4.itemsCenter.wFull.$},i.createElement(ls,{isExpanded:e,fill:"secondary",onClick:t}),r),i.createElement("div",{className:N.cx.grid.ml20.$,"aria-hidden":!e,style:el.sx.add({transition:"grid-template-rows 0.3s ease"}).if(e,el.sx.add({gridTemplateRows:"1fr"}),el.sx.add({gridTemplateRows:"0fr"})).$},i.createElement("div",{className:N.cx.if(!e,N.cx.overflowHidden).$},a)))}var ld=r(395096),lm=r(635344),lu=r(119735),l_=r(445092),lp=r(206736);function lf({title:e,confirmText:t,emptyStateText:r,onSelectFile:a,onSubmit:n,files:l,tileClassName:o,renderFileTile:s,renderTileFooter:c,query:d,setQuery:m,gridText:u,shouldDisableTile:_}){let[f,g]=i.useState(null),E=i.useCallback(()=>{f&&n(f)},[n,f]),h=i.useCallback(e=>{if(e.length>0){let t=e[0].key;a?.(t),g(t)}else g(null)},[a]);return i.createElement(lg,{title:e,onSubmit:E,confirmText:t,isDisabled:!f,query:d,onSearchChange:m,clearSearch:()=>m(""),searchPlaceholder:(0,k.t)("file_browser.choose_file_modal.search_for_a_file")},0===l.length?i.createElement("div",{className:N.cx.flex.flexRow.gap2.itemsCenter.justifyCenter.colorTextSecondary.hFull.wFull.flexGrow1.alignCenter.$},r):i.createElement(i.Fragment,null,u&&i.createElement("span",{className:N.cx.colorTextSecondary.$},u),i.createElement(lp.g,{containerClassName:N.cx.pb16.$,handleContextMenu:p.lQ,isDraggable:!1,items:l,multiselectDisabled:!0,doNotFocusOnLoad:!0,getAriaLabel:e=>e.name,tileClassName:o,renderTile:s,renderTileFooter:c,onSelection:h,keepSelectionOnFocusLost:!0,canSelectItem:e=>!_?.(e)})))}function lg({title:e,confirmText:t,onSubmit:r,isDisabled:a,children:n,query:l,onSearchChange:o,clearSearch:s,searchPlaceholder:c}){return i.createElement(r8.Eo,{title:e,confirmText:t,onSubmit:r,disabled:a,maxWidth:1024,useRedesign:!0,fullWidthContent:!0},i.createElement(i4.IW,{className:M()(N.cx.px16.py8.colorBg.wFull.bb1.bSolid.colorBorder.borderBox.$,"choose_file_modal--heightOverride--QTue5"),hasTransparentBackground:!0,placeholder:c,focusOnMount:!0,query:l,onChange:o,clearSearch:s,iconClassName:N.cx.colorIcon.$,hideXIcon:!0}),i.createElement(ea.P,{className:"choose_file_modal--gridMaxHeight--8NKvW",innerClassName:N.cx.hFull.gap12.flex.flexColumn.pt16.px24.borderBox.$},n))}function lE({file:e,orgName:t,isDisabled:r}){let a=e.project?.name;return i.createElement("div",{className:N.cx.pt8.flex.flexColumn.overflowHidden.$},i.createElement("div",{className:N.cx.flex.flexRow.gap4.justifyBetween.itemsCenter.maxWFull.$},i.createElement("span",{className:N.cx.ellipsis.textBodyLargeStrong.truncate.with({colorTextSecondary:r}).$},e.name),r&&t&&i.createElement("span",{"data-tooltip-type":"text","data-tooltip":(0,k.t)("file_browser.pinning.choose_file_to_pin_modal.file_not_workspace_visible.tooltip",{orgName:t}),"data-tooltip-show-immediately":!0,"data-tooltip-show-above":!0,"data-tooltip-max-width":500},i.createElement(ew.In,{icon:"info-16",fill:"secondary"}))),i.createElement("span",{className:N.cx.ellipsis.colorTextSecondary.truncate.$},a?i.createElement("div",{className:N.cx.colorTextSecondary.truncate.$},a):null))}let lh=(0,tc.Ju)(function({workspaceId:e}){let t=(0,l.wA)(),r=(0,e3.yN)({migrationGroup:n9.L.GROUP_11,component:"ChooseFileToPinModal",attribute:"orgName",legacy:(e,t)=>t?.name??null,migrated:(e,t)=>t?.name??null}),[a,n]=i.useState(""),[o]=(0,ld.A)(a,400),[s,c]=i.useState(null),d=i.useCallback(e=>{c(e)},[]);(0,ag.Rs)(av.wtK,{fileKey:s??""},{enabled:!!s});let m=function({searchQuery:e,workspaceId:t}){let r=tB.Qw.useTransformShallowEqual((0,ag.Rs)(av.z07,{}),e=>{if(!e.currentUser.recentFiles2)return[];let t=[];for(let{file:r}of e.currentUser?.recentFiles2)r&&t.push(r);return t}),a=function({searchQuery:e,workspaceId:t}){let r=(0,Y.dq)();(0,C.vA)(!!r,"currentUserOrgId must be defined in useSearchWorkspaceFilesQuery");let a=(0,ag.Rs)(av.Imb,{query:e,workspaceId:t,orgId:r,sort:"relevancy",desc:"true"},{enabled:!!e});return tB.Qw.useTransformShallowEqual(a,e=>{let t=[];for(let r of e.searchWorkspaceFiles)r.file&&t.push(r.file);return t})}({searchQuery:e,workspaceId:t}),n="disabled"!==a.status?a:r;return(0,lu.z1)(n,t)}({searchQuery:o,workspaceId:e}),u=tB.Qw.useTransformShallowEqual(m,e=>e.map(e=>e.key)),_=(0,lu.H6)(u.unwrapOr([])),f=i.useCallback(e=>{t(tu.ES(lh)),t(tu.to({type:(0,lm.a)(),data:{fileKey:e,source:a?"add_file_modal_search":"add_file_modal_suggested"}}))},[t,a]);i.useEffect(()=>(t(l_.Dy({entryPoint:"file_browser:file_picker_modal"})),t(l_.Rz({workspaceFilter:e})),()=>{t(l_.Rz({workspaceFilter:null})),t(l_.ky())}),[t,n,e]);let g=i.useCallback(e=>{n(e)},[]),E=(0,rI.N)();if("loaded"!==_.status||"loaded"!==m.status)return i.createElement(lg,{title:(0,k.t)("file_browser.pinning.pin_modal.pin_file_to_workspace"),confirmText:(0,k.t)("general.next"),isDisabled:!0,query:a,onSearchChange:g,clearSearch:p.lQ,searchPlaceholder:(0,k.t)("file_browser.choose_file_modal.search_for_a_file")},i.createElement("div",{className:M()(N.cx.flex.itemsCenter.justifyCenter.wFull.hFull.flexGrow1.$)},i.createElement(er.qc,null)));let h=e=>{let t=_.data.get(e.key);return!!t&&!t?.canPinFileToWorkspace};return i.createElement(lf,{title:(0,k.t)("file_browser.pinning.pin_modal.pin_file_to_workspace"),confirmText:(0,k.t)("general.next"),tileClassName:"choose_file_to_pin_modal--showOnHoverContainer--DO9-h",query:a,setQuery:g,renderFileTile:(e,t,{isSelected:r,isHovered:a})=>i.createElement("div",{className:N.cx.relative.$},i.createElement(rv.NM,{file:e,noBorder:!0}),r||a?i.createElement("div",{className:N.cx.absolute.left0.top0.ml8.mt8.flex.flexRow.gap8.$},i.createElement(ry.MW,{type:E(e),size:ry.LE.MEDIUM})):null),renderTileFooter:e=>i.createElement(lE,{file:e,orgName:r,isDisabled:h(e)}),onSubmit:f,onSelectFile:d,files:m.data,gridText:a?void 0:(0,k.t)("file_browser.pinning.suggested"),emptyStateText:a?(0,k.tx)("file_browser.workspace_pinning.no_files_matching_query",{searchQuery:i.createElement("div",{className:N.cx.colorText.fontMedium.truncate.$},a)}):(0,k.t)("file_browser.workspace_pinning.no_suggested_files"),shouldDisableTile:h})},"ChooseFileToPinModal");var ly=r(609494),lv=r(174952),lb=r(566590),lw=r(606856),lT=r(121072),lI=r(318474),lC=r(903486),lx=r(671653);let lN={open:!0,openNewTab:!0,showInFolder:!0,copyLink:!0,pinToWorkspace:!0};function lk({suggestedFiles:e}){let t=e.slice(0,8),r=(0,eC._6)(),a=(0,l.wA)(),{showing:n,show:o,data:s}=(0,lT.L)(),d=i.useCallback((e,t)=>{c.Ay.redirect((0,tX.r1)(e)),(0,H.k1)(e.key,{selectedViewName:r.view,entrypoint:"suggested_files_empty_state"}),t.stopPropagation(),t.preventDefault()},[r.view]),m=i.useCallback((e,t)=>{d(e,t)},[d]),u=i.useCallback((e,t,r)=>{let a=e[0];a&&o({data:{tile:(0,lu.bn)(a),targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:r}})},[o]);return i.createElement(i.Fragment,null,i.createElement("div",{className:N.cx.colorTextSecondary.truncate.$},(0,k.t)("file_browser.pinning.suggested")),i.createElement(lC.A,{items:t,multiselectDisabled:!0,isDraggable:!1,handleOpenItem:m,onSelection:e=>{a(tY.an()),a(tY.PW({type:t8.F.FILES,keys:e.map(e=>e.key)}))},handleContextMenu:u,gridViewProps:{containerClassName:"suggested_files_grid--gridContainer--ZdukV",renderTile:e=>i.createElement("div",{className:N.cx.m8.opacity0_5.bRadius4.elevation100.overflowHidden.$,style:el.sx.add({width:"80px"}).$},i.createElement(rv.NM,{file:e,noBorder:!0,size:rP.y.SMALL})),tileBorderRadius:8,tileBorderStyle:"dashed",tileFooterPosition:"right",renderTileFooter:(e,{isSelected:t,isHovered:r})=>i.createElement(lS,{file:e,isHovered:r,isSelected:t})},viewType:lx.XU.GRID}),n&&s?.tile?i.createElement(lI.i,{tileActions:lN,openTile:e=>d(s.tile.fileLG,e),tile:s.tile,selectedTiles:[s.tile],dropdownVisible:n}):null)}function lS({file:e,isHovered:t,isSelected:r}){let a=(0,l.wA)(),n=i.useCallback(t=>{a(tu.to({type:(0,lm.a)(),data:{fileKey:e.key,source:"suggested_files_empty_state"}})),t.stopPropagation(),t.preventDefault()},[a,e]),o=e.project?.name;return i.createElement("div",{className:N.cx.flex.flexColumn.gap2.flexGrow1.justifyCenter.overflowHidden.ml16.$},i.createElement("div",{className:N.cx.textBodyMedium.truncate.$},e.name),t||r||f.Ay.mobile||f.Ay.tablet?i.createElement("div",{role:"button",tabIndex:0,className:N.cx.colorTextBrand.truncate.cursorPointer.$,onClick:n},(0,k.t)("file_browser.pinning.pin_file")):o?i.createElement("div",{className:N.cx.colorTextSecondary.truncate.$},o):null)}function lL({workspaceId:e}){let t;let r=function(e){let t=tB.Qw.useTransform((0,ag.Rs)(av.m28,{}),e=>{if(!e.currentUser.recentFiles2)return[];let t=[];for(let{file:r}of e.currentUser?.recentFiles2)r&&t.push(r);return t});return(0,lu.z1)(t,e)}(e);return t="loaded"!==r.status?i.createElement("div",{className:N.cx.py1.h20.wFull.$},i.createElement(er.qc,null)):r.data.length>0?i.createElement(lk,{suggestedFiles:r.data}):i.createElement("span",{className:N.cx.colorTextSecondary.truncate.textBodyLarge.alignCenter.$},(0,k.t)("file_browser.pinning.no_pinned_files")),i.createElement("div",{className:N.cx.bRadius8.colorBgSecondary.px32.py24.flex.flexColumn.gap16.mt8.$},t)}var lA=r(109388),lR=r(543509),lP=r(88823),lF=r.n(lP),lO=r(511617),lD=r(988652),lM=r(733334),lB=r(564577),lU=r(172522),lV=r(167893),lW=r(296045);function lH({pinnedFile:e}){let t=(0,lu.bn)(e.file),r=(0,lU.l)(e.file.folderId);return i.createElement("div",{className:N.cx.bRadius8.borderBox.p16.flex.flexColumn.gap16.colorBg.colorText.b1.bSolid.colorBorder.elevation300.flexGrow1.$,style:el.sx.add({width:"422px",overflowY:"auto",overflowX:"hidden"}).$},i.createElement("div",{className:N.cx.flex.flexRow.gap16.$},i.createElement("div",{className:N.cx.flexBasisAuto.$},i.createElement(lW.e,{entity:{id:e.creator.id,img_url:e.creator.imgUrl,name:e.creator?.name??void 0,handle:e.creator?.handle}})),i.createElement("div",{className:N.cx.flex.flexColumn.overflowHidden.$},i.createElement("div",{className:N.cx.flex.flexRow.gap8.textBodyLarge.$},i.createElement(S.E,{fontWeight:"semi-bold",truncate:!0},e.creator.name),i.createElement("span",{className:N.cx.flexBasisAuto.flexGrow1.flexShrink0.$},i.createElement(S.E,{color:"secondary"},i.createElement(lB.h1,{date:e.createdAt})))),i.createElement("div",{className:N.cx.textBodyLarge.overflowBreakWord.$,dangerouslySetInnerHTML:{__html:(0,lM.p)((0,ly.sP)(e.description))}}))),i.createElement("div",{className:N.cx.flex.flexColumn.$},i.createElement("div",{className:N.cx.bRadius8.b1.colorBorder.bSolid.wFull.overflowHidden.$},i.createElement("div",null,i.createElement(lv.e,{tile:t,noBorder:!0})),i.createElement("div",{className:N.cx.flex.flexRow.gap8.itemsCenter.bt1.bSolid.colorBorder.p16.$},i.createElement(lV.j,{tile:t,usePageIcon:!0}),i.createElement("div",{className:N.cx.flex.flexColumn.gap2.flexGrow1.justifyCenter.overflowHidden.$},i.createElement("div",{className:N.cx.textBodyLargeStrong.truncate.$},e.file.name),"loaded"===r.status&&r.data?i.createElement("div",{className:N.cx.textBodyMedium.colorTextSecondary.truncate.$},r.data):null)))))}let l$={width:0,height:0};function lj({pinnedFile:e,targetRef:t,shouldHide:r}){let a=(0,lD.s)(t),[n,l]=(0,lD.M)(),[o,s]=i.useState(l$),[c,d]=i.useState(!1),u=i.useCallback(()=>{if(!t.current)return;let e=(0,lO.E)(t.current.getBoundingClientRect()),r=window.innerWidth,a=window.innerHeight,n=a-e.top-8,i=n>100;if(r-e.right>438&&i){s({transform:`translate(${e.right+8}px, ${e.top}px)`,maxHeight:n});return}if(e.left>438&&i){s({transform:`translate(${e.left-430}px, ${e.top}px)`,maxHeight:n});return}let l=430-(r-e.left),o=a-e.bottom-16;if(o>100){s({transform:`translate(${(0,lR.qE)(e.left-l,0,e.left)}px, ${e.bottom+8}px)`,maxHeight:o});return}let c=e.top-16;s({top:"auto",bottom:"100vh",transform:`translate(${(0,lR.qE)(e.left-l,0,e.left)}px, ${e.top-8}px)`,maxHeight:c})},[t,s]),_=!r&&(a||l),p=(0,m.ZC)(_);if(i.useEffect(()=>{if(!p&&_)u();else if(p&&!_){d(!0);let e=setTimeout(()=>{d(!1)},(0,nW.XB)("150ms"));return()=>{clearTimeout(e)}}},[_,p,u]),i.useEffect(()=>{let e=lF()(u),t=()=>{_&&e()};return document.addEventListener("scroll",t,!0),()=>{document.removeEventListener("scroll",t,!0)}},[_,u]),!t.current)return null;let f=i.createElement("div",{className:"pinned_files_hover--hoverCardOverflowWrapper--VaAZM"},i.createElement("div",{className:M()("pinned_files_hover--hoverCard--MLJbb",_&&"pinned_files_hover--makeVisible--QrDF7"),style:o,ref:n,role:"tooltip",onContextMenu:e=>{e.preventDefault(),e.stopPropagation()}},(_||c)&&i.createElement(lH,{pinnedFile:e})));return lA.createPortal(f,document.body)}let lG={open:!0,openNewTab:!0,showInFolder:!0,copyLink:!0,share:!0,duplicateToDrafts:!0,pinToWorkspace:!0,publishOrgTemplate:!0,favoriteFile:!0,unfavoriteFile:!0},lY=[];function lz({workspace:e}){let t=(0,l.wA)(),r=(0,eC._6)(),a=(0,z.TA)(),{showing:n,show:o,data:s}=(0,lT.L)(),c=(0,lw.v)(),d=i.useCallback((t,a,n,i)=>{c(t,n),(0,H.E9)(H.gH,a.file,{entrypoint:i,selectedView:r.view,resourceType:"workspace",resourceId:e.id,pinDescription:(0,ly._Z)(a.description)})},[c,r.view,e.id]),m=i.useCallback((e,t)=>{d((0,lu.bn)(e.file),e,t,"pinned files")},[d]),u=e.pinnedFiles??lY,_=i.useCallback(r=>{let n=r[0];n&&(e.canAdmin||n.creator?.id===a)&&t(tu.to({type:(0,lb.I)(),data:{pinnedFileId:n.id}}))},[e.canAdmin,a,t]),p=i.useMemo(()=>u.filter(({file:e})=>!!e).map(e=>(0,lu.bn)(e.file)),[u]),f=(0,tQ.nw)(p),g=i.useMemo(()=>u.sort((e,t)=>e.createdAt>t.createdAt?1:-1),[u]);return i.createElement(i.Fragment,null,u.length>0?i.createElement(lC.A,{handleContextMenu:(e,r,a)=>{t(tY.an());let n=e.map(e=>e.file).filter(e=>null!==e);t(tY.PW({type:t8.F.FILES,keys:n.map(e=>e.key)}));let i=n[0];i&&o({data:{tile:(0,lu.bn)(i),targetRect:{top:r.clientY,right:r.clientX,bottom:r.clientY,left:r.clientX,width:1,height:1},index:a}})},isDraggable:!0,items:g,handleDragDataTransfer:(e,t)=>{t.setFigFilesData(e.map(e=>(0,lu.KR)(e.file)))},doNotFocusOnLoad:!0,getAriaLabel:e=>e.file.name,viewType:lx.XU.GRID,handleOpenItem:m,handleDeleteKey:_,gridViewProps:{containerClassName:"pinned_files_content--pinnedFilesGrid--WZBpn",renderTile:e=>i.createElement(lq,{pinnedFile:e,isDropdownOpen:n}),renderTileFooter:e=>i.createElement(lQ,{pinnedFile:e}),renderTileDragImage:e=>i.createElement(rv.NM,{file:e.file,noBorder:!0})}}):i.createElement(lL,{workspaceId:e.id}),(()=>{let e=s?.tile??null,t=s?.index??0;return i.createElement(lI.i,{tile:e,selectedTiles:f,tileActions:lG,openTile:r=>{e&&d(e,u[t],r,"pinned files: context menu")},dropdownVisible:n})})())}function lq({pinnedFile:e,isDropdownOpen:t}){let r=i.useRef(null),a=(0,lu.bn)(e.file);return i.createElement(i.Fragment,null,i.createElement(lj,{pinnedFile:e,targetRef:r,shouldHide:t}),i.createElement("div",{ref:r},i.createElement(lv.e,{tile:a,noBorder:!0,size:rP.y.SMALL})))}function lQ({pinnedFile:e}){return i.createElement("div",{className:N.cx.pt8.flex.flexColumn.$},i.createElement("span",{className:N.cx.ellipsis.textBodyLargeStrong.truncate.$},e.file.name),i.createElement(S.E,{truncate:!0,showTooltipWhenTruncated:!0,color:"secondary"},(0,k.t)("tile.file_tile.pinned_by_user",{name:e.creator?.name??""})))}let lK=(0,es.Iz)(e=>(0,es.E2)(`file_browser.workspace.pinned_section_open.${e}`,!0,lo.boolean()));function lX({workspace:e,isAssignedWorkspace:t,onLoad:r}){i.useEffect(()=>{r?.()},[r]);let[a,n]=(0,es.fp)(lK(e.id)),o=i.useCallback(()=>n(e=>!e),[n]),s=(0,l.wA)(),c=e.pinnedFiles?.length??0,d=t||e.canAdmin,m=c>=lu.D1,u=d||c>0,_=i.useCallback(()=>{s(tu.to({type:lh,data:{workspaceId:e.id}}))},[s,e.id]);return i.createElement(i.Fragment,null,u&&i.createElement(lc,{isOpen:a,toggleIsOpen:o,collapseHeader:i.createElement("div",{className:N.cx.flex.justifyBetween.itemsCenter.wFull.$},i.createElement("div",{"aria-expanded":a,role:"button",tabIndex:0,className:N.cx.flex.flexRow.gap4.itemsCenter.textBodyLargeStrong.cursorDefault.$,onClick:o},(0,k.t)("file_browser.pinning.pinned_files")),d&&i.createElement("button",{onClick:_,disabled:m,"data-tooltip":m&&(0,k.t)("file_browser.pinning.max_files.add_button_tooltip",{maxPins:lu.D1}),"data-tooltip-type":r$.Ib.TEXT,"data-tooltip-show-above":!0},i.createElement("div",{className:m?N.cx.colorTextDisabled.$:N.cx.colorTextBrand.$},(0,k.t)("file_browser.pinning.add_file")))),content:i.createElement(lz,{workspace:e})}))}function lZ({workspaceId:e}){let t=(0,Y.sZ)(),r=(0,ag.Rs)(av.aON,{orgId:t.id,workspaceId:e}),a=(0,ag.Rs)(av.nD$,{workspaceId:e}).transform(e=>e.workspace?.members??null),n=iI({workspaceId:e,onlyJoinedTeams:!1}),l=function(){let e=i.useRef(void 0);e.current||(e.current=performance.now());let t=i.useRef("hidden"===document.visibilityState),r=i.useRef(!1===navigator.onLine);return i.useEffect(()=>{let e=new AbortController;return document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&(t.current=!0)},{signal:e.signal}),window.addEventListener("offline",()=>{r.current=!0},{signal:e.signal}),()=>{e.abort()}},[]),i.useCallback(a=>{!(0,u.kc)().file_browser_workspace_page_performance_tracking||t.current||r.current||nm.az.trackDefinedEvent("file_browser.workspace_page_load_time",{type:a,durationMs:Math.round(performance.now()-e.current)})},[])}();if("loading"===r.status)return i.createElement(er.qc,null);if("loaded"!==r.status)return i.createElement(iB.S,{resourceType:nO.Ft.WORKSPACE});let o=r.data.workspace;if(!o||!o.canView)return i.createElement(iB.S,{resourceType:nO.Ft.WORKSPACE});let s=(0,q.eO)(r.data.currentUser)===o.id;return i.createElement(lJ,{org:t,workspace:o,workspaceMembersQuery:a,workspaceOrgTeamsQuery:n,isAssignedWorkspace:s,trackPerfEvent:l})}function lJ({org:e,workspace:t,workspaceMembersQuery:r,workspaceOrgTeamsQuery:a,isAssignedWorkspace:n,trackPerfEvent:l}){(0,tz.hL)(t.name);let o={...t,members:r.data??[]},s=r.transform(e=>!!e&&e.length>0),c=t.admins.length>0,d=s.transform(e=>e||c).unwrapOr(!0);i.useEffect(()=>{l("initial_load")},[l]),i.useEffect(()=>{"loaded"===r.status&&l("members_load")},[r.status,l]);let m=i.useCallback(()=>{l("pinned_files_load")},[l]),u=i.useCallback(()=>{l("teams_load")},[l]);return i.createElement(iS.r,{header:i.createElement(li,{workspace:o,org:e,isWorkspaceMembersLoading:"loading"===r.status,showMembersButton:d}),content:i.createElement("div",{className:N.cx.flex.flexColumn.gap24.my24.$},i.createElement("section",{"aria-label":(0,k.t)("file_browser.pinning.pinned_files"),className:N.cx.pl12.pr32.borderBox.wFull.$},i.createElement(lX,{workspace:t,isAssignedWorkspace:n,onLoad:m})),i.createElement(iC,null,i.createElement(iw,{orgTeamsQuery:a,workspaceId:t.id,onLoad:u}))),metaContent:s.unwrapOr(!1)?i.createElement(ll,{workspace:o}):void 0})}var l0=r(753178),l1=r(950964),l2=r(427472),l4=r(802755),l8=r(909595),l5=r(491087),l3=r(293014),l9=r(444077);let l6=i.memo(function(e){let t,r;return"implicit"===e.consentRegion?(t=l4.Ml,r=l4.e2):"explicit"===e.consentRegion&&(t=(0,l2.aJ)(),r=(0,l2.Sz)()),i.createElement("div",{role:"region","aria-label":t,className:M()(l5.MZ)},i.createElement(ee.Yo,{className:l5.o2,rel:"noopener",target:"_blank",href:r},i.createElement(ei.B,{svg:l3.A})),i.createElement("span",{className:l5.R2,"aria-hidden":"true"},t))}),l7=i.memo(function(){return(0,u.kc)().cookie_banners_community?"implicit"===(0,u.Ay)().consent_region?i.createElement(l4.C$,{variant:l8.a.COMMUNITY,dismissIcon:l9.A,SecondaryButton:e=>i.createElement(l1.Wd,{fullWidth:!1,className:l5.Rn,use:"hollow",...e}),persistentMessage:i.createElement(l6,{consentRegion:"implicit"})}):"explicit"===(0,u.Ay)().consent_region?i.createElement(l2.ZQ,{variant:l8.a.COMMUNITY,dismissIcon:l9.A,SecondaryButton:e=>i.createElement(l1.Wd,{fullWidth:!1,className:l5.Rn,use:"hollow",...e}),PrimaryButton:e=>i.createElement(l1.Wd,{fullWidth:!1,className:l5.Rn,use:"standard",...e}),persistentMessage:i.createElement(l6,{consentRegion:"explicit"})}):null:null});var oe=r(385422),ot=r(460845),or=r(408552),oa=r(335666),on=r(108636),oi=r(654923),ol=r(749949),oo=r(837324),os=r(612776),oc=r(466636),od=r(545941),om=r(609271),ou=r(417659),o_=r(555328),op=r(978527),of=r(447227),og=r(802536),oE=r(206144),oh=r(97128),oy=r(376485),ov=r(427681);function ob({resource:e,context:t}){let r;return r=t===o_.aL.REDESIGNED_PLUGIN_ROW?ov.gz:e.editor_type===oy.HK.FIGJAM||e.editor_type===oy.HK.UNIVERSAL?ov.kJ:ov.GJ,i.createElement(oE.A6,{to:(0,oo.UI)({path:oh.Uo.PLUGIN,id:e.id}),className:r},(0,k.tx)("community.view"))}var ow=r(245790),oT=r(553716),oI=r(864089),oC=r(158996),ox=r(526235),oN=r(674694);let ok="resource_page_media_carousel--hubFileTileFullInnerImage--kVJwo resource_page_media_carousel--hubFileTileInnerImage--irUS9",oS="resource_page_media_carousel--mobileCarousel--G3Nxz";function oL(e){return["video"===e.type?e.thumbnail_url:e.url,"image"===e.type&&"resized_thumbnail_urls"in e?e.resized_thumbnail_urls:void 0]}function oA({thumbnailUrl:e,resizedThumbnailUrls:t,resourceId:r,altText:a,thumbnailContext:n,isMobileCarousel:l}){let o;return e&&t?o=i.createElement(oN.Sl,{className:M()(ok,{[oS]:l}),image:e,onLoad:p.lQ,hubFileId:r,alt:a,thumbnailContext:n,resizedThumbnailUrls:t}):e?o=i.createElement(oI.oW,{className:M()(ok,{[oS]:l}),src:e,loading:"lazy",alt:a,draggable:!1,onError:()=>{(0,oT.x1)("community","Failed to load hero image on resource detail page",{resourceId:r,image:e})}}):((0,oT.xi)("community","Missing hero image on resource detail page",{resourceId:r}),o=i.createElement(ox.Ek,null)),i.createElement("div",{className:"resource_page_media_carousel--carouselImage--91wRk"},o)}function oR({thumbnailUrl:e,altText:t,resourceId:r}){return i.createElement(oI.oW,{className:ok,src:e,loading:"lazy",alt:t,draggable:!1,onError:()=>{(0,oT.x1)("community","Failed to load hero image closeup on resource detail page",{thumbnailUrl:e,resourceId:r})}})}function oP(e,t){return(0,oC.YI)(t)?`/api/plugins/${t.id}/videos/${e.video_file_uuid}/manifest`:(0,oC.$3)(t)?`/api/widgets/${t.id}/videos/${e.video_file_uuid}/manifest`:null}var oF=r(75395),oO=r(343887),oD=r(941670),oM=r(538649),oB=r(978488),oU=r(43604),oV=r(157663),oW=r(913016),oH=r(30090),o$=r(46481);let oj="video_player--videoControlButton--CaxkP",oG="video_player--videoButtonFullscreenScale--oSh2-";var oY=r(68710),oz=r(10448),oq=r(114843),oQ=r(552601);let oK={BUTTON_SHAPE_FILL:"#FFFFFF",BUTTON_BG_FILL:"#000000",BUTTON_STROKE_OPACITY:.2,BUTTON_BG_FILL_OPACITY:.7,BUTTON_BG_FILL_HOVER_OPACITY:.9};function oX(e){if(null==e||Number.isNaN(e))return"";let{seconds:t,minutes:r}=(0,oW._d)(e);return`${r}:${String(t).padStart(2,"0")}`}function oZ(e,t){e&&(t?(e.play(),f.Ay.safari&&e.currentTime(.1)):o0(e)?e.pause():(f.Ay.safari&&e.currentTime()>.1&&e.currentTime(e.currentTime()-.1),e.play()))}let oJ=i.memo(({src:e,fallbackSrc:t,useHLS:r=!1,autoPlay:a=!1,muted:n=!1,showControlsOnVideoLoad:l=!1,onEnded:o})=>{let[s,c]=i.useState();i.useEffect(()=>{(async()=>{window.VIDEOJS_NO_DYNAMIC_STYLE=!0,c(await (0,oH.Fe)())})()},[]);let d=i.useRef(null),m=i.useRef(null),[u,_]=i.useState(null),[p,g]=i.useState(!1),[E,h]=i.useState(!1);i.useEffect(()=>{let e=d.current;if(e){let t=()=>{h(e=>!e)};return e.addEventListener(lO.R7.fullscreenChangeEventName,t),()=>{e.removeEventListener(lO.R7.fullscreenChangeEventName,t)}}},[]),i.useEffect(()=>{let e=m.current;e&&(e.style.height="100%",e.style.width="100%",e.style.objectFit=E?"contain":"cover")},[E]);let[y,v]=i.useState(!1);i.useEffect(()=>{y&&o?.()},[y,o]);let b=i.useRef(void 0),w=(0,i.useCallback)(()=>{g(!0),clearTimeout(b.current),b.current=setTimeout(()=>g(!1),3e3)},[]);i.useEffect(()=>{if(!m.current||!s)return;let e=!1,t=s.videoJs(m.current,{muted:n,autoplay:a&&!f.Ay.safari,controls:!1,controlBar:!1,bigPlayButton:!1,loadingSpinner:!1,errorDisplay:!1,textTrackSettings:!1,textTrackDisplay:!1,nativeTextTracks:!1},()=>{e||_(t)});return()=>{t.dispose(),e=!0,_(null)}},[a,n,s]);let T=(0,i.useCallback)(async(e,a)=>{try{await (0,oH.uz)(e,r,a)}catch{oV.k.warn("Reverting to fallback video source"),await (0,oH.uz)(t??null,!1,a)}l&&w()},[t,w,l,r]);i.useEffect(()=>{u&&e&&T(e,u)},[T,e,u]);let I=(0,i.useCallback)(()=>{if(E||document.fullscreenElement)lO.R7.exitFullscreenFunc();else if(f.Ay.isIpad){let e=m.current;e?.webkitEnterFullscreen?.()}else{let e=d.current;e&&lO.R7.requestFullscreenFunc.call(e)}},[E]);return i.createElement("div",{className:M()("video_player--videoContainer--f21k1",{"video_player--fullscreen--Tkght":E}),ref:d,onPointerMove:w},i.createElement(oF.E,{className:N.cx.hFull.wFull.bgTransparent.$,onClick:(0,i.useCallback)(()=>{u&&E&&oZ(u,y)},[y,E,u]),actionOnPointerDown:!0},i.createElement("video",{ref:m,crossOrigin:"anonymous",controls:f.Ay.isIpad&&E})),i.createElement(o1,{videoJsPlayer:u,isFullscreen:E,toggleFullscreen:I,isActive:p,hasEnded:y,setHasEnded:v}))});function o0(e){return!!e&&!e.ended()&&!e.paused()&&e.currentTime()>0&&e.readyState()>2}function o1({videoJsPlayer:e,isFullscreen:t,toggleFullscreen:r,isActive:a,hasEnded:n,setHasEnded:l}){let[o,s]=i.useState(0),c=i.useRef(!1),[d,m]=i.useState(null),[u,_]=i.useState(!1),[p,g]=i.useState(!1),E=i.useRef(!1),h=i.useRef(!1),y=d||e?.currentTime(),v=e?.duration(),b=o0(e),w=i.useRef(void 0);i.useEffect(()=>{g(a||!b||n||E.current)},[n,a,b]);let T=(0,i.useCallback)(()=>{s(e=>e+1)},[]);i.useEffect(()=>{if(e)return e.on("playing",n),e.on("canplay",t),e.on("ended",o),e.on("timeupdate",t),e.on("seeking",i),e.on("seeked",a),e.on("stalled",r),()=>{e.off("playing",n),e.off("canplay",t),e.off("ended",o),e.off("timeupdate",t),e.off("seeking",i),e.off("seeked",a),e.off("stalled",r)};function t(){T()}function r(){E.current=!1}function a(){E.current=!1,l(!1)}function n(){l(!1),T()}function i(){E.current=!0}function o(){u||l(!0),T()}},[u,T,l,e]);let I=(0,i.useCallback)(()=>{e&&(oZ(e,n),T())},[n,T,e]),C=(0,i.useCallback)(()=>{e&&(c.current=o0(e)||n,e.pause())},[n,e]),x=(0,i.useCallback)(()=>{e&&(c.current&&e.play(),w.current&&e.currentTime(w.current),m(null),w.current=void 0)},[e]),N=(0,i.useCallback)(t=>{if(e){if(E.current){w.current=t;return}e.currentTime(t)}},[e]),S=i.createElement(o5,{togglePlay:I,hasEnded:n,isPlaying:b,shouldShowVideoControls:p,isFullscreen:t});if((e?.readyState()??0)<2&&!h.current)return i.createElement("div",{className:"video_player--videoLoadingState--uj4y3"},i.createElement(er.kt,{size:"large"}));if(h.current=!0,f.Ay.isIpad&&t)return null;let L=t?(0,k.t)("whiteboard.video.minimize_tooltip"):(0,k.t)("whiteboard.video.fullscreen_tooltip");return i.createElement(i.Fragment,null,d?null:S,i.createElement("div",{className:M()("video_player--videoControls--icAIO",!p&&"video_player--videoControlsHidden--yuZ6F")},i.createElement("div",{className:"video_player--videoTime--zy6tY"},oX(y)," / ",oX(v)),i.createElement(o8,{currentTime:y||0,totalTime:v||0,onScrubStart:C,onScrub:m,onScrubEnd:x,onVideoPositionUpdated:N,hasEnded:n,isScrubbing:u,setIsScrubbing:_}),i.createElement("div",{className:"video_player--videoRightControls--tokJe"},i.createElement(oO.K,{onClick:r,"aria-label":L,htmlAttributes:{"data-tooltip-type":r$.Ib.TEXT,"data-tooltip":L}},i.createElement(o$.U,{className:oj,svg:t?oQ.A:oq.A},t?i.createElement(oD.p,null):i.createElement(oM.O,null))),i.createElement(o2,{rerender:T,videoJsPlayer:e}))))}function o2({rerender:e,videoJsPlayer:t}){let[r,a]=i.useState(!1),n=(0,i.useCallback)(()=>{t&&(t.muted(!t.muted()),e())},[e,t]),l=(0,i.useCallback)(r=>{let a=r.target.valueAsNumber;t&&(t.volume(a),t.muted(0===a),e())},[e,t]),o=t?.muted()?(0,k.t)("whiteboard.video.unmute_tooltip"):(0,k.t)("whiteboard.video.mute_tooltip"),s=t?.muted()?i.createElement(oB.P,null):i.createElement(oU.L,null),c=M()(oj,"video_player--lastVideoControl--lnkoN",{"video_player--selectedVolumeControlButton--Ls-q9":!f.Ay.isIpad&&r});return i.createElement("div",{onPointerMove:(0,i.useCallback)(()=>a(!0),[]),onPointerOut:(0,i.useCallback)(()=>a(!1),[])},i.createElement(oO.K,{onClick:n,"aria-label":o,htmlAttributes:{"data-tooltip-type":r$.Ib.TEXT,"data-tooltip":o}},i.createElement(o$.U,{className:c,svg:t?.muted()?oz.A:oY.A},s)),!f.Ay.isIpad&&r?i.createElement(o4,{volume:t?.volume()??1,muted:t?.muted()??!1,handleChange:l}):null)}function o4({handleChange:e,volume:t,muted:r}){let a=r?0:t,n=100*a,l=i.useRef(null);return i.createElement("div",{className:"video_player--volumeContainer----Q0D"},i.createElement("div",{className:"video_player--volumeBox--NBckg"},i.createElement("input",{className:"video_player--volumeSliderInput--H6jHn",style:{background:`linear-gradient(to right,var(--active-slider-color) 0%,var(--active-slider-color) ${n}%,var(--inactive-slider-color) ${n}%,var(--inactive-slider-color) 100%)`},type:"range",min:0,max:1,step:.02,value:a,onChange:e,ref:l})))}function o8({currentTime:e,totalTime:t,hasEnded:r,onVideoPositionUpdated:a,onScrubStart:n,onScrub:l,onScrubEnd:o,isScrubbing:s,setIsScrubbing:c}){let[d,m]=i.useState(!1),u=i.useRef(null),_=i.useRef(null),p=(0,i.useCallback)(t=>{if(!u.current)return;t.stopPropagation(),c(!0),n();let r=u.current.getBoundingClientRect();_.current={minX:r.x,maxX:r.x+r.width,originX:t.clientX,newTime:e}},[e,n,c]),g=(0,i.useCallback)(e=>{if(!u.current)return;e.stopPropagation(),c(!0),n();let r=u.current.getBoundingClientRect(),i=r.x,l=r.x+r.width,o=e.clientX,s=(0,lR.qE)(0,(o-i)/(l-i)*t,t);a(s),_.current={minX:i,maxX:l,originX:e.clientX,newTime:s}},[n,a,c,t]),E=(0,i.useCallback)(e=>{if(!_.current)return;let r=e.clientX,{minX:n,maxX:i}=_.current,o=(0,lR.qE)(0,(r-n)/(i-n)*t,t);_.current.newTime=o,l(o),a(_.current.newTime)},[l,a,t]),h=(0,i.useCallback)(()=>{_.current&&(a(_.current.newTime),c(!1),o(),_.current=null)},[o,a,c]);i.useEffect(()=>{if(s)return document.addEventListener("pointermove",E),document.addEventListener("pointerup",h),()=>{document.removeEventListener("pointermove",E),document.removeEventListener("pointerup",h)}},[s,E,h]);let y=Math.min(e/t*100,100);f.Ay.safari&&r&&(y=100);let v=y>0?8:0;return i.createElement("div",{className:"video_player--videoTimeScrubberContainer--bNh9B",onPointerMove:(0,i.useCallback)(()=>m(!0),[]),onPointerOut:(0,i.useCallback)(()=>m(!1),[])},i.createElement("div",{role:"progressbar",tabIndex:0,className:"video_player--videoTimeScrubber--Brs7M",onPointerDown:g},i.createElement("div",{className:"video_player--videoTimeScrubberBackground--pEEuZ",ref:u}),i.createElement("div",{className:"video_player--videoTimeScrubberProgress--y988I",style:{width:`${y}%`}}),(d||s)&&i.createElement("div",{className:"video_player--videoTimeScrubberNub--Poe0a",style:{left:`calc(${y}% - ${v}px)`},onPointerDown:p,role:"button",tabIndex:0})))}function o5({shouldShowVideoControls:e,togglePlay:t,hasEnded:r,isPlaying:a,isFullscreen:n}){let l=o6;return r?l=o9:a&&(l=se),i.createElement(o3,{shouldShowVideoControls:e,ButtonIcon:l,togglePlay:t,isFullscreen:n})}function o3({ButtonIcon:e,shouldShowVideoControls:t,togglePlay:r,isFullscreen:a}){let[n,l]=i.useState(!1),o=n?oK.BUTTON_BG_FILL_HOVER_OPACITY:oK.BUTTON_BG_FILL_OPACITY;return i.createElement("button",{className:M()("video_player--videoButton--M-5Z2",{"video_player--videoButtonHidden--9qDbX":!t}),onPointerMove:(0,i.useCallback)(()=>l(!0),[]),onPointerOut:(0,i.useCallback)(()=>l(!1),[]),onPointerDown:r},i.createElement(e,{fillOpacityForBackground:o,isFullscreen:a}))}function o9({fillOpacityForBackground:e,isFullscreen:t}){return i.createElement("svg",{className:M()(t&&oG),width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M48 24C48 37.2548 37.2548 48 24 48C10.7452 48 0 37.2548 0 24C0 10.7452 10.7452 0 24 0C37.2548 0 48 10.7452 48 24Z",fill:oK.BUTTON_BG_FILL,fillOpacity:e}),i.createElement("path",{d:"M34 24C34 18.4772 29.7175 14 24.4348 14C20.5763 14 17.2515 16.3884 15.7391 19.8282V14H14V22.1818H21.8261V20.3636H17.4222C18.7028 17.6696 21.362 15.8182 24.4348 15.8182C28.757 15.8182 32.2609 19.4813 32.2609 24C32.2609 28.5187 28.757 32.1818 24.4348 32.1818C21.362 32.1818 18.7028 30.3304 17.4222 27.6364H15.5216C16.9131 31.3612 20.3792 34 24.4348 34C29.7175 34 34 29.5228 34 24Z",fill:oK.BUTTON_SHAPE_FILL}),i.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"23.5",stroke:oK.BUTTON_BG_FILL,strokeOpacity:oK.BUTTON_STROKE_OPACITY}))}function o6({fillOpacityForBackground:e,isFullscreen:t}){return i.createElement("svg",{className:M()(t&&oG),width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("g",{clipPath:"url(#clip0_403_4259)"},i.createElement("rect",{width:"48",height:"48",rx:"24",fill:oK.BUTTON_BG_FILL,fillOpacity:e}),i.createElement("path",{d:"M19 34V14L35 24L19 34Z",fill:oK.BUTTON_SHAPE_FILL})),i.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"23.5",stroke:oK.BUTTON_BG_FILL,strokeOpacity:oK.BUTTON_STROKE_OPACITY}),i.createElement("defs",null,i.createElement("clipPath",{id:"clip0_403_4259"},i.createElement("rect",{width:"48",height:"48",rx:"24",fill:oK.BUTTON_BG_FILL}))))}function o7(){return i.createElement(o6,{fillOpacityForBackground:oK.BUTTON_BG_FILL_OPACITY,isFullscreen:!1})}function se({fillOpacityForBackground:e,isFullscreen:t}){return i.createElement("svg",{className:M()(t&&oG),width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("g",{clipPath:"url(#clip0_1_16)"},i.createElement("rect",{width:"48",height:"48",rx:"24",fill:oK.BUTTON_BG_FILL,fillOpacity:e}),i.createElement("path",{d:"M15 15H21V33H15V15Z",fill:oK.BUTTON_SHAPE_FILL}),i.createElement("path",{d:"M27 15H33V33H27V15Z",fill:oK.BUTTON_SHAPE_FILL})),i.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"23.5",stroke:oK.BUTTON_BG_FILL,strokeOpacity:oK.BUTTON_STROKE_OPACITY}),i.createElement("defs",null,i.createElement("clipPath",{id:"clip0_1_16"},i.createElement("rect",{width:"48",height:"48",rx:"24",fill:oK.BUTTON_BG_FILL}))))}let st="plugin_dropdown_preview--pluginMediaContainer--QVFs6",sr="plugin_dropdown_preview--pluginImage--UjTg4";function sa({carouselImages:e,version:t,aspectRatio:r}){let[a,n]=i.useState(0);i.useEffect(()=>{var t=setInterval(()=>{n((a+1)%e.length)},1500);return()=>{clearInterval(t)}});let l=i.useMemo(()=>e.map(e=>oL(e)[0]),[e]);return i.createElement("div",{className:st,style:el.sx.add({aspectRatio:r}).$},l.map((e,r)=>i.createElement("img",{alt:t.name+" preview",key:r,className:r===a?M()(sr,"plugin_dropdown_preview--activeImage--efzMn"):M()(sr,"plugin_dropdown_preview--inactiveImage--NdowZ"),src:e})))}function sn({plugin:e,pluginVideo:t,aspectRatio:r}){let a=(0,ol.J)();return i.createElement("div",{className:"plugin_dropdown_preview--pluginVideo--IlluJ",style:el.sx.add({aspectRatio:r}).$},i.createElement(oJ,{src:oP(t,e),fallbackSrc:t.url,useHLS:!0,autoPlay:!0,muted:!0,onEnded:()=>{(0,nm.sx)("rdp_video_ended",{community_resource_id:e.id,resouce_type:"plugin",searchSessionId:a})}}))}function si({imageUrl:e,version:t,aspectRatio:r}){return i.createElement("div",{className:st,style:el.sx.add({aspectRatio:r}).$},i.createElement("img",{className:sr,src:e,alt:t.name+" preview"}))}function sl({plugin:e,version:t,aspectRatio:r,video:a}){if(a)return i.createElement(sn,{plugin:e,pluginVideo:a,aspectRatio:r});let n=(0,oo.N6)(e);return n.length>0?i.createElement(sa,{carouselImages:n,version:t,aspectRatio:r}):i.createElement(si,{imageUrl:e.thumbnail_url||"",version:t,aspectRatio:r})}function so({plugin:e,aspectRatio:t,video:r}){let a=(0,oo.qD)(e),n=(0,od.G8)(a,void 0,!0),l=e.tags?.slice(0,3)??[];return i.createElement("div",{className:"plugin_dropdown_preview--hoverCard--zzMPg","data-testid":"plugin-dropdown"},i.createElement(sl,{plugin:e,version:a,aspectRatio:t,video:r}),i.createElement("div",{className:"plugin_dropdown_preview--pluginMeta--uuieP"},i.createElement("div",{className:"plugin_dropdown_preview--pluginName--qx9M6 text--fontPos13--xW8hS text--_fontBase--QdLsd"},i.createElement("span",{className:N.cx.ellipsis.noWrap.overflowHidden.$},a.name)),n&&i.createElement("div",{className:"plugin_dropdown_preview--pluginTagline--Rs0sq text--fontPos11--2LvXf text--_fontBase--QdLsd"},i.createElement("span",null,n))),l.length>0&&i.createElement("div",{className:"plugin_dropdown_preview--tagsContainer--QpeL2"},l.map(e=>i.createElement("div",{key:e,className:"plugin_dropdown_preview--tags--IlWLE text--fontPos11--2LvXf text--_fontBase--QdLsd"},e))))}let ss=r(777944).PluginTryButton;var sc=r(166521);let sd="plugin_row--pluginRowAvatar--S3Edj dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd",sm="plugin_row--animatedDropdown--bkyGN dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd",su="plugin_row--animatedDropdownContent--p9W2i",s_="plugin_row--avatarBoxShadowOverride--MBDpQ";function sp({pluginUrl:e,trackTileClick:t,version:r}){return i.createElement("div",{"data-testid":"plugin-icon"},i.createElement(oE.A6,{to:e,onClick:t,className:"plugin_row--pluginRowImageContainer--mYY6b"},i.createElement(op.V,{className:"plugin_row--pluginRowIcon--cDHTC",alt:`Figma plugin "${r.name}"`,plugin:{...r,redirect_icon_url:r.redirect_icon_url||oo.ZD},onLoad:e=>e.target.style.opacity="1",onError:e=>e.target.src=oo.ZD,loading:"lazy"})))}function sf({resource:e,onIntersectionChange:t,isOrgTeamBrowsing:r,index:a}){let n;let l=(0,ol.J)(),o=(0,oo.qD)(e),s=(0,o_.m3)(e),c=(0,o_.PM)(e),d=(0,oi.I)(e),m=(0,oc.QQ)(d),u=i.useMemo(()=>r?i.createElement(ob,{resource:e,context:o_.aL.REDESIGNED_PLUGIN_ROW}):!s||m||c?i.createElement(ss,{resource:e,context:o_.aL.REDESIGNED_PLUGIN_ROW}):i.createElement(sc.I,{resource:e,context:o_.aL.REDESIGNED_PLUGIN_ROW}),[r,e,s,m,c]),_=(0,or.QP)({resource:{...e,community_resource_payment:d},height:"16",validBadges:[or.op.FREEMUM,or.op.OFF_PLATFORM,or.op.PURCHASED,or.op.PRICE,or.op.FREE]}),p=(0,oo._t)({resource:e}),f=()=>(0,od.cB)("plugin",e.id,a,l),g=(e.community_publishers.accepted??[])[0],E=!!on.W(e.id,o_.vt.PLUGIN).data?.[0],h=(0,os.ZG)(),y=(0,os.pV)(),v="";if(h()){if(n=function(e){let t={};if(e.carousel_videos&&0!==Object.keys(e.carousel_videos??{}).length)return Object.entries(e.carousel_videos).forEach(([e,r])=>{t[e]=r}),Object.entries(t).sort(([e],[t])=>parseInt(e)-parseInt(t))[0][1]}(e),v="",n)v=n.thumbnail_url;else{let t=(0,oo.N6)(e);v=t?.length>0?oL(t[0])[0]:e.thumbnail_url||""}}let b=(0,oa.X)(v)?"16/9":"2/1";return i.createElement("div",{"data-testid":"plugin-row"},i.createElement(en.a,{onIntersectionChange:e=>t?.(e)}),i.createElement("div",{className:"plugin_row--pluginRow--lySkC"},h()?i.createElement(og.So,{preview:i.createElement(so,{plugin:e,aspectRatio:b,video:n}),borderRadius:13,dropdownClassName:su,verticalPosition:"above",allowHoverOnDropdownContents:!1,className:sm},i.createElement(sp,{pluginUrl:p,trackTileClick:f,version:o})):i.createElement(sp,{pluginUrl:p,trackTileClick:f,version:o}),i.createElement("div",{className:"plugin_row--pluginRowMetaInfo--mqV-l"},i.createElement(oE.A6,{to:p,className:"plugin_row--pluginRowTitleAndDescription--5V-o7",onClick:f},i.createElement("div",{className:"plugin_row--pluginRowTitleAndBadge--FQjVh"},i.createElement("div",{className:"plugin_row--pluginRowTitle--GOOmC text--fontPos13--xW8hS text--_fontBase--QdLsd"},o.name),y?null:_),i.createElement("div",{className:"plugin_row--pluginRowDescription--7cthx text--fontPos11--2LvXf text--_fontBase--QdLsd",style:_?{WebkitLineClamp:1}:{}},(0,od.G8)(o,void 0,!0))),i.createElement("div",{className:"plugin_row--pluginRowMetaAndCTA--A-TFN"},g&&i.createElement(om.Ay,{mediaQuery:`(min-width: ${io.ikM})`},i.createElement(og.So,{preview:i.createElement(of.Z,{author:g,isHoverStateRedesignEnabled:h()}),className:h()?M()(sd,sm):sd,borderRadius:h()?13:2,allowHoverOnDropdownContents:!h(),verticalPosition:h()?"above":"below",dropdownClassName:h()?su:""},h()?i.createElement(aI.o3,{to:new ou.xn({profileHandle:g.profile_handle}).to,trackingEventName:"community_hub_profile_preview__profile_visit",trackingProperties:{profileId:g.id},className:"plugin_row--pluginRowAvatarLink--EdvUq"},i.createElement(lW.e,{adtlClassName:s_,key:g.id,entity:g,size:24})):i.createElement(lW.e,{adtlClassName:s_,key:g.id,entity:g,size:24}))),y&&i.createElement("div",{className:"plugin_row--pluginRowBadge--uJ62l text--fontPos9--naThA text--_fontBase--QdLsd"},_),i.createElement("div",{className:"plugin_row--pluginRowMetrics--TZFF7 text--fontPos13--xW8hS text--_fontBase--QdLsd"},i.createElement(ow.cz,{currentUserLiked:E,likeCount:e.like_count,inPluginRow:!0}),i.createElement(og.So,{disableRepositioning:!0,className:M()("plugin_row--toolTip--Uxz1M dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd","plugin_row--toolTipPositioning--OgVuh"),preview:(0,k.tx)("community.try.used_by_n_people",{num:e.unique_run_count})},i.createElement(ow.i8,{usageCount:(0,od.mk)(e),inPluginRow:!0}))),i.createElement(om.Ay,{mediaQuery:`(min-width: ${io.dxy})`},u)))))}var sg=r(686257);function sE({children:e}){return i.createElement(i.Fragment,null,e)}var sh=r(546856),sy=r(313507);let sv=e=>{let t={};return e.filter(e=>{let r="model"in e?e.model.id:e.id;return!t[r]&&(t[r]=!0,!0)})};function sb(e="normal"){return"rows"===e?sy.bu:"profile"===e?sy._1:"compact"===e?sy.en:sy.z3}function sw({resources:e,adtlClassName:t,showAsTable:r=!1,showMoreCallback:a,onIntersectionChange:n,viewContext:o="feedResourceGrid",TileWrapper:s=sE}){let c=(0,os.X5)(),d=(0,l.d4)(e=>"authedActiveCommunityProfile"in e?e.authedActiveCommunityProfile:null),m=i.useMemo(()=>sv(e),[e]);return i.createElement(aI.fu,{name:o},i.createElement("div",{className:M()(t||sy.z3,{[sy.wS]:c})},m.map((e,t)=>"is_widget"in e?e.is_widget?i.createElement(s,{key:`widget-${e.id}`,resourceId:e.id,resourceType:o_.vt.WIDGET,resourceName:(0,oo.qD)(e).name},i.createElement(sh.bN,{key:`widget-${e.id}`,index:t,resource:e,onIntersectionChange:t=>n?.(e,t),subView:o})):r?i.createElement(s,{key:`pluginRow-${e.id}`,resourceId:e.id,resourceType:o_.vt.PLUGIN,resourceName:(0,oo.qD)(e).name},i.createElement(sf,{key:`pluginRow-${e.id}`,index:t,resource:e,onIntersectionChange:t=>n?.(e,t),isOrgTeamBrowsing:!!(d?.team_id||d?.org_id)})):i.createElement(s,{key:`plugin-${e.id}`,resourceId:e.id,resourceType:o_.vt.PLUGIN,resourceName:(0,oo.qD)(e).name},i.createElement(sh.cS,{index:t,key:`plugin-${e.id}`,resource:e,onIntersectionChange:t=>n?.(e,t),subView:o})):"resources"in e?i.createElement(s,{key:`profileRow-${e.model.id}`,resourceId:e.model.id,resourceType:"profile",resourceName:e.model.name},i.createElement(sh.Yw,{index:t,key:`profileRow-${e.model.id}`,resource:e,authedActiveCommunityProfile:d})):"profile_handle"in e?i.createElement(s,{key:`profile-${e.id}`,resourceId:e.id,resourceType:"profile",resourceName:e.name},i.createElement(sh.UG,{key:`profile-${e.id}`,resource:e})):i.createElement(s,{key:`file-${e.id}`,resourceId:e.id,resourceType:o_.vt.HUB_FILE,resourceName:(0,oo.qD)(e).name},i.createElement(sh.Cv,{index:t,key:`file-${e.id}`,resource:e,onIntersectionChange:t=>n?.(e,t),subView:o})))),e.length>0&&a&&i.createElement(sg.a,{callback:e=>{e[0].isIntersecting&&a()}}))}var sT=r(813408),sI=(e=>(e.BUNDLE_SECTION="bundle_section",e.HERO_SECTION="hero_section",e))(sI||{});let sC=lo.object({title:lo.string(),description:lo.string().optional(),imageUrl:lo.string().url(),prompt:lo.string(),category:lo.string()});lo.object({figjam_ai:lo.array(sC).nullable()});let sx=lo.object({hub_file_id:lo.string().optional(),plugin_id:lo.string().optional(),widget_id:lo.string().optional(),title:lo.string().optional(),description:lo.string().optional()}),sN=lo.object({resources:lo.array(sx).nullish(),resource:sx.nullish()}).nonstrict(),sk=lo.object({title:lo.string().nullable(),description:lo.string().nullable(),meta:sN,position:lo.number(),section_type:lo.nativeEnum(sI),created_at:lo.string().nullable(),updated_at:lo.string().nullable()}),sS=sk.extend({resources:lo.array(lo.custom())}),sL=sk.extend({resource:lo.custom().nullable()}),sA=lo.object({question:lo.string(),answer:lo.string()}),sR=lo.object({faqs:sA.nullish(),breadcrumb_text:lo.string().nullish()}).nonstrict();function sP(e,t){let r=(0,oC.Vm)(e);return t?.resources?.length?(t?.resources).find(t=>r===o_.vt.HUB_FILE?t?.hub_file_id===e.id:r===o_.vt.PLUGIN?t?.plugin_id===e.id:r===o_.vt.WIDGET?t?.widget_id===e.id:void 0):t?.resource?t?.resource:void 0}lo.object({title:lo.string().nullable(),description:lo.string().nullable(),header_img_url:lo.string().url().nullable(),meta_title:lo.string().nullable(),meta_description:lo.string().nullable(),thumbnail_url:lo.string().url().nullable(),meta:sR,url_slug:lo.string(),sections:lo.array(lo.union([sS,sL])),profile:sT.bo,publishing_status:lo.string(),latest_published_at:lo.string().nullable(),created_at:lo.string().nullable(),updated_at:lo.string().nullable(),is_template_url:lo.boolean(),faqs:lo.array(sA).nullable()});let sF={"ui-kits":"ui-kits","2023-presentation-templates":"presentations","2023-resume-templates":"resume-templates","plugins-accessibility":"accessibility","org-chart-templates":"diagramming","plugins-tidy-cleanup":"file-organization","flow-chart-templates":"diagramming",icons:"icons","build-and-play":"fun-games","figjam-plugins":"whiteboarding",widgets:"team-meetings",typography:"fonts-typography","favorite-educational":"education","favorite-graphic-resources":"visual-assets",workshops:"brainstorming",diagramming:"diagramming",meetings:"team-meetings",engineering:"development",planning:"strategic-planning",brainstorms:"brainstorming",education:"education","favorite-team-bonding":"team-meetings",fun:"fun-games","graphic-resources":"visual-assets","how-teams-jam":"team-meetings","figjam-team-bonding":"team-meetings",educational:"education"},sO={"world-emoji-day-2021":"world-emoji-day","config2021-sessions":"config-sessions","holidays-2022":"holidays","config-2022-speaker-decks":"config-speaker-decks","schema-2022-speaker-decks":"schema-speaker-decks","social-media":"instagram-mockup-designs","pride-2021":"pride-posters"},sD="community_collections--bannerContainer--7yGIP",sM="community_collections--copyButton--Mb-fA text--fontPos13--xW8hS text--_fontBase--QdLsd",sB="community_collections--resourcePreviewRow--wcOSC",sU="community_collections--resourcePreview--QDaaf",sV="community_collections--breadcrumbArrow--bv6Ia",sW="community_collections--parentBreadcrumb--fhqqK community_collections--breadcrumb--E-9f5 text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",sH="community_collections--footerContainer--OI6W4";function s$({page:e}){let t=i.useRef(null),r=function(e,t=4,r=540){let[a,n]=i.useState(t),l=i.useCallback(()=>{if(window.innerWidth<=r){n(t);return}let a=e.current.children[1];if(0===a.children.length){n(0);return}let i=a.children[0].getBoundingClientRect().width;n(Math.floor(a.getBoundingClientRect().width/i))},[e,n,t,r]);return(0,d.h)(()=>(l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l))),a}(t),a=function(e){let{resources:t}=e.sections.reduce(({resources:e,resourceIds:t},r)=>{if("bundle_section"===r.section_type)for(let a of r.resources)a?.id&&!t.has(a.id)&&(t.add(a.id),e.push(a));else if("hero_section"===r.section_type){let a=r.resource;a&&!t.has(a.id)&&(e.push(a),t.add(a.id))}return{resources:e,resourceIds:t}},{resources:[],resourceIds:new Set});return t}(e);return i.createElement("div",{className:"community_collections--communityShelfAllPageRow--xw1Ut",ref:t},i.createElement("div",{className:"community_collections--communityShelfAllPageHeader--pbqhx"},i.createElement("div",{className:"community_collections--communityShelfAllPageHeaderLeftSide--6UBkD text--fontPos13--xW8hS text--_fontBase--QdLsd"},i.createElement("div",{className:"community_collections--communityShelfAllPageSubTitle--sP1yP text--fontPos12--YsUAh text--_fontBase--QdLsd"}),i.createElement("div",{className:"community_collections--communityShelfAllPageTitle--r8QHx ellipsis--ellipsis--Tjyfa text--fontPos24--YppUD text--_fontBase--QdLsd"},e.title)),i.createElement(ot.N_,{to:e.is_template_url?`/community/templates/${e.url_slug}`:`/community/collections/${e.url_slug}`,className:"community_collections--communityShelfAllPageHeaderRightSide--UQUv8 community_collections--communityShelfAllPageHeaderLeftSide--6UBkD text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,k.tx)("community.shelves.show_more"))),i.createElement(sw,{resources:a.slice(0,r),adtlClassName:"community_collections--allCollectionsResourceGrid--jMwuQ feed_page--feedGrid--Wm-8Q"}))}var sj=r(27087);function sG(e,t,r){return async(a,{pageParam:n})=>{let i;n?i=n:(i=e(a),i=`${i}${-1===i.indexOf("?")?"?":"&"}page_size=${t}`);let l=await (0,sj.GD)(i);return{data:r?r(l.data.meta):l.data.meta,nextPage:l.data.pagination?.next_page,prevPage:l.data.pagination?.prev_page}}}var sY=r(547807);let sz=new class{constructor(){this.CollectionPageSchemaValidator=(0,sY.vh)()}getCollectionPageByUrlSlug(e,t){return this.CollectionPageSchemaValidator.validate(async({xr:r})=>await r.get(`/api/collection_pages/${e}?is_template_url=${t}`))}},sq=new class{constructor(){this.CollectionPageSchemaValidator=(0,sY.vh)()}getCollectionPageByUrlSlug(e){return this.CollectionPageSchemaValidator.validate(async({xr:t})=>await t.get(`/api/admin/collection_pages/${e}`))}updateCollectionPageByUrlSlug(e){return this.CollectionPageSchemaValidator.validate(async({xr:t})=>await t.put(`/api/admin/collection_pages/${e.urlSlug}`,sY.td.toAPIParameters(e.collectionPage||{})))}deleteCollectionPageByUrlSlug(e){return this.CollectionPageSchemaValidator.validate(async({xr:t})=>await t.del(`/api/admin/collection_pages/${e.urlSlug}`))}createCollectionPage(e){return this.CollectionPageSchemaValidator.validate(async({xr:t})=>await t.post("/api/admin/collection_pages",sY.td.toAPIParameters(e.collectionPage||{})))}},sQ=t1.M4.Query({fetch:async({urlSlug:e,isTemplateUrl:t})=>(await sz.getCollectionPageByUrlSlug(e,t)).data.meta});t1.M4.Query({fetch:async({urlSlug:e})=>(await sq.getCollectionPageByUrlSlug(e)).data.meta}),t1.M4.Mutation(async({urlSlug:e,collectionPage:t})=>(await sq.updateCollectionPageByUrlSlug({urlSlug:e,collectionPage:t})).data.meta),t1.M4.Mutation(async({urlSlug:e})=>(await sq.deleteCollectionPageByUrlSlug({urlSlug:e})).data.meta),t1.M4.Mutation(async e=>(await sq.createCollectionPage({collectionPage:e})).data.meta),t1.M4.PaginatedQuery({fetch:sG(()=>"/api/admin/collection_pages",8)});let sK=t1.M4.PaginatedQuery({fetch:sG(()=>"/api/collection_pages",8)});var sX=r(222085),sZ=r(22332),sJ=r(542061),s0=r(463420);function s1({breadcrumbs:e,surface:t}){return i.createElement("div",{className:M()("community_breadcrumbs--breadcrumbsContainer--e76p8",{"community_breadcrumbs--resourcePagePadding--MUCrg":"resource"===t,"community_breadcrumbs--categoryPadding--b-ilJ":"category"===t})},i.createElement("div",{className:"community_breadcrumbs--breadcrumbs--S2TN8"},i.createElement(aI.o3,{trackingEventName:"cmty_category",trackingProperties:{name:"community_breadcrumbs_home_clicked"},to:"/community"},i.createElement("div",{className:"community_breadcrumbs--homeIcon--VSWVj"},i.createElement(sJ.Q,null))),e.map(e=>i.createElement("div",{className:"community_breadcrumbs--breadcrumbContainer--eI8-l",key:e.text},i.createElement("div",{className:"community_breadcrumbs--chevronIcon--rXeJw"},i.createElement(s0.k,null)),i.createElement(aI.o3,{...e.linkProps,className:"community_breadcrumbs--breadcrumb--Op180 text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.text)))))}function s2({collection:e}){let t=(0,sZ.N)(`(max-width: ${io._C6})`),r=[{text:(0,k.t)("community.breadcrumbs.collections"),linkProps:{to:"/community/collections",trackingEventName:"cmty_category"}},e?.title&&{text:e.title,linkProps:{to:`/community/collections/${e.url_slug}`,trackingEventName:"cmty_category",trackingProperties:{name:"collection_breadcrumb_clicked",is_mobile:t}}}].filter(Boolean);return i.createElement(s1,{breadcrumbs:r,surface:"collection"})}var s4=r(800576),s8=r(742580),s5=r(944452);let s3="footer--divider--srDs2";var s9=r(764377);let s6=lo.object({label:lo.string(),url:lo.string()});function s7(){let e=[{title:(0,k.t)("community.footer.popular_searches"),items:[{label:(0,k.t)("community.footer.resume"),url:new s5.IE({categorySlug:s8.LJ.resumes}).href},{label:(0,k.t)("community.footer.mobile_apps"),url:new s5.IE({categorySlug:s8.LJ.mobileApps}).href},{label:(0,k.t)("community.footer.presentations"),url:new s5.IE({categorySlug:s8.LJ.presentations}).href},{label:(0,k.t)("community.footer.ui_kits"),url:new s5.IE({categorySlug:s8.LJ.uiKits}).href},{label:(0,k.t)("community.footer.calendar_templates"),url:new s5.IE({categorySlug:s8.LJ.calendarTemplates}).href}]},{title:(0,k.t)("community.footer.most_used"),items:[{label:"Material 3 Design Kit",url:"/community/file/1035203688168086460"},{label:"iOS 18 and iPadOS 18",url:"/community/file/1385659531316001292"},{label:"Figma auto layout playground",url:"/community/file/784448220678228461"},{label:"Anima - Figma to React, HTML",url:"/community/plugin/857346721138427857/anima-figma-to-react-html-react-html-in-devmode"},{label:"Ant Design Open Source",url:"/community/file/831698976089873405"}]},{title:(0,k.t)("community.footer.recommended_categories"),items:[{label:(0,k.t)("community.collections.instagram_templates"),url:new s5.IE({categorySlug:s8.LJ.instagramTemplates}).href},{label:(0,k.t)("community.footer.workshop_templates"),url:new s5.IE({categorySlug:s8.LJ.workshopTemplates}).href},{label:(0,k.t)("community.footer.data_templates"),url:new s5.IE({categorySlug:s8.LJ.dataTemplates}).href},{label:(0,k.t)("community.collections.laptop_mockups"),url:new s5.IE({categorySlug:s8.LJ.laptopMockups}).href},{label:(0,k.t)("community.footer.design_inspirations"),url:new s5.IE({categorySlug:s8.LJ.designInspirations}).href}]},{title:(0,k.t)("community.footer.top_categories"),items:[{label:(0,k.t)("categories.design_templates"),url:new s5.IE({categorySlug:s8.LJ.designTemplates}).href},{label:(0,k.t)("categories.libraries"),url:new s5.IE({categorySlug:s8.LJ.libraries}).href},{label:(0,k.t)("categories.icons"),url:new s5.IE({categorySlug:s8.LJ.icons}).href},{label:(0,k.t)("categories.development"),url:new s5.IE({categorySlug:s8.LJ.development}).href},{label:(0,k.t)("categories.brainstorming"),url:new s5.IE({categorySlug:s8.LJ.brainstorming}).href}]}];function t({href:e,children:t}){let r={trackingEventName:"cmty_footer",trackingProperties:{name:"footer_link_clicked",link:e}};return(0,s4.vh)(e)?i.createElement(aI.L0,{href:e,...r},t):i.createElement(aI.o3,{to:e,...r},t)}return i.createElement("div",{className:"footer--footer--tuKBS text--fontPos13--xW8hS text--_fontBase--QdLsd","data-testid":"community-footer"},i.createElement("div",{className:"footer--sectionsContainer--BR5as"},e.map(e=>i.createElement(aq.Y,{key:e.title,direction:"vertical",padding:{right:16}},i.createElement("div",{className:"footer--sectionTitle--pM53E"},e.title),e.items.map(e=>i.createElement(t,{key:e.url,href:e.url},e.label))))),i.createElement(aq.Y,{direction:"vertical",spacing:16},i.createElement(t,{href:`${(0,u.tl)().figma_url}`},i.createElement(ei.B,{svg:s9.A,svgClassName:"footer--wordmark--CrA9E"})),i.createElement("div",null,i.createElement("span",null,(0,k.tx)("community.footer.copyright_by_year",{year:new Date().getFullYear()})),i.createElement("span",{className:s3},"\u2022"),i.createElement(t,{href:`${(0,u.tl)().figma_url}/auto-sitemaps/figma-community-index.xml`},(0,k.tx)("community.footer.site_map")),i.createElement("span",{className:s3},"\u2022"),i.createElement(t,{href:"https://help.figma.com/hc/en-us/articles/360038510573-Figma-Community-Guidelines"},(0,k.tx)("community.footer.community_guidelines")),i.createElement("span",{className:s3},"\u2022"),i.createElement(t,{href:"https://www.figma.com/legal/community-terms/"},(0,k.tx)("community.footer.terms_of_service")))))}lo.object({title:lo.string(),items:lo.array(s6)});var ce=r(886133);let ct="load_more_pagination_button--loadMoreButtonWrapper--nNqNo";function cr({onClick:e,isLoading:t,isMoreToFetch:r}){return t?i.createElement("div",{className:ct},i.createElement(ce.y$,null)):r?i.createElement("div",{className:ct},i.createElement(ee.tM,{onClick:e},(0,k.tx)("community.landing_page.load_more"))):null}var ca=r(406363),cn=r(616121),ci=r(694953);let cl=i.createElement("svg",{width:"7",height:"10",viewBox:"0 0 7 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M1 1L5 4.91111L1 9",strokeWidth:"2"})),co=i.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.0304 9.53033L8.00006 16.5607L3.46973 12.0303L4.53039 10.9697L8.00006 14.4393L13.9697 8.46967L15.0304 9.53033Z",fill:"white"})),cs=i.createElement("svg",{width:"12",height:"12",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.52469 13.6568L8.17634 11.0052L8.88345 11.7123L6.2318 14.3639C4.96259 15.6331 2.90481 15.6331 1.6356 14.3639C0.366401 13.0947 0.366401 11.0369 1.6356 9.76772L4.28726 7.11607L4.99436 7.82317L2.34271 10.4748C1.46403 11.3535 1.46403 12.7781 2.34271 13.6568C3.22139 14.5355 4.64601 14.5355 5.52469 13.6568ZM11.7119 8.88383L11.0048 8.17673L13.6564 5.52507C14.5351 4.6464 14.5351 3.22177 13.6564 2.34309C12.7777 1.46441 11.3531 1.46442 10.4744 2.34309L7.82279 4.99474L7.11568 4.28764L9.76733 1.63599C11.0365 0.366784 13.0943 0.366784 14.3635 1.63599C15.6327 2.90519 15.6327 4.96298 14.3635 6.23218L11.7119 8.88383ZM6.26126 10.5043L10.5039 6.26164L9.73787 5.49561L5.49523 9.73825L6.26126 10.5043Z",fill:"white"})),cc={Blue:cn.wR,"Multiplayer Yellow":cn.Ks,Teal:cn.Dm,"Hot Pink":cn.FX,Redish:ca.qE,Green:cn.zo,Purple:cn.A8,"Dark Blue":ca.S0,"FigJam Primary":cn.L2},cd=Object.keys(cc)[0];function cm(){let{urlSlug:e}=(0,l0.g)();return i.createElement(i.Fragment,null,i.createElement(cp,{urlSlug:e}))}function cu({isLoading:e,collectionPages:t}){if(!t.length&&e)return null;let r=t.filter(e=>!function(e){for(let t of e.sections)if("bundle_section"===t.section_type&&t.meta.hasOwnProperty("figjam_ai"))return!0;return!1}(e));return i.createElement(i.Fragment,null,r.map(e=>i.createElement(s$,{key:e.url_slug,page:e})))}function c_(){let[e,t]=(0,_.IT)(sK("")),r="loading"===e.status||!!e.isFetchingNextPage;return i.createElement(i.Fragment,null,i.createElement(oe.S,null),i.createElement("div",{className:"community_collections--allCollectionsPage--YFBlU"},i.createElement("div",{className:"community_collections--allCollectionsHeaderContainer--9UL5p"},i.createElement("h1",{className:"community_collections--allCollectionsHeader--L0frM text--fontPos32Whyte--AHO3S text--_fontBaseWhyte--efAjI"},(0,k.tx)("community.categories.figma_community_collections")),i.createElement("h2",{className:"community_collections--allCollectionsSubHeader--Ww0AY text--fontPos18--rYXJb text--_fontBase--QdLsd"},(0,k.tx)("community.categories.check_out_collections_of_some_of_our_favorite_design_files_plugins_and_creators_from_figma_community"))),i.createElement(s2,null),i.createElement(cu,{isLoading:r,collectionPages:e.data||[]}),i.createElement(cr,{onClick:e=>{e.preventDefault(),t.fetchNextPage()},isLoading:r,isMoreToFetch:!!e.hasNextPage}),!(0,s.y3)()&&i.createElement("div",{className:sH},i.createElement(s7,null))))}function cp(e){let{urlSlug:t,profileTile:r,onSetShelf:a}=e,[n,l]=i.useState(null),o=()=>{sX.A.getCommunityShelves({urlSlug:t}).then(({data:e})=>{a&&a(e.meta[0]),l(e.meta[0])}).catch(()=>{})};if(i.useEffect(()=>{o()},[t]),!n)return i.createElement(i.Fragment,null);let c=i.createElement("div",{className:sD},i.createElement("div",{className:"community_collections--breadcrumbTrailContainer--uibe8"},i.createElement("ul",{className:"community_collections--breadcrumbTrail--JQcAW"},i.createElement("li",{className:sW},i.createElement("a",{href:"/community"},(0,k.tx)("community.view_bar.home"))),i.createElement("div",{className:sV},cl),i.createElement("li",{className:sW},i.createElement("a",{href:"/community/collections"},(0,k.tx)("community.shelves.all_collections"))),i.createElement("div",{className:sV},cl),i.createElement("li",{className:"community_collections--childBreadcrumb--X4qf6 community_collections--breadcrumb--E-9f5 text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",style:{color:cc[n.shelf_meta.banner?.color||cd]}},i.createElement("a",{href:window.location.href},(0,k.Yd)(n.i18n_meta.title,n.title)))))),d=i.createElement("div",{className:"community_collections--gridContainer--PkTIN"},i.createElement("div",{className:sy.IB},i.createElement("div",{className:"community_collections--feed--71Y8R feed_page--feed--7UNQq text--fontPos13--xW8hS text--_fontBase--QdLsd"},i.createElement(sw,{resources:n.shelf_content,profileTile:r}))));return i.createElement(i.Fragment,null,i.createElement(oe.S,null),i.createElement(cg,{shelf:n}),c,d,!(0,s.y3)()&&i.createElement("div",{className:sH},i.createElement(s7,null)))}function cf(e){let{isMobileScreen:t}=e,[r,a]=i.useState(!1);return r?i.createElement("button",{className:sM},t?co:(0,k.tx)("community.view_bar.copied")):i.createElement("button",{className:sM,onClick:()=>{a(!0),(0,oo.lW)(window.location.href),setTimeout(()=>a(!1),1e3)}},t?cs:(0,k.tx)("community.view_bar.copy_link"))}function cg(e){let{shelf:t,bannerStyle:r}=e,[a,n]=i.useState(window.innerWidth),[l,o]=i.useState(null);i.useEffect(()=>{let e=l?.querySelectorAll(`.${sU}`),t=setInterval(()=>{e?.forEach((e,t)=>{setTimeout(()=>{e.style.transform="scale(1.03) translateX(-3px)",setTimeout(()=>{e.style.transform="scale(1)"},400)},100*t)})},4e3);return()=>clearTimeout(t)},[l]);let s=t?new Date(t?.updated_at):new Date;i.useEffect(()=>{let e=()=>{n(window.innerWidth)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let c=cc[t?.shelf_meta.banner?.color||Object.keys(cc)[0]];return i.createElement("div",{className:r||sD,ref:e=>o(e)},i.createElement("div",{className:"community_collections--banner--S2zb2 text--fontPos13--xW8hS text--_fontBase--QdLsd",style:{background:`linear-gradient(45deg, ${c}, ${c}80)`}},i.createElement("div",{className:"community_collections--bannerLeft--1oEnB"},i.createElement("div",{className:"community_collections--info--7PVz2"},t&&i.createElement(i.Fragment,null,i.createElement("div",{className:"community_collections--subtitle--dm958 text--fontPos12--YsUAh text--_fontBase--QdLsd community_collections--marginX--8hpWs"},(0,k.Yd)(t.i18n_meta.subtitle,t.subtitle)),i.createElement("h1",{className:"community_collections--title--cqPZt text--fontPos32Whyte--AHO3S text--_fontBaseWhyte--efAjI community_collections--marginX--8hpWs text--fontPos24--YppUD text--_fontBase--QdLsd"},(0,k.Yd)(t.i18n_meta.title,t.title)),i.createElement("p",{className:"community_collections--description--cjsSf community_collections--marginX--8hpWs text--fontPos16--oMC-G text--_fontBase--QdLsd"},(0,k.Yd)(t.i18n_meta.description,t.description))),i.createElement("div",{className:"community_collections--meta--Z25Vv"},i.createElement("div",{className:"community_collections--metaLeft--9gNAe"},i.createElement("div",{className:"community_collections--curatedImage--YDOQy community_collections--metaSpace--9Jcor"},i.createElement(ei.B,{svg:ci.A,width:"15px",height:"15px",useOriginalSrcFills_DEPRECATED:!0})),i.createElement("div",{className:"community_collections--curated--fHhRS"},(0,k.tx)("community.view_bar.curated_by"),"\xa0"),i.createElement("a",{className:"community_collections--figmaLink--4hdDG community_collections--metaSpace--9Jcor",href:`${(0,u.tl)().figma_url}/@figma`},(0,k.tx)("community.view_bar.figma"))),i.createElement("div",{className:"community_collections--metaRight--hhG9k"},i.createElement("div",{className:"community_collections--separator--OfDbC community_collections--metaSpace--9Jcor"},"\u2022\xa0"),i.createElement("div",{className:"community_collections--updateDate--vgkWS"},(0,k.tx)("community.view_bar.updated_date",{date:s.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})})),i.createElement(cf,{isMobileScreen:a<=540}))))),i.createElement("div",{className:"community_collections--bannerRight--CuT0Z"},t?.shelf_content&&i.createElement(ch,{resources:t.shelf_content}))))}function cE({resource:e}){let t=(0,oo.qD)(e),r=(0,oo.Qo)(e),a=e.thumbnail_url;return i.createElement("div",{className:sU},r?i.createElement(oN.Xy,{hubFileId:e.id,image:a,alt:t.name,onLoad:e=>e.target.style.opacity="1",resizedThumbnailUrls:e.resized_thumbnail_urls}):i.createElement("img",{alt:t.name,src:a}))}function ch(e){let t=e.resources.filter(e=>e&&("current_hub_file_version_id"in e||"current_plugin_version_id"in e));return i.createElement("div",{className:"community_collections--previewTransformContainer--8b6Bh"},i.createElement("div",{className:sB},!!t[0]&&i.createElement(cE,{resource:t[0]}),!!t[1]&&i.createElement(cE,{resource:t[1]})),i.createElement("div",{className:"community_collections--previewRowMiddle--jwXWH community_collections--resourcePreviewRow--wcOSC"},!!t[2]&&i.createElement(cE,{resource:t[2]}),!!t[3]&&i.createElement(cE,{resource:t[3]})),i.createElement("div",{className:sB},!!t[4]&&i.createElement(cE,{resource:t[4]}),!!t[5]&&i.createElement(cE,{resource:t[5]})))}var cy=r(240837);function cv({collection:e}){return i.createElement("div",{className:"header_attributes--attributes--UE7uE text--fontPos13--xW8hS text--_fontBase--QdLsd"},i.createElement(cy.L,{publishers:[e.profile]}),i.createElement("div",{className:"header_attributes--profile--qrbMp"},(0,k.tx)("community.collections.curated_by"),i.createElement("span",{className:"header_attributes--profileName--n9lfZ"},i.createElement(cy.I,{publishers:[e.profile],useSmallWidth:!0,removeByLabel:!0,openInNewTab:!0}))),!!e.latest_published_at&&i.createElement("div",{className:"header_attributes--date--Zt4VW"},i.createElement("span",{className:"header_attributes--dot--1yVwn"},"\u2022"),i.createElement("span",null,new Date(e.latest_published_at).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}))))}function cb({collection:e,preview:t=!1}){let r=(0,sZ.N)(`(max-width: ${io._C6})`);return i.createElement("div",{className:"collection_banner--collectionBanner--vyr9z"},i.createElement("div",{className:M()("collection_banner--headerContainer--52lrp")},!t&&i.createElement(s2,{collection:e}),i.createElement("div",{className:M()("collection_banner--collectionHeader--85DYX text--fontPos24Whyte--gYiFz text--_fontBaseWhyte--efAjI",{[N.cx.flexColumn.$]:r})},i.createElement("h1",null,e.title)),i.createElement("p",{className:"collection_banner--collectionDescription--TjSn1 text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.description)),i.createElement(cv,{collection:e}))}var cw=r(815063);function cT({title:e,hasDivider:t=!1,children:r}){let[a,n]=(0,i.useState)(!1);return i.createElement(aq.Y,{verticalAlignItems:"start",width:"fill-parent",height:"hug-contents"},i.createElement("div",{tabIndex:0,className:"faq_accordion--accordionButton--t23kN",role:"button",onClick:()=>{n(e=>!e)}},i.createElement("div",{className:M()("faq_accordion--accordionButtonContent--lHulm text--fontPos13--xW8hS text--_fontBase--QdLsd",{"faq_accordion--divider--VdCtu":t})},i.createElement(aq.Y,{direction:"vertical"},i.createElement(aq.Y,{horizontalAlignItems:"space-between",verticalAlignItems:"center"},i.createElement("div",{className:a?"faq_accordion--semibold--ff-Ee":"faq_accordion--medium--4FEsg"},e),i.createElement(ew.In,{icon:a?"chevron-up-32":"chevron-down-32",fill:"secondary"})),i.createElement("div",{className:a?void 0:"faq_accordion--hidden--G1Whc"},r)))))}function cI({faqs:e}){return i.createElement("div",{className:"faqs_section--sectionContainer--NWPTP"},i.createElement(aq.Y,{horizontalAlignItems:"center"},i.createElement("div",{className:"faqs_section--section--5Tey9"},i.createElement(aq.Y,{width:"fill-parent",height:"hug-contents",direction:"vertical",spacing:0},i.createElement("div",{className:"faqs_section--sectionTitle--I5tGC text--fontPos24--YppUD text--_fontBase--QdLsd"},(0,k.tx)("community.collections.frequently_asked_questions")),i.createElement("div",{className:"faqs_section--sectionBody--e9hQ3"},e.map((e,t)=>i.createElement(cT,{key:t,hasDivider:0!==t,title:e.question},i.createElement("p",{className:"faqs_section--answer--CBO9A"},e.answer))))))))}var cC=r(675665);let cx=(0,nr.eU)(cC.$O.DescriptionView),cN=i.createElement("span",null,i.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{width:"16",height:"16",fill:"var(--color-background)"}),i.createElement("path",{d:"M1.8843 3.04791L2.23141 3.40779L1.8843 3.04791ZM7.12543 3.04791L7.47254 2.68802L7.12543 3.04791ZM1.8843 8.10293L2.23141 7.74304L2.23141 7.74304L1.8843 8.10293ZM2.75826 8.94585L3.10528 9.30582L3.47859 8.94594L3.10536 8.58597L2.75826 8.94585ZM2.75823 8.94588L2.41121 8.58591L2.0379 8.9458L2.41112 9.30577L2.75823 8.94588ZM7.99935 14.0009L7.65225 14.3608L7.99935 14.6956L8.34646 14.3608L7.99935 14.0009ZM14.114 8.10338L13.7669 7.74349L13.7669 7.74349L14.114 8.10338ZM14.114 3.04836L14.4611 2.68847L14.4611 2.68847L14.114 3.04836ZM8.87288 3.04836L8.52577 2.68847L8.52577 2.68847L8.87288 3.04836ZM7.99939 3.89083L7.65228 4.25072L7.99939 4.5855L8.34649 4.25072L7.99939 3.89083ZM2.23141 3.40779C3.48501 2.19871 5.52472 2.19871 6.77832 3.40779L7.47254 2.68802C5.83154 1.1053 3.17819 1.1053 1.53719 2.68802L2.23141 3.40779ZM2.23141 7.74304C0.987968 6.54376 0.987968 4.60708 2.23141 3.40779L1.5372 2.68802C-0.113961 4.28055 -0.113961 6.87029 1.5372 8.46281L2.23141 7.74304ZM3.10536 8.58597L2.23141 7.74304L1.5372 8.46281L2.41115 9.30574L3.10536 8.58597ZM3.10525 9.30585L3.10528 9.30582L2.41124 8.58588L2.41121 8.58591L3.10525 9.30585ZM8.34646 13.641L3.10533 8.586L2.41112 9.30577L7.65225 14.3608L8.34646 13.641ZM13.7669 7.74349L7.65225 13.641L8.34646 14.3608L14.4611 8.46326L13.7669 7.74349ZM13.7669 3.40824C15.0103 4.60753 15.0103 6.54421 13.7669 7.74349L14.4611 8.46326C16.1123 6.87074 16.1123 4.281 14.4611 2.68847L13.7669 3.40824ZM9.21998 3.40824C10.4736 2.19916 12.5133 2.19916 13.7669 3.40824L14.4611 2.68847C12.8201 1.10575 10.1668 1.10575 8.52577 2.68847L9.21998 3.40824ZM8.34649 4.25072L9.21998 3.40824L8.52577 2.68847L7.65228 3.53094L8.34649 4.25072ZM6.77832 3.40779L7.65228 4.25072L8.34649 3.53094L7.47254 2.68802L6.77832 3.40779Z",fill:"var(--color-icon)"}))),ck=i.createElement("span",null,i.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{width:"16",height:"16",fill:"var(--color-background)"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.12543 3.04791C5.67813 1.652 3.3316 1.652 1.8843 3.04791C0.437004 4.44381 0.437004 6.70702 1.8843 8.10293L2.75826 8.94585L2.75823 8.94588L7.99935 14.0009L14.114 8.10338C15.5613 6.70747 15.5613 4.44426 14.114 3.04836C12.6667 1.65245 10.3202 1.65245 8.87288 3.04836L7.99939 3.89083L7.12543 3.04791Z",fill:"#F24822"}),i.createElement("path",{d:"M1.8843 3.04791L2.23141 3.40779L1.8843 3.04791ZM7.12543 3.04791L7.47254 2.68802L7.12543 3.04791ZM1.8843 8.10293L2.23141 7.74304L2.23141 7.74304L1.8843 8.10293ZM2.75826 8.94585L3.10528 9.30582L3.47859 8.94594L3.10536 8.58597L2.75826 8.94585ZM2.75823 8.94588L2.41121 8.58591L2.0379 8.9458L2.41112 9.30577L2.75823 8.94588ZM7.99935 14.0009L7.65225 14.3608L7.99935 14.6956L8.34646 14.3608L7.99935 14.0009ZM14.114 8.10338L13.7669 7.74349L13.7669 7.74349L14.114 8.10338ZM14.114 3.04836L14.4611 2.68847L14.4611 2.68847L14.114 3.04836ZM8.87288 3.04836L8.52577 2.68847L8.52577 2.68847L8.87288 3.04836ZM7.99939 3.89083L7.65228 4.25072L7.99939 4.5855L8.34649 4.25072L7.99939 3.89083ZM2.23141 3.40779C3.48501 2.19871 5.52472 2.19871 6.77832 3.40779L7.47254 2.68802C5.83154 1.1053 3.17819 1.1053 1.53719 2.68802L2.23141 3.40779ZM2.23141 7.74304C0.987968 6.54376 0.987968 4.60708 2.23141 3.40779L1.5372 2.68802C-0.113961 4.28055 -0.113961 6.87029 1.5372 8.46281L2.23141 7.74304ZM3.10536 8.58597L2.23141 7.74304L1.5372 8.46281L2.41115 9.30574L3.10536 8.58597ZM3.10525 9.30585L3.10528 9.30582L2.41124 8.58588L2.41121 8.58591L3.10525 9.30585ZM8.34646 13.641L3.10533 8.586L2.41112 9.30577L7.65225 14.3608L8.34646 13.641ZM13.7669 7.74349L7.65225 13.641L8.34646 14.3608L14.4611 8.46326L13.7669 7.74349ZM13.7669 3.40824C15.0103 4.60753 15.0103 6.54421 13.7669 7.74349L14.4611 8.46326C16.1123 6.87074 16.1123 4.281 14.4611 2.68847L13.7669 3.40824ZM9.21998 3.40824C10.4736 2.19916 12.5133 2.19916 13.7669 3.40824L14.4611 2.68847C12.8201 1.10575 10.1668 1.10575 8.52577 2.68847L9.21998 3.40824ZM8.34649 4.25072L9.21998 3.40824L8.52577 2.68847L7.65228 3.53094L8.34649 4.25072ZM6.77832 3.40779L7.65228 4.25072L8.34649 3.53094L7.47254 2.68802L6.77832 3.40779Z",fill:"#F24822"})));function cS(e){let t=i.useRef(null);return e.disabled?i.createElement("button",{className:"base_like_button--buttonContainerDisabled--sOWAD base_like_button--buttonContainer--vfBIa cta_button--buttonBase--xMT0c text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",disabled:e.disabled},i.createElement("div",{className:"base_like_button--likeIconDisabled--dfrWS base_like_button--likeIcon--70nFu text--fontPos18--rYXJb text--_fontBase--QdLsd"},cN)):i.createElement("button",{className:"base_like_button--buttonContainer--vfBIa cta_button--buttonBase--xMT0c text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",onClick:e.onClick,"data-tooltip":(0,k.t)("community.like"),"data-tooltip-type":r$.Ib.TEXT,"data-testid":"like-button"},i.createElement("div",{className:"base_like_button--likeIcon--70nFu text--fontPos18--rYXJb text--_fontBase--QdLsd",ref:t},e.isResourceLiked?ck:cN))}var cL=r(563221);function cA(e){let{resource:t,viewContext:r}=e,a=(0,l.d4)(e=>e.authedActiveCommunityProfile),n=(0,nA.cs)(a),o=(0,on.W)(t.id,(0,oC.Vm)(t),!(0,oC.XW)(t)),s=(0,on.B)(t.id,(0,oC.XW)(t)),c=(0,oC.XW)(t)?!!s.data?.[0]:!!o.data?.[0],d=(0,oC.XW)(t)?s.data?.[1]:o.data?.[1],m=(0,cL.w)(t,c,d||null,r);return n?i.createElement("div",{"data-tooltip-type":r$.Ib.TEXT,"data-tooltip":(0,k.t)("community.likes.to_like_switch_to_your_personal_profile"),"data-tooltip-show-immediately":!0},i.createElement(cS,{isResourceLiked:!1,disabled:!0})):i.createElement(cS,{onClick:m(),isResourceLiked:c})}var cR=r(175420),cP=r(215822),cF=r(365292);function cO({orgName:e}){return i.createElement(cF.Ex,{background:"white",height:"16",border:"strong"},e?(0,k.tx)("community.plugins.private_for_plugin_org_name",{orgName:e}):(0,k.tx)("community.plugins.private_for_your_organization"))}var cD=r(17284);let cM=r(408552).ai;function cB({resource:e,resourceContent:t}){let r;let a=cM?i.createElement(cM,{resource:t}):void 0,n=(0,oC.$9)(e);return n&&(r=(0,cP.Rt)(n)?i.createElement(cO,{orgName:n.roles?.org?.name}):void 0),i.createElement(i.Fragment,null,a,r,i.createElement(cD.I,{badges:e.badges,height:"16",border:"strong",disableIcon:!0}))}var cU=r(841368),cV=r(984837),cW=r(776621),cH=r(743282),c$=r(195847),cj=r(442898),cG=r(727749);r(756085);var cY=r(357142),cz=r(332086);let cq="save-button-clicked";function cQ(e,t,r,a){return function(r,n){let i=n();if((0,H.Cu)(c0({state:i,resourceId:e.id,resourceType:(0,oC.Vm)(e),viewContext:t,action:"save",loggedIn:!!i.user,orgId:a}),cq),!i.user){(0,cW.$D)(af.e.COMMUNITY,Error("[Community Saves] Attempted unsave without currentUser"));return}if((0,o_.U)(e)){let t=()=>{let t=sj.Ay.post(`/api/hub_file/${e.id}/save`),a=`optimistic-resource-save-${(0,cH.g)()}`;(0,cV.WB)().optimisticallyCreate({ResourceSave:{[a]:{userId:i.user.id,hubFileId:e.id,createdAt:new Date(Date.now()),resourceId:null,orgId:null}}},t),t.then(()=>{r(tO.F.enqueue({message:(0,k.t)("community.saves.file_saved_for_your_profile"),type:"resource-save"}))}).catch(e=>{(0,cW.$D)(af.e.COMMUNITY,e)})};if(!i.authedActiveCommunityProfile?.public_at){r(tu.to({type:cz.G$,data:{userId:i.user.id,variations:[cz.FF.OPT_IN],onFinish:t}}));return}t()}else r((0,cG.d6)({id:e.id,resourceType:(0,oC.Vm)(e),communityProfile:n().authedActiveCommunityProfile||void 0,orgId:a,source:cG.uR.COMMUNITY_HUB,optimisticData:{resource:e}}))}}function cK(e,t,r,a){return function(n,i){let l=i();if((0,H.Cu)(c0({state:l,resourceId:e.id,resourceType:(0,oC.Vm)(e),viewContext:t,action:"save",loggedIn:!!l.user,orgId:r}),cq),!l.user){(0,cW.$D)(af.e.COMMUNITY,Error("[Community Saves] Attempted unsave without currentUser"));return}if((0,oC.rZ)(e)){let t=(0,oC.$9)(e);if(!t){(0,cW.$D)(af.e.COMMUNITY,Error("Extension type resource is missing plugin and widget content"),{extra:{resourceId:e.id}});return}n((0,cG.d6)({id:e.id,resourceType:(0,oC.Vm)(t),communityProfile:l.authedActiveCommunityProfile||void 0,orgId:r,source:cG.uR.COMMUNITY_HUB,optimisticData:{resource:t}}))}else{if(!l.authedActiveCommunityProfile?.public_at){n(tu.to({type:cz.G$,data:{userId:l.user.id,variations:[cz.FF.OPT_IN],onFinish:()=>cX({state:l,dispatch:n,resource:e,orgId:r,orgName:a})}}));return}cX({state:l,dispatch:n,resource:e,orgId:r,orgName:a})}}}function cX({state:e,dispatch:t,resource:r,orgId:a,orgName:n}){if(!e.authedActiveCommunityProfile){(0,cW.$D)(af.e.COMMUNITY,Error("Attempted to save resource without an active community profile"));return}let i=cY.a.saveResource({resource:r,profileId:e.authedActiveCommunityProfile.id,orgId:a}),l=a?`optimistic-resource-save-${r.id}-${a}`:`optimistic-resource-save-${r.id}-${e.user.id}`;(0,cV.WB)().optimisticallyCreate({ResourceSave:{[l]:{userId:e.user.id,hubFileId:null,createdAt:new Date(Date.now()),resourceId:r.id,orgId:a||null}}},i),i.then(()=>{t(tO.F.enqueue({message:a?(0,k.t)("community.saves.resource_saved_for_everyone_at",{orgName:n||"your org"}):(0,k.t)("community.saves.resource_saved_for_your_profile"),type:"resource-save"}))}).catch(e=>{(0,cW.$D)(af.e.COMMUNITY,e),t(tO.F.enqueue({message:(0,k.t)("community.actions.unable_to_save_resource"),type:"RESOURCE_SAVE_FAILED",error:!0}))})}function cZ(e,t,r,a){return function(r,n){let i=n();if(!i.user){(0,cW.$D)(af.e.COMMUNITY,Error("[Community Saves] Attempted save without currentUser"));return}((0,H.Cu)(c0({state:i,resourceId:e.id,resourceType:(0,oC.Vm)(e),viewContext:t,action:"unsave",loggedIn:!!i.user,orgId:a}),cq),(0,o_.U)(e))?sj.Ay.del(`/api/hub_file/${e.id}/save`).then(()=>{r(tO.F.enqueue({message:(0,k.t)("community.saves.file_removed_from_your_profile"),type:"resource-save"}))}).catch(e=>{(0,cW.$D)(af.e.COMMUNITY,e)}):r((0,cG.s1)({id:e.id,resourceType:(0,oC.Vm)(e),communityProfile:n().authedActiveCommunityProfile||void 0,orgId:a,source:cG.uR.COMMUNITY_HUB}))}}function cJ(e,t,r,a){return function(n,i){let l=i();if(!l.user||!l.authedActiveCommunityProfile){(0,cW.$D)(af.e.COMMUNITY,Error("[Community Saves] Attempted to remove save without currentUser"));return}if((0,H.Cu)(c0({state:l,resourceId:e.id,resourceType:(0,oC.Vm)(e),viewContext:t,action:"unsave",loggedIn:!!l.user,orgId:r}),cq),(0,oC.rZ)(e)){let t=(0,oC.$9)(e);if(!t){(0,cW.$D)(af.e.COMMUNITY,Error("Extension type resource is missing plugin and widget content"),{extra:{resourceId:e.id}});return}n((0,cG.s1)({id:e.id,resourceType:(0,oC.Vm)(t),communityProfile:i().authedActiveCommunityProfile||void 0,orgId:r,source:cG.uR.COMMUNITY_HUB}))}else{let t=cY.a.unsaveResource({resource:e,profileId:l.authedActiveCommunityProfile.id,orgId:r}),i=r?`optimistic-resource-save-${e.id}-${r}`:`optimistic-resource-save-${e.id}-${l.user.id}`;(0,cV.WB)().optimisticallyDelete({ResourceSave:{[i]:null}},t),t.then(()=>{n(tO.F.enqueue({message:r?(0,k.t)("community.saves.resource_removed_for_everyone_at",{orgName:a||"your org"}):(0,k.t)("community.saves.resource_removed_from_your_profile"),type:"resource-unsave"}))}).catch(e=>{(0,cW.$D)(af.e.COMMUNITY,e)})}}}function c0({state:e,resourceId:t,resourceType:r,viewContext:a,action:n,loggedIn:i,orgId:l}){return{action:n,resourceId:t,resourceType:r,viewContext:a,loggedIn:i,forOrgId:l,searchSessionId:(0,ol.w)(e)}}function c1(e,t){let r=(0,l.wA)(),a=!!function(e){let t=(0,ag.Rs)(av.PN2,{resourceId:e.id,orgIds:[]},{enabled:(0,oC.XW)(e)&&!(0,oC.rZ)(e)}),r=(0,ag.Rs)(av.Ko6,{hubFileId:e.id},{enabled:!(0,oC.XW)(e)&&(0,o_.U)(e)}),a=(0,ag.Rs)(av.H$B,{pluginId:e.id,orgIds:[]},{enabled:(0,oC.rZ)(e)||!(0,oC.XW)(e)&&((0,o_.I0)(e)||(0,o_.xQ)(e))});return(0,oC.XW)(e)?J.oA(t.data?.resourceSaveFromResourceId)?.createdAt||null:r.data?.resourceSave?.createdAt||a.data?.pluginInstall?.createdAt||null}(e),n=i.useCallback(n=>{(0,ti.YQ)({id:"cmty-detail-view-saved-button-clicked"}),n?.stopPropagation(),a?r((0,oC.XW)(e)?cJ(e,t):cZ(e,t)):r((0,oC.XW)(e)?cK(e,t):cQ(e,t))},[a,r,e,t]);return i.useCallback(e=>{(0,cj.FL)(c$.qB.SIGN_UP,{preventDefaultRedirect:!0})},[]),{onUserSaveActionClick:n,isResourceSavedForUser:a}}function c2(e,t,r){let a=(0,l.wA)(),n=(0,l.d4)(e=>(0,nA.Tm)(e)),o=(0,ag.Rs)(av.H$B,{pluginId:t.id,orgIds:Object.keys(n)},{enabled:!(0,oC.XW)(e)}),s=(0,ag.Rs)(av.PN2,{resourceId:e.id,orgIds:Object.keys(n)},{enabled:(0,oC.XW)(e)}),c=(0,ag.Rs)(av.KC4,{pluginId:t.id,orgIds:Object.keys(n)}),d=i.useMemo(()=>{let t;if(!(0,oC.g0)(e))return{};t=(0,oC.XW)(e)?(0,J.oA)(s.data?.orgResourceSaves)||[]:o.data?.orgPluginInstalls.status!==J.tT.Loaded?[]:o.data?.orgPluginInstalls.data||[];let r={};return Object.values(n).forEach(a=>{(!((0,oC.YI)(e)&&a.plugins_whitelist_enforced||(0,oC.$3)(e)&&a.widgets_whitelist_enforced)||(c.data?.orgAllowlistedPlugins.status!==J.tT.Loaded?[]:c.data?.orgAllowlistedPlugins.data||[]).some(e=>e.orgId===a.id))&&(r[a.id]=t.some(e=>e.orgId===a.id))}),r},[n,c,e,o.data?.orgPluginInstalls,s.data]),m=i.useCallback((t,n,i)=>{i?.stopPropagation(),d[t]?a((0,oC.XW)(e)?cJ(e,r,t,n):cZ(e,r,!0,t)):a((0,oC.XW)(e)?cK(e,r,t,n):cQ(e,r,!0,t))},[a,e,r,d]);return{savesByOrgId:d,onOrgSaveAction:m}}var c4=r(22863),c8=r(203008);let c5="community-more-options-button-dropdown";function c3({resource:e,resourceContent:t,viewContext:r}){let a=(0,l.wA)(),n=(0,l.d4)(e=>e.dropdownShown?.type===c5),o=(0,l.d4)(e=>e.dropdownShown?.data?.targetRect),s=[],{isTeamOrOrgProfileActive:c,isResourceLiked:d,onLikeActionClick:m}=function(e){let{resource:t,viewContext:r}=e,a=(0,l.d4)(e=>e.authedActiveCommunityProfile),n=(0,c4.c)(a),i=(0,on.W)(t.id,(0,oC.Vm)(t),!(0,oC.XW)(t)),o=(0,on.B)(t.id,(0,oC.XW)(t)),s=(0,oC.XW)(t)?!!o.data?.[0]:!!i.data?.[0],c=(0,oC.XW)(t)?o.data?.[1]:i.data?.[1],d=(0,cL.w)(t,s,c||null,r);return{isTeamOrOrgProfileActive:n,isResourceLiked:s,onLikeActionClick:d}}({resource:e,viewContext:r});s.push({displayText:c?(0,k.t)("community.likes.to_like_switch_to_your_personal_profile"):(0,k.t)("community.like"),icon:i.createElement("div",{style:{paddingRight:"6px","--color-icon":c?"var(--color-text-menu-disabled)":"var(--color-icon-menu)"}},d?ck:cN),preventDismissOnSelected:!0,unsetStrokeOnActiveOption:!0,callback:(e,t,r,a)=>{c||m()(a)},disabled:c});let{isResourceSaved:u,isResourceSavedForUser:_,onUserSaveActionClick:p,savesByOrgId:f,onOrgSaveAction:g}=function({resource:e,resourceContent:t,viewContext:r,allowOrgSaves:a}){let{onUserSaveActionClick:n,isResourceSavedForUser:i}=c1(e,r),{savesByOrgId:l,onOrgSaveAction:o}=c2(e,t,r);return{isResourceSaved:i||Object.values(a?l:{}).some(e=>e),isResourceSavedForUser:i,onUserSaveActionClick:n,savesByOrgId:l,onOrgSaveAction:o}}({resource:e,resourceContent:t,viewContext:r,allowOrgSaves:!0}),E=(0,l.d4)(e=>(0,nA.Tm)(e));if(0!==Object.values(E).length&&(0,oC.g0)(e)){s.push({displayText:(0,k.t)("community.saves.save_for_yourself"),icon:i.createElement("div",{style:{paddingRight:"6px","--color-icon":"var(--color-icon-menu)"}},_?i.createElement(c8.Ns,null):i.createElement(c8.LP,null)),unsetStrokeOnActiveOption:!0,callback:(e,t,r,a)=>{p(a)}});let e=Object.values(E).map(e=>({displayText:(0,k.t)("community.saves.save_for",{orgName:e.name}),icon:i.createElement("div",{style:{paddingRight:"6px","--color-icon":"var(--color-icon-menu)"}},f[e.id]?i.createElement(c8.Ns,null):i.createElement(c8.LP,null)),unsetStrokeOnActiveOption:!0,callback:()=>{g(e.id,e.name)}}));s.push(...e)}else s.push({displayText:(0,k.t)("community.saves.save"),"data-onboarding-key":"save-button",icon:i.createElement("div",{style:{paddingRight:"6px","--color-icon":"var(--color-icon-menu)"}},u?i.createElement(c8.Ns,null):i.createElement(c8.LP,null)),preventDismissOnSelected:!0,unsetStrokeOnActiveOption:!0,callback:(e,t,r,a)=>{p(a)}});return i.createElement(i.Fragment,null,n&&i.createElement(t_.j,{showPoint:!0,items:s,onSelectItem:(e,t)=>{e.callback&&e.callback("",null,a,t)},parentRect:o,dispatch:a,minWidth:208}))}function c9({resource:e,resourceContent:t,viewContext:r}){let a=(0,l.wA)(),n=i.useRef(null),[o,s]=(0,i.useState)(!1);return i.createElement(i.Fragment,null,i.createElement("button",{ref:n,className:"more_options_button--moreOptionsContainer--ncSsU cta_button--buttonBase--xMT0c text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",onClick:()=>{s(!o);let e=n.current?.getBoundingClientRect();e&&a(eI.j7({type:c5,data:{targetRect:e}}))},"data-testid":"more-options-button"},i.createElement("div",{className:"more_options_button--verticalIcon--Pv-8l"},i.createElement(cU.J,{style:{"--color-icon":"var(--color-icon-secondary)"}}))),i.createElement(c3,{resource:e,resourceContent:t,viewContext:r}))}let c6="community-save-button-dropdown";function c7({resource:e,resourceContent:t,viewContext:r,type:a,theme:n,allowOrgSaves:o,enableWideButtonForStickyFooter:s}){let c=(0,l.wA)(),{onUserSaveActionClick:d,isResourceSavedForUser:m}=c1(e,r),{savesByOrgId:u}=c2(e,t,r),_=o?u:{},p=i.useRef(null),f=M()("save_button--buttonContainerBase--m8dS8 text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",{[N.cx.gap6.pl16.pr16.$]:"containText"===a,"save_button--buttonContainerBrandColors--xQhK7":"brand"===n,[N.cx.w40.h40.$]:"square"===a,"save_button--buttonContainerBaseWide--EDZcF":s}),g=M()("save_button--iconContainer--Brlqe",{[N.cx.ml2.$]:"containText"===a}),E="brand"===n?"var(--color-icon-onbrand)":void 0,h=m||Object.values(_).some(e=>e);return i.createElement(i.Fragment,null,i.createElement("button",{className:f,onClick:e=>{if(0===Object.keys(_).length)return d(e);let t=p.current?.getBoundingClientRect();t&&c(eI.j7({type:c6,data:{targetRect:t}}))},"data-testid":"save-button","data-onboarding-key":"save-button","data-tooltip-type":r$.Ib.TEXT,ref:p,"data-tooltip":h?(0,k.t)("community.saves.remove_from_saves"):(0,k.t)("community.saves.save")},i.createElement("div",{className:g},h?i.createElement(c8.Ns,{fill:E}):i.createElement(c8.LP,{fill:E})),"containText"===a&&i.createElement("div",null,(0,k.tx)(h?"community.saves.remove_from_saves":"community.saves.save_for_later"))),o&&i.createElement(de,{resource:e,resourceContent:t,viewContext:r}))}function de({resource:e,resourceContent:t,viewContext:r}){let a=(0,l.wA)(),n=(0,l.d4)(e=>e.dropdownShown?.type===c6),o=(0,l.d4)(e=>e.dropdownShown?.data?.targetRect),{onUserSaveActionClick:s,isResourceSavedForUser:c}=c1(e,r),{savesByOrgId:d,onOrgSaveAction:m}=c2(e,t,r),u=(0,l.d4)(e=>(0,nA.Tm)(e));if(!(0,oC.g0)(e))return null;let _=[{displayText:(0,k.t)("community.saves.save_this_resource_for_yourself"),isChecked:c,callback:()=>{s()}}],p=Object.values(u).map(e=>({displayText:(0,k.t)("community.saves.save_for_everyone_at",{orgName:e.name}),isChecked:d[e.id],callback:()=>{m(e.id,e.name)}}));return _=_.concat(p),i.createElement(i.Fragment,null,n&&i.createElement(t_.j,{showPoint:!0,items:_,onSelectItem:(e,t)=>{e.callback&&e.callback("",null,a,t)},parentRect:o,dispatch:a}))}function dt(e){return i.createElement(c7,{resource:e.resource,resourceContent:e.resourceContent,viewContext:e.viewContext,type:"square",theme:"default",allowOrgSaves:!0})}function dr(e){return i.createElement(c7,{resource:e.resource,resourceContent:e.resourceContent,viewContext:e.viewContext,type:"containText",theme:"brand",enableWideButtonForStickyFooter:e.enableWideButtonForStickyFooter})}let da=r(128425).U;var dn=r(835476),di=r(869963);let dl=r(10588).l;var ds=r(815700);function dc({button:e,subtext:t}){return i.createElement("div",{className:ds.uu},e,t&&i.createElement("div",{className:ds.BE},t))}function dd({resource:e,resourceContent:t,enableWideButtonForStickyFooter:r}){let a=(0,oi.I)(t);return(0,oc._K)(t,a)?i.createElement(sc.I,{resource:t,context:o_.aL.DETAIL,enableWideButtonForStickyFooter:r,thirdPartyM10nUrl:(0,oC.XW)(e)&&e.third_party_m10n_url?e.third_party_m10n_url:void 0}):(0,oC.XW)(e)?function(e,t){let r;switch(e.resource_type){case dn.vt.SITE_TEMPLATE:case dn.vt.DESIGN_TEMPLATE:case dn.vt.UI_KIT:case dn.vt.PROTOTYPE:case dn.vt.FIGJAM_TEMPLATE:return(r=(0,oC.eO)(e))?i.createElement(da,{hubFile:r,resourceType:e.resource_type,enableWideButtonForStickyFooter:t}):null;case dn.vt.SLIDE_TEMPLATE:return(r=(0,oC.eO)(e))?i.createElement(dl,{resource:r,enableWideButtonForStickyFooter:t}):null;case dn.vt.PLUGIN:case dn.vt.WIDGET:if(!(r=(0,oC.$9)(e)))return null;let a=(0,o_.PM)(r)?i.createElement(di.Cg,{resource:r,showCaret:!1}):(0,o_.zF)(r)?i.createElement(di.Gb,null):void 0;return i.createElement(dc,{button:i.createElement(ss,{resource:r,context:o_.aL.DETAIL}),subtext:a});default:(0,C.xb)(e.resource_type)}}(e,r):function(e,t){if((0,oo.Qo)(e))return(0,oo.cX)(e)?i.createElement(dl,{resource:e,enableWideButtonForStickyFooter:t}):i.createElement(da,{hubFile:e,resourceType:(0,oC.jB)(e.viewer_mode),enableWideButtonForStickyFooter:t});{let t=(0,o_.PM)(e)?i.createElement(di.Cg,{resource:e,showCaret:!1}):(0,o_.zF)(e)?i.createElement(di.Gb,null):void 0;return i.createElement(dc,{button:i.createElement(ss,{resource:e,context:o_.aL.DETAIL}),subtext:t})}}(e,r)}var dm=r(96328);let du="basic_resource_header--numberOfUsers--oWoBg",d_="basic_resource_header--mobileResourcePageHeaderMaxWidth--McUl4 basic_resource_header--resourcePageHeaderMaxWidth--ym-5U",dp="basic_resource_header--mobileResourceNameHeader--oN4qX text--fontPos24--YppUD text--_fontBase--QdLsd",df="basic_resource_header--mobileName--5NvYd",dg="basic_resource_header--anchorLink--r0iNn meta_container--metaTab--zRKXG text--fontPos14--OL9Hp text--_fontBase--QdLsd",dE="basic_resource_header--activeAnchorLink--3ueWI meta_container--selectedMetaTab--5IRWQ meta_container--metaTab--zRKXG text--fontPos14--OL9Hp text--_fontBase--QdLsd",dh="basic_resource_header--ctaContainer--k8wqG",dy="basic_resource_header--leftSide--MzgPN";var dv=r(815234);function db({resource:e,resourceContent:t,viewContext:a}){let n=e.like_count>0,l=(0,od.mk)(e)>0,o=(0,on.W)(t.id,(0,oC.Vm)(t),!(0,oC.XW)(e)),s=(0,on.B)(e.id,(0,oC.XW)(e)),c=(0,oC.XW)(e)?s.data?.[0]:o.data?.[0],d=(0,oC.XW)(e)?s.data?.[1]:o.data?.[1],m=r(563221).w(e,!!c,d||null,a||"")(),u=i.createElement("div",{className:"basic_resource_header--bulletSeparator--OGYaL text--fontPos10--s1PI5 text--_fontBase--QdLsd"},(0,k.tx)("community.detail_view.bullet_point"));return i.createElement("div",{className:"basic_resource_header--stats--U1D-b text--fontPos13--xW8hS text--_fontBase--QdLsd","data-testid":"resource-header-stats"},i.createElement("div",null,(0,od.c8)(e)),n&&i.createElement(i.Fragment,null,u,i.createElement("button",{onClick:e=>{m(e)}},c?dT:dw),i.createElement("div",{className:du},(0,dm.$M)(e.like_count))),l&&i.createElement(i.Fragment,null,u,i.createElement(ei.B,{dataTestId:"usage-icon",svg:dv.A}),i.createElement("div",{className:du},(0,k.tx)("community.detail_view.number_of_users",{numberOfUsers:(0,dm.$M)((0,od.mk)(e))}))))}let dw=i.createElement("svg",{"data-testid":"like-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99988 4.5L7.3254 3.96042C6.28613 3.129 4.78791 3.21198 3.84681 4.15308C2.82678 5.17311 2.82678 6.8269 3.84681 7.84693L7.99988 12L12.153 7.84693C13.173 6.8269 13.173 5.17311 12.153 4.15308C11.2119 3.21198 9.71364 3.129 8.67437 3.96042L7.99988 4.5ZM7.99988 10.5858L11.4459 7.13982C12.0754 6.51032 12.0754 5.48969 11.4459 4.86018C10.8651 4.27939 9.94044 4.22818 9.29906 4.74129L7.99988 5.78063L6.70071 4.74128C6.05933 4.22818 5.13471 4.27939 4.55391 4.86018C3.92441 5.48969 3.92441 6.51032 4.55392 7.13982L7.99988 10.5858Z",fill:"black"})),dT=i.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{width:"16",height:"16",fill:"var(--color-background)"}),i.createElement("path",{d:"M3.84693 7.84693L8 12L12.1531 7.84692C13.1731 6.8269 13.1731 5.1731 12.1531 4.15308C11.212 3.21198 9.71375 3.129 8.67448 3.96041L8 4.5L7.32552 3.96041C6.28625 3.129 4.78802 3.21198 3.84692 4.15308C2.8269 5.1731 2.8269 6.8269 3.84693 7.84693Z",fill:"#F24822"}));var dI=r(198181);let dC=r(784087).X;var dx=r(708071),dN=r(107877),dk=r(830445),dS=r(629521),dL=r(27703),dA=r(106757),dR=r(927625);let dP="canvas_viewer--canvasViewer--aDA8H",dF=(e,{width:t,height:r,top:a,left:n})=>{e.style.position="fixed",e.style.width=t+"px",e.style.height=r+"px",e.style.top=a+"px",e.style.left=n+"px"},dO=(e,t)=>{if(e.viewer_mode===eA.y4.PROTOTYPE)return`/community/file/${e.id}/embed`;let r=`/embed?embed_host=fastma&community_viewer=true&hub_file_id=${e.id}`;return void 0===t?r:`${r}&fuid=${t}`};function dD({viewer:e,resource:t,fixedSize:r}){let[a,n]=i.useState(void 0),[l,o]=i.useState(!1),[s,c]=i.useState(!1),d=(0,es.md)(dA.kS);i.useEffect(()=>{if(!e)return;let t=t=>{"LOAD_FINISHED"===t.data&&(e.querySelector("iframe").classList.add("canvas_viewer--showIframe--uYOO5"),e.setAttribute("data-loaded","true"),o(!0),(0,H.qD)({name:"hub-file-canvas-loaded"}))},r=()=>{document.activeElement===e.querySelector("iframe")&&(0,H.qD)({name:"community-LO-embed-iframe-interacted",comparisonVariant:s?"fullscreen":"thumbnail"})};return window.addEventListener("message",t,!1),window.addEventListener("blur",r,!1),()=>{window.removeEventListener("message",t,!1),window.removeEventListener("blur",r,!1)}},[e,s]);let m=()=>{if(!e)return;let t=e.querySelector(`div.${dP}`);if(!t)return;let r=t.getBoundingClientRect();dF(t,r),n(r),requestAnimationFrame(()=>{e.setAttribute("data-animation-phase","open"),t.style.position="fixed",t.style.width="calc(100vw - 96px)",t.style.height="calc(100vh - 96px)",t.style.top="48px",t.style.left="48px"}),(0,H.qD)({name:"community-LO-embed-view-expanded"}),c(!0)},u=()=>{if(!e)return;let t=e.querySelector(`.${dP}`);t&&(dF(t,a),e.setAttribute("data-animation-phase","closing"),setTimeout(()=>{e.removeAttribute("data-animation-phase"),t.style.position="absolute",t.style.removeProperty("width"),t.style.removeProperty("height"),t.style.removeProperty("top"),t.style.removeProperty("left")},300),c(!1))};return e?i.createElement(i.Fragment,null,i.createElement("div",{className:"canvas_viewer--iframeWrapper--eemgJ"},i.createElement("iframe",{key:t.id,title:(0,k.t)("community.embed.preview_title_long"),style:{width:r?"100%":(0,oo.zS)(l),height:"100%"},src:dO(t,d),allowFullScreen:!0}),i.createElement("svg",{onClick:()=>{s?u():m()},"aria-label":s?"Close":"Open",className:"canvas_viewer--fullscreenIcon--ew-9d",width:"18",height:"18",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M14.54 4.168l-3.187 3.186-.708-.708 3.197-3.197.753-.449H11V2h5v5h-1V3.334l-.46.834zM3.46 13.832l3.186-3.186.708.708-3.198 3.197-.752.449H7v1H2v-5h1v3.666l.46-.834z",fillRule:"nonzero",fillOpacity:"1",fill:"#000",stroke:"none"}))),i.createElement("div",{role:"button",tabIndex:0,onClick:u,className:"canvas_viewer--iframeBackdrop--1sZT3"})):i.createElement(i.Fragment,null)}function dM({resource:e,enableEmbedOnSmallScreens:t}){let[r,a]=i.useState(null),n=e.viewer_mode===eA.y4.WHITEBOARD,l=!!e.thumbnail_is_set,o=t?dN.YW:900;return i.createElement("div",{className:M()("canvas_viewer--canvasViewerWrapper--PEx4d",{"canvas_viewer--smallEmbed--1di1B":t}),"data-loaded":"false",ref:e=>a(e)},i.createElement("div",{className:n?"canvas_viewer--canvasViewerFigJam--GQ00B canvas_viewer--canvasViewer--aDA8H":dP,key:e.id},i.createElement("div",{className:"canvas_viewer--hubFileLoadingCoverImage--2onuq canvas_viewer--resourceLoadingCoverImage--e9uBx"},i.createElement(dR.Ho,{image:e.thumbnail_url,isSet:l,isWhiteboard:n,backgroundColor:(0,dL.Cn)(e.client_meta),hubFileId:e.id,alt:(0,oo.qD)(e).name+" preview",thumbnailContext:oN.O7.DETAIL,resizedThumbnailUrls:e.resized_thumbnail_urls})),i.createElement(om.Ay,{mediaQuery:`(min-width: ${o}px)`,onHide:()=>{r&&r.setAttribute("data-loaded","false")}},i.createElement(dD,{fixedSize:t,viewer:r,resource:e}))))}function dB({resource:e}){return i.createElement("div",{className:"canvas_viewer--canvasViewerWrapperPlugins--YfQ3Y canvas_viewer--canvasViewerWrapper--PEx4d","data-loaded":"true"},i.createElement("div",{className:dP},i.createElement("img",{className:"canvas_viewer--pluginLoadingCoverImage--nn23R canvas_viewer--resourceLoadingCoverImage--e9uBx",src:e.thumbnail_url,alt:(0,oo.qD)(e).name+" preview",key:e.id})))}function dU({resource:e,enableEmbedOnSmallScreens:t}){return"current_hub_file_version_id"in e?i.createElement(aI.fu,{name:"Canvas Embed"},i.createElement(dM,{resource:e,enableEmbedOnSmallScreens:t})):i.createElement(dB,{resource:e})}function dV({resourceId:e,resourceType:t}){return null}function dW(){return i.createElement(cS,{onClick:()=>(0,cj.FL)(c$.qB.SIGN_UP,{preventDefaultRedirect:!0}),isResourceLiked:!1})}var dH=r(147513),d$=r(914557),dj=r(416095),dG=r(620722);let dY="library_detail_page_viewer--libraryViewerComponentsViewContainer--ZKW-s",dz="library_detail_page_viewer--libraryViewerComponentsSideBar---vECP",dq="library_detail_page_viewer--libraryViewerComponentsSideBarButtonSelected--USsCQ",dQ="library_detail_page_viewer--libraryViewerComponentsSideBarButton--0ve16 text--fontPos11--2LvXf text--_fontBase--QdLsd",dK="library_detail_page_viewer--libraryViewerComponentsSection--NQG-W",dX="library_detail_page_viewer--libraryViewerStylesViewContainer--zQeq3",dZ="library_detail_page_viewer--loadingSpinner--ijlFM";function dJ(e){let{pageIds:t,itemsByPageId:r,topLevelComponents:a,isLoading:n,numSearchResultsText:l}=e,[o,s]=i.useState(a.length>0||0===t.length?null:t[0]),c=i.useRef({}),d=i.useRef(null),m=i.useRef(null),u=i.useRef(null),_=i.useCallback(e=>{let t=c.current[e];if(t&&d.current){let e=t.offsetTop-d.current.offsetTop-t.offsetHeight;d.current.scrollTo({top:e})}},[]);i.useEffect(()=>{let e=u.current,t=m.current;e&&t&&(e.offsetTop<t.scrollTop?t.scrollTo({behavior:"smooth",top:e.offsetTop}):e.offsetTop>t.scrollTop+t.offsetHeight&&t.scrollTo({behavior:"smooth",top:e.offsetTop-t.offsetTop-t.offsetHeight/2}))},[o]),i.useEffect(()=>{if(!window.IntersectionObserver||!d.current||!c.current)return;let e={},r=d.current.offsetHeight,a=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&s(e.target.id)})},{root:d.current,rootMargin:`0px 0px -${r/2}px 0px`,threshold:[.6]});for(let e of t){let t=c.current[e];t&&a.observe(t)}return()=>{a.disconnect()}},[t,c,d,s]);let p=i.createElement("div",{className:"library_detail_page_viewer--libraryViewerComponentsContent--i0cL6",style:{paddingBottom:t.length>2?"72px":"12px"},ref:d},l,a.length>0&&i.createElement("div",{className:dK},i.createElement(d0,{items:a})),t.map(e=>{let t=r[e],a=t[0];return a?i.createElement("div",{className:dK},i.createElement("div",{className:"library_detail_page_viewer--libraryViewerComponentsSectionHeader--RxA6o text--fontPos13--xW8hS text--_fontBase--QdLsd",id:e,ref:t=>c.current[e]=t},a.containing_frame?.pageName),i.createElement(d0,{items:t})):null})),f=i.useCallback(e=>{_(e),s(e)},[_]),g=i.createElement("div",{className:dz,ref:m},t.map(e=>{let t=e===o,a=r[e][0].containing_frame?.pageName;return a&&i.createElement("div",{ref:t?u:void 0,className:N.cx.wFull.$,key:e},i.createElement("button",{className:M()(dQ,{[dq]:t}),onClick:t=>{t.preventDefault(),f(e)}},a))}));return n?i.createElement("div",{className:dY},g,i.createElement(er.kt,{className:dZ})):i.createElement("div",{className:dY},g,p)}function d0({items:e}){let t=e.map(e=>i.createElement(d1,{component:e,key:(0,dj.Av)(e)}));return i.createElement("div",{className:"library_detail_page_viewer--libraryViewerComponentTileGroup--20ei3"},t)}function d1({component:e}){return i.createElement("div",{className:"library_detail_page_viewer--libraryViewerComponentTile--R5qQm","data-tooltip-type":r$.Ib.TEXT,"data-tooltip":e.name},i.createElement("div",{className:"library_detail_page_viewer--libraryViewerComponentThumbnailWrapper--P2sR3"},i.createElement(dG.J,{className:"library_detail_page_viewer--libraryViewerComponentThumbnail--XVZpN",src:e.thumbnail_url,draggable:!1})))}var d2=r(333370),d4=(e=>(e.COMPONENTS="components",e.STYLES="styles",e))(d4||{});function d8(e){let t={},r=[],a=[];if(e&&e.length>0){for(let a of e){let e=a.containing_frame?.pageId;e?(t[e]??=[],t[e].push(a)):r.push(a)}a=Object.keys(t),(0,ta.v7)(a,e=>t[e][0].containing_frame?.pageName),(0,ta.KQ)(r,"name"),a.map(e=>{let r=t[e];(0,ta.KQ)(r,"name")})}return{itemsByPageId:t,topLevelComponents:r,pageIds:a}}function d5(e){if(!e||0===e.length)return new Map;let t=(0,dj.Kw)(e),r=new Map;return dj.og.map(e=>{let a=t.get(e);if(a){(0,dj.LX)(a);let t=(0,d2.lM)(a,e),n=new Map;for(let e of(n.set(t,t.styles),t.subfolders))n.set(e,(0,d2.dm)(e));r.set(e,n)}}),r}var d3=r(535257),d9=r(173454),d6=r(137906);function d7({foldersAndStylesByType:e,isLoading:t,numSearchResultsText:r}){if(t)return i.createElement("div",{className:dX},i.createElement(er.kt,{className:dZ}));let a=[];for(let t of e.values())for(let[e,r]of t)0!==r.length&&(a.push(i.createElement(me,{folder:e,styleList:r,key:e.name})),a.push(i.createElement("div",{className:"library_detail_page_viewer--libraryViewerStylesSectionDivider--RTCVD",key:e.name.concat("-divider")})));return a.pop(),i.createElement("div",{className:dX},r,a)}function me({folder:e,styleList:t}){return i.createElement(i.Fragment,null,e.name&&i.createElement("div",{className:"library_detail_page_viewer--libraryViewerStylesSectionHeader--LjF7q text--fontPos13--xW8hS text--_fontBase--QdLsd"},e?.name),i.createElement("div",{className:"library_detail_page_viewer--libraryViewerStylesList--8HwJW"},t.map(e=>i.createElement("div",{key:e.key,"data-tooltip-type":r$.Ib.TEXT,"data-tooltip":e.name},i.createElement(d6.zi,{dsStyle:e,size:d6.iL.Large,disableTooltip:!0})))))}let mt=r(754961);function mr({query:e,libraryId:t,selectedTabType:r}){let a=r===d4.COMPONENTS,n=a?[d9.PW.COMPONENT,d9.PW.STATE_GROUP]:[d9.PW.STYLE],[l]=(0,_.IT)((0,d3.nh)({query:e,libraryId:t,assetTypes:n})),{foldersAndStylesByType:o,itemsByPageId:s,topLevelComponents:c,pageIds:d,hasSearchResults:m,numSearchResults:u}=i.useMemo(()=>{let e={},t=[],r=[],n=new Map;if(a){let a=d8(l.data);e=a.itemsByPageId,t=a.topLevelComponents,r=a.pageIds}else n=d5(l.data);return{foldersAndStylesByType:n,itemsByPageId:e,topLevelComponents:t,pageIds:r,hasSearchResults:l.data&&l.data.length>0,numSearchResults:l.data?l.data.length:0}},[l,a]);if("loaded"===l.status&&!m)return i.createElement("div",{className:a?dY:dX},a&&i.createElement("div",{className:dz},i.createElement("div",{className:M()(N.cx.wFull.$,dQ,dq)},(0,k.t)("community.detail_view.library_viewer.search_no_results"))),i.createElement("div",{className:"library_detail_page_viewer--libraryViewerEmptyState--2o6bb"},i.createElement(ei.B,{svg:mt,useOriginalSrcFills_DEPRECATED:!0,className:"library_detail_page_viewer--libraryViewerEmptyIcon--6OLZt"}),i.createElement("div",{className:N.cx.flexRow.$},(0,k.tx)("search.empty_state.no_results_matching",{searchQuery:i.createElement("span",{className:N.cx.fontBold.$},e)}))));let p=i.createElement("div",{className:a?N.cx.flexRow.mb8.$:N.cx.flexRow.mb16.$},(0,k.tx)("community.detail_view.library_viewer.search_results_num",{numResults:u,query:i.createElement("span",{className:N.cx.fontBold.$},e)}));return a?i.createElement(dJ,{pageIds:d,itemsByPageId:s,topLevelComponents:c,isLoading:"loading"===l.status,numSearchResultsText:p}):i.createElement(d7,{foldersAndStylesByType:o,isLoading:"loading"===l.status,numSearchResultsText:p})}function ma({libraryId:e}){let[t,r]=i.useState(d4.COMPONENTS),[a,n]=i.useState(""),[l]=(0,ld.A)(a,300,{trailing:!0,leading:!1}),[o]=(0,_.IT)((0,dH.lH)({hubFileId:e})),s=i.useMemo(()=>d5("loaded"===o.status?o.data:[]),[o]),[c]=(0,_.IT)((0,dH.r4)(e)),{itemsByPageId:d,topLevelComponents:m,pageIds:u}=i.useMemo(()=>d8("loaded"===c.status?c.data:[]),[c]);return i.createElement("div",{className:"library_detail_page_viewer--libraryViewerContainer--N5xtS"},i.createElement(mn,{selectedTabType:t,setSelectedTabType:r,query:l,setSearchQuery:n}),0===l.trim().length&&t===d4.COMPONENTS&&i.createElement(dJ,{pageIds:u,itemsByPageId:d,topLevelComponents:m,isLoading:"loading"===c.status}),0===l.trim().length&&t===d4.STYLES&&i.createElement(d7,{foldersAndStylesByType:s,isLoading:"loading"===o.status}),l.length>0&&i.createElement(mr,{query:l,libraryId:e,selectedTabType:t}))}function mn({selectedTabType:e,setSelectedTabType:t,query:r,setSearchQuery:a}){return i.createElement("div",{className:"library_detail_page_viewer--libraryViewerHeader--m7ZFH"},i.createElement("div",{className:"library_detail_page_viewer--libraryViewerTabsContainer--SDkI8"},i.createElement(ml,{tab:d4.COMPONENTS,selectedTab:e,onClick:()=>{t(d4.COMPONENTS)}},(0,k.t)("community.detail_view.library_viewer.components_tab")),i.createElement(ml,{tab:d4.STYLES,selectedTab:e,onClick:()=>{t(d4.STYLES)}},(0,k.t)("community.detail_view.library_viewer.styles_tab"))),i.createElement(mi,{query:r,setSearchQuery:a}))}function mi({query:e,setSearchQuery:t}){let r=i.useRef(null),a=i.useCallback(e=>{t(e)},[t]),n=i.useCallback(()=>{a("")},[a]);return i.createElement(i4.IW,{ref:r,className:"library_detail_page_viewer--libraryViewerSearchBar--x-K2j",focusOnMount:!1,query:e,placeholder:(0,k.t)("community.detail_view.library_viewer.search_placeholder"),clearSearch:n,onChange:a,hideXIcon:!0})}class ml extends d$.o{constructor(){super(...arguments),this.styleOverrides=()=>({base:"library_detail_page_viewer--libraryViewerTab--f43dq text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",selected:"library_detail_page_viewer--libraryViewerTabSelected--t5nZk",unselected:"library_detail_page_viewer--libraryViewerTabUnselected--mE3MK"}),this.applyDefaultStyles=()=>!1}}var mo=r(133537),ms=r(624618),mc=r(751297);let md=r(219497).G;var mm=r(588529),mu=r(137459),m_=r(37637);let mp="resource_page_metadata_badge--badge--PWa-6";function mf({hubFileEditorType:e,pluginEditorType:t,resourceEditorType:r}){let a=e||t||r;if(!a)return null;let n=(()=>{switch(a){case mu.LE.SLIDES:case mm.q.SLIDES:return(0,k.t)("community.detail_view.made_for_slides");case oy.FW.SLIDES:if(!(0,u.kc)().piper_plugs_in_community_publish)return null;return(0,k.t)("community.detail_view.made_for_slides");case mu.LE.FIGJAM:case oy.FW.FIGJAM:case mm.q.WHITEBOARD:return(0,k.t)("community.detail_view.made_for_fig_jam");case oy.FW.INSPECT:case oy.FW.DEV:case mm.q.DEV_HANDOFF:return(0,k.t)("community.detail_view.made_for_dev_mode");case mu.LE.FIGMA:case oy.FW.FIGMA:case mm.q.DESIGN:return(0,k.t)("community.detail_view.made_for_figma_design");case mm.q.SITES:case mm.q.COOPER:default:return null}})();return n?i.createElement("div",{className:mp},i.createElement(m_.dn,{editorType:t?[t]:a}),i.createElement("div",null,n)):null}var mg=r(520863),mE=r(965270),mh=r(647976),my=r(733648);function mv({resource:e}){let t=(0,oC.XW)(e)?(0,oC.qY)(e):e;if(!t)return null;let r=function(e){if((0,oC.XW)(e))return i.createElement(i.Fragment,null,e.editor_types.map(e=>i.createElement(mf,{key:e,resourceEditorType:e})));if((0,o_.U)(e))return i.createElement(mf,{hubFileEditorType:(0,oo.JJ)(e.viewer_mode)});let t=(0,oo.qD)(e).manifest.editorType;if(t)return i.createElement(i.Fragment,null,t.map(e=>i.createElement(mf,{key:e,pluginEditorType:e})))}(e),a=(0,oC.BQ)(e)&&i.createElement(mb,null),n=(0,oC.YI)(e)&&(0,cP.pk)((0,oo.qD)(t))&&i.createElement(mw,null),l=e.community_publishers.accepted.reduce((e,t)=>e.concat(t.badges),[]),o=[...new Set(e.badges.concat(l))],s=(0,cR.C2)({badges:o},!1,!0),c=(0,oC.g0)(e)?function(e){let t=(0,oo.qD)(e).manifest;return i.createElement(i.Fragment,null,i.createElement(mT,{plugin:e}),i.createElement(mE.u,{networkAccess:t.networkAccess,isWidget:e.is_widget,isLearnMoreLinkVisible:!0,is24x24:!0}))}(t):null;return i.createElement(i.Fragment,null,r,a,n,s&&i.createElement("div",{className:mp},i.createElement(cR.Gx,null,s),(0,k.tx)("community.detail_view.made_by_a_figma_partner")),c)}function mb(){return i.createElement("div",{className:mp},i.createElement(ei.B,{svg:my.A,svgClassName:"resource_page_metadata_badge--uiKitBadgeSvg--deluf",useOriginalSrcFills_DEPRECATED:!0}),i.createElement("div",null,(0,k.t)("community.detail_view.ui_kit")))}function mw(){return i.createElement("div",{className:mp},i.createElement(m_.ZA,{is24x24:!0}),i.createElement("div",null,(0,k.t)("community.detail_view.made_for_codegen")))}function mT({plugin:e}){let t=(0,mg.A)(e.id,!0);return i.createElement(i.Fragment,null,t.loaded&&t.data?.status===eA.bQ.APPROVED&&i.createElement(mh.b,{securityFormResponse:t.data,entryPoint:mh.X.COMMUNITY_DETAIL,isWidget:e.is_widget,is24x24:!0}))}function mI(e){return i.createElement("div",{className:"resource_page_metadata_badge--badgesContainer--heM3E text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.children)}var mC=r(230798),mx=r(743875),mN=r(126815);function mk({monetizedResourceMetadata:e,isFreemium:t,isOffPlatform:r}){if(t&&e){let t=(0,oc.X2)(e);return(0,k.tx)("community.detail_view.in_app_purchases",{priceString:t})}return r?i.createElement("div",{className:mx.UH},(0,k.tx)("community.detail_view.third_party_badge.off_platform"),i.createElement(ei.B,{svg:mN.A,className:mx.G,"data-tooltip-type":r$.Ib.TEXT,"data-tooltip":(0,k.t)("community.detail_view.resource_outside_of_figma"),"data-tooltip-show-immediately":!0})):null}function mS(e){let{updatedAt:t,paymentInfo:r,supportContact:a,creatorPolicyData:n,license:l}=e,[o,s]=i.useState(!1),c=a;return a&&((0,mo.xf)(a)?c=`mailto:${a}`:a.startsWith("https://")||a.startsWith("http://")||(c=`//${a}`)),i.createElement(mC.z,null,i.createElement("div",null,(0,k.tx)("community.detail_view.last_updated_at_time_stamp",{timeStamp:i.createElement(lB.h1,{date:t})})),a&&i.createElement("div",{className:mx.Ev},(0,k.tx)("community.detail_view.support_contact",{supportContact:i.createElement("a",{href:c||void 0,className:mx.tx,target:"_blank",rel:"nooppener noreferrer"},a)})),r,l,(0,u.kc)().cmty_hub_file_creator_policy&&n?.policyText&&i.createElement("span",null,i.createElement("span",{role:"button",onClick:()=>{s(!0)},tabIndex:0,className:mx.Rc},(0,k.tx)("community.detail_view.creator_policy")),o&&i.createElement(r8.XV,{title:(0,k.t)("community.detail_view.creator_policy"),maxWidth:450,onClose:()=>{s(!1)},allowScroll:!0,containerClassName:mx.D9},i.createElement("div",{className:mx.OC},i.createElement("div",{className:mx.$h},(0,k.tx)("community.detail_view.creator_policy_publisher_name",{publisherName:n.publisherName}))))))}function mL({resource:e}){let t=(0,oC.XW)(e)?(0,oC.qY)(e):e;if(!t)return null;let r=(0,oo.qD)(t),a=(0,o_.m3)(t),n=a&&(0,o_.PM)(t),l=(0,o_.zF)(t);return i.createElement("div",{className:mx.tJ,"data-testid":"metadata-container"},i.createElement(mI,null,i.createElement(mv,{resource:e})),i.createElement(mS,{updatedAt:r.created_at,supportContact:e.support_contact,license:i.createElement(mc.F,{isMonetizedResource:a,isHubFile:(0,oC.Qc)(e),isAppleResource:(0,od.mA)(e),isFigmaResource:(0,od.sB)(e)}),paymentInfo:i.createElement(mk,{monetizedResourceMetadata:t.monetized_resource_metadata,isFreemium:n,isOffPlatform:l}),creatorPolicyData:{policyText:r.creator_policy??null,publisherName:e.publisher.name}}),(0,dI.M)()?i.createElement(md,{resource:e}):null,(0,dI.M)()?i.createElement(ms.dx,null):i.createElement("a",{href:"mailto:content-reviews@figma.com",className:mx.hV},(0,k.tx)("community.detail_view.report_resource")))}var mA=r(957956),mR=r(920037);let mP="related_content--relatedContentTile--gwfdU",mF="related_content--relatedContentTileTitle--DJQmt text--fontPos13--xW8hS text--_fontBase--QdLsd";function mO({resource:e,rdpImpressionId:t}){let r=(0,oo.qD)(e),a=e.thumbnail_url,n=!!e.thumbnail_is_set,l=e.viewer_mode===eA.y4.WHITEBOARD,o=(0,u.kc)().cmty_thumbnail_16x9_ar,s=(0,oo._t)({resource:e});return i.createElement(oE.A6,{to:s,className:M()(mP,{"related_content--relatedContentTile16to9--6fnkm":o}),onClick:()=>mB(e,t)},i.createElement("div",{className:n?"related_content--relatedContentTileImageThumbnailIsSet--ceK9X related_content--relatedContentTileImage--0IZ1a":"related_content--relatedContentTileImage--0IZ1a",style:{backgroundColor:(0,mR.C)(e.client_meta)}},i.createElement(dR.Ho,{hubFileId:e.id,image:a,isWhiteboard:l,isSet:n,alt:r.name,resizedThumbnailUrls:e.resized_thumbnail_urls}),i.createElement(m_.dn,{editorType:(0,oo.JJ)(e.viewer_mode)})),i.createElement("div",{className:mF},r.name))}function mD({resource:e,rdpImpressionId:t}){let r=(0,oo.qD)(e),a=r.redirect_icon_url,n=(0,oo._t)({resource:e});return i.createElement(oE.A6,{to:n,className:mP,onClick:()=>mB(e,t)},i.createElement("div",{className:"related_content--relatedContentTilePluginContentWrapper--ie8pw"},i.createElement(m_.dn,{editorType:r.manifest.editorType}),i.createElement(op.V,{className:"related_content--relatedContentPluginTileImage--4Jsqh",plugin:r}),i.createElement("div",{className:"related_content--relatedContentPluginTileImageBlurry--z0-ki related_content--relatedContentPluginTileImage--4Jsqh",style:{backgroundImage:`url(${a})`}})),i.createElement("div",{className:mF},r.name))}function mM({resource:e,rdpImpressionId:t}){let r=(0,oo.qD)(e),a=r.redirect_snapshot_url,n=(0,oo._t)({resource:e});return i.createElement(oE.A6,{to:n,className:mP,onClick:()=>mB(e,t)},i.createElement("div",{className:"related_content--relatedContentWidgetTileImage--rY25h related_content--relatedContentTileImage--0IZ1a"},i.createElement("img",{src:a,alt:r.name,loading:"lazy"})),i.createElement("div",{className:mF},r.name))}let mB=(e,t)=>{(0,nm.sx)("Community Related Content Clicked",{community_resource:(0,oC.Vm)(e),community_resource_id:e.id,related_content_type:e.related_content?.types.join(","),rdp_impression_id:t})};function mU({resourceType:e,resourceId:t,content:r,types:a,creators:n,rdpImpressionId:l}){i.useEffect(()=>{(0,nm.sx)("Community Related Content Viewed",{communityResource:e,communityResourceId:t,relatedContentType:a,rdp_impression_id:l,itemsImpressed:r.map(e=>e.id).join(",")})},[r.map(e=>e.id).join(",")]);let o=1===a.length&&a[0]===mA.o.by_creator?n.accepted.length>1?(0,k.t)("community.related_content.more_by_these_creators"):(0,k.t)("community.related_content.more_by_this_creator"):(0,k.t)("community.related_content.more_like_this");return i.createElement("div",{className:"related_content--relatedContent--TYPp2","data-testid":"related-content"},i.createElement("div",{className:"related_content--relatedContentHeader--gjj-d text--fontPos14--OL9Hp text--_fontBase--QdLsd"},i.createElement("div",{className:"related_content--relatedContentTitle--uylYw"},o)),i.createElement("div",{className:"related_content--relatedContentTilesContainer--L8KiC"},r.map(e=>{let t=e.id;return(0,o_.U)(e)?i.createElement(mO,{key:t,resource:e,rdpImpressionId:l}):(0,o_.I0)(e)?i.createElement(mD,{key:t,resource:e,rdpImpressionId:l}):i.createElement(mM,{key:t,resource:e,rdpImpressionId:l})})))}var mV=r(607191),mW=r(592597),mH=r(179940),m$=r(566083),mj=r(62589),mG=r(709495),mY=r(580857),mz=r(357611),mq=r(971120);class mQ extends mj.nS{}mQ.path="/community/search",mQ.parseQueryString=e=>{let t=(0,mH.xL)(e);return{query:t.query??"",resource_type:(0,cw.S)(t.resource_type,mq.L.SearchResourceTypes),editor_type:(0,cw.S)(t.editor_type,mz.k.Editors),price:(0,cw.S)(t.price,m$.C.Price),sort_by:(0,cw.S)(t.sort_by,mG.e.Search),creators:(0,cw.S)(t.creators,mY.Z.Search)}};var mK=r(724819);let mX=r(421660).J,mZ=r(421660).z;function mJ({resource:e,optionalTitle:t,disableHeader:r,showBottomDivider:a}){let n=(0,u.kc)().cmty_curated_tags_mapping,l=mX(e),o=(0,cw.S)(e.category_slug,s8.LJ),[s]=(0,_.IT)((0,mW.iB)(void 0),{enabled:!!o});if("loading"===s.status)return null;let c=s.data?.find(e=>e.url_slug===o)?.tags??[],d=e.tags??[],m=e.tags_v2??{},p=d.length>0,f=!!o&&Object.keys(m).length>0;if(!p&&!f)return null;let g=(0,oo.ss)(e,{plural:!0});return i.createElement(i.Fragment,null,!r&&i.createElement("h3",{className:mK.Pr},t||(0,k.tx)("community.detail_view.tags")),i.createElement("div",{className:mK.Pc},l&&i.createElement(mZ,{resourceId:e.id,resourceType:(0,oC.Vm)(e),fileKey:(0,o_.Uz)(e)?e.fig_file_metadata?.key:void 0}),n?f&&Object.entries(m).map(([e,t])=>{let r=c.find(t=>t.text===e);return i.createElement(aI.o3,{key:e,className:mK.Tc,to:new s5.IE({categorySlug:o,tagSlug:t}).to,trackingEventName:"Tag clicked",trackingProperties:{text:e,tab:g,type:"v2",isV2TagsEnabled:n}},r?(0,nA.uS)(r):e)}):d.map(e=>i.createElement(aI.o3,{key:e,className:mK.Tc,to:`/community/tag/${e}/${g}`,trackingEventName:"Tag clicked",trackingProperties:{text:e,tab:g,type:"v1",isV2TagsEnabled:n}},e))),n&&p&&i.createElement("div",{className:mK.Cy},d.map(e=>i.createElement(aI.o3,{key:e,className:mK.AT,to:new mQ({},{query:(0,nA.CW)(e)}).to,trackingEventName:"Tag clicked",trackingProperties:{text:e,tab:g,type:"v1",isV2TagsEnabled:n}},`#${e}`))),a&&i.createElement("hr",null))}var m0=r(731801);function m1({resource:e}){let[t,r]=i.useState(!1);if(!(0,oC.g0)(e))return null;let a=(0,oC.$9)(e);if(!a)return null;let{versions:n}=a,l=(0,cP.uF)(a);return i.createElement("div",{className:"version_history--versionHistory--yOsFW text--fontPos14--OL9Hp text--_fontBase--QdLsd"},i.createElement("div",{className:"version_history--header--jdIyg"},i.createElement(op.V,{className:"version_history--icon--pnnmo",plugin:l}),i.createElement("span",{className:"version_history--title--1a95q text--fontPos14--OL9Hp text--_fontBase--QdLsd"},(0,k.tx)("community.plugins.version_history"))),i.createElement("div",null,Object.keys(n).map(parseFloat).sort((e,t)=>e>t?-1:1).map(e=>n[e]).filter(e=>!!e).map(e=>{let t=!e.release_notes,r=new Date(e.created_at).toLocaleDateString(navigator.language,{year:"numeric",month:"long",day:"numeric"});return i.createElement("div",{className:t?"version_history--releaseSectionEmpty--t8k4f":"version_history--releaseSection--mOmlB",key:e.id},i.createElement("span",{className:"version_history--versionName--PC5Ws"},(0,k.tx)("community.plugins.version_version_on_date",{createdAt:r,versionName:e.version})),i.createElement("span",{className:"version_history--versionDescription--bzh-V"},e.release_notes))}).slice(0,t?1/0:2),!t&&Object.keys(n).length>2&&i.createElement("div",{className:"version_history--showAll--b8ClA",onClick:()=>r(!0),role:"button",tabIndex:0},(0,k.tx)("community.plugins.see_all"))))}let m2="meta_container--tabbedMetaContainer--DJyPv meta_container--metaContainer--kaSwh",m4="meta_container--metaContainerDivider--ZXFZP",m8="meta_container--metaContainerDividerSpacer--OW9jB",m5="meta_container--mobileMetaContainer--gGQKv",m3="meta_container--metaTab--zRKXG text--fontPos14--OL9Hp text--_fontBase--QdLsd",m9="meta_container--selectedMetaTab--5IRWQ meta_container--metaTab--zRKXG text--fontPos14--OL9Hp text--_fontBase--QdLsd",m6="meta_container--metaTabCommentCount--B1a21",m7="meta_container--selectedMetaTabCommentCount--lS1BF meta_container--metaTabCommentCount--B1a21",ue=r(142264).y,ut=r(640534).l;function ur(e,t){if(e.preventDefault(),t===cC.$O.DescriptionView){window.scrollTo({top:0,behavior:"smooth"});return}let r=document.getElementById(t);if(r){let e=cC.bK,t=r.getBoundingClientRect().top+window.scrollY+e;window.scrollTo({top:t,behavior:"smooth"})}}function ua({commentCount:e,hasCommentsEnabled:t}){let[r,a]=(0,es.fp)(cx);return i.useEffect(()=>{let e=()=>{let e=document.getElementById(cC.$O.CommentsView);if(e){let t=e.getBoundingClientRect().top;(0,oo._m)(t,window.innerHeight,window.scrollY)?a(cC.$O.CommentsView):a(cC.$O.DescriptionView)}};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[a]),i.createElement("div",{className:"meta_container--metaTabContainer--lvUtb","data-testid":"anchor-tabs"},i.createElement("button",{onClick:e=>ur(e,cC.$O.DescriptionView)},i.createElement("div",{className:M()(m3,{[m9]:r===cC.$O.DescriptionView})},(0,k.t)("community.resource_page.about"))),t&&i.createElement("button",{onClick:e=>ur(e,cC.$O.CommentsView)},i.createElement("div",{className:M()(m3,{[m9]:r===cC.$O.CommentsView})},(0,k.tx)("community.resource_page.comments",{numComments:i.createElement("span",{className:M()(m6,{[m7]:r===cC.$O.CommentsView})},e)}))))}function un({resource:e}){let t=(0,os.qw)(),r=(0,oC.XW)(e)?(0,oC.qY)(e):e;if(!r)return null;let a=function(e,t){if((0,oC.g0)(e))return!1;let r=(0,oC.PI)(e,t),a=(0,oo.z$)(e)===dS.Z4.EMBED;return!r&&!a&&!(0,oC.cX)(e)}(e,r),n=(0,dk.TX)(r.id)&&t();return a&&!n?i.createElement(i.Fragment,null,i.createElement("h3",{className:N.cx.font14.fontSemiBold.mb16.$},(0,k.t)("community.embed.preview_title")),i.createElement(dU,{enableEmbedOnSmallScreens:!0,resource:r}),i.createElement("hr",{className:N.cx.my24.$})):n?i.createElement(ma,{libraryId:r.id}):null}function ui({resource:e}){if(!(0,dI.M)())return i.createElement(dW,null);{let t=(0,oC.Qc)(e)?iV.e0.COMMUNITY_HUB_FILE:(0,oC.$3)(e)?iV.e0.COMMUNITY_HUB_WIDGET:iV.e0.COMMUNITY_HUB_PLUGIN;return i.createElement(cA,{resource:e,viewContext:t})}}function ul({detailPendingCreatorInvite:e,detailPendingPluginPublisherInvite:t,anchorTabs:r,descriptionView:a,contentPreview:n,relatedContent:l,versionHistory:o,commentsView:s,communityPromoBanner:c,tagsContainer:d,socialLinks:m,metadata:u}){let{externalCommentScrollRef:_}=i.useContext(dx.H);return i.createElement(i.Fragment,null,e,t,r,i.createElement("div",{className:m4},i.createElement("div",{className:m8})),i.createElement("div",{className:m2},i.createElement("div",{className:"meta_container--leftSide--KSlX8",ref:_,id:cC.$O.DescriptionView},a,n,l,o,i.createElement("div",{id:cC.$O.CommentsView},s)),i.createElement("div",{className:"meta_container--rightSide--FQNL-"},c,d,m,u)))}function uo({detailPendingCreatorInvite:e,detailPendingPluginPublisherInvite:t,anchorTabs:r,descriptionView:a,contentPreview:n,relatedContent:l,versionHistory:o,commentsView:s,communityPromoBanner:c,tagsContainer:d,socialLinks:m,metadata:u}){return i.createElement(i.Fragment,null,e,t,r,i.createElement("div",{className:m4},i.createElement("div",{className:m8})),i.createElement("div",{className:m2},i.createElement("div",{className:m5,"data-mobile-view":!0,id:cC.$O.DescriptionView},a,n,c,d,l,o,i.createElement("div",{id:cC.$O.CommentsView},s),m,u)))}function us({detailPendingPluginPublisherInvite:e,descriptionView:t,relatedContent:r,versionHistory:a,commentsView:n,communityPromoBanner:l,tagsContainer:o,socialLinks:s,metadata:c}){let{externalCommentScrollRef:d}=i.useContext(dx.H);return i.createElement(i.Fragment,null,i.createElement("div",{className:m5,"data-mobile-view":!0,ref:d},t,t&&i.createElement("hr",null),e,l,o,r,a,i.createElement("div",{id:cC.$O.CommentsView},n),s,c))}function uc({resource:e,resourceContent:t,rdpImpressionId:r,isMobileSize:a}){let n=(0,od.K2)(e),l=(0,od.zY)(e),o=t.related_content,s=o&&o.content.length>0,c=(0,oC.g0)(e),d=(0,sZ.N)(`(min-width: ${dN.w3}px)`),m={detailPendingCreatorInvite:i.createElement(ue,{resourceId:t.id,resourceType:(0,oC.Vm)(t),containerClassName:m2}),detailPendingPluginPublisherInvite:c?i.createElement(ut,{pluginId:t.id,containerClassName:a?void 0:m2}):void 0,anchorTabs:i.createElement(ua,{commentCount:t.comment_count,hasCommentsEnabled:(0,nA.e5)(t)}),descriptionView:i.createElement(m0.u,{description:l,hideDivider:!a}),contentPreview:i.createElement(un,{resource:e}),relatedContent:s?i.createElement(i.Fragment,null,i.createElement(mU,{resourceId:e.id,resourceType:(0,oC.Vm)(t),content:o.content,types:o.types,creators:e.community_publishers,rdpImpressionId:r}),i.createElement("hr",null)):void 0,versionHistory:i.createElement(m1,{resource:e}),commentsView:i.createElement(dC,{resource:t}),communityPromoBanner:i.createElement(dV,{resourceId:e.id,resourceType:(0,oC.Vm)(t)}),tagsContainer:i.createElement(mJ,{resource:t,showBottomDivider:d}),socialLinks:i.createElement(mV.R,{author:(0,ce.Lj)(t),resourceType:(0,oC.Vm)(t),resourceURL:(0,oo.DV)(t),resourceId:e.id,resourceName:n??""}),metadata:i.createElement(mL,{resource:e})};return i.createElement(i.Fragment,null,i.createElement("div",{className:a?"meta_container--metaContainer--kaSwh":""},i.createElement(om.Ay,{mediaQuery:`(max-width: ${dN.YW-1}px)`},i.createElement(us,{...m})),i.createElement(om.Ay,{mediaQuery:`(min-width: ${dN.YW}px) and (max-width: ${dN.w3-1}px)`},i.createElement(uo,{...m})),i.createElement(om.Ay,{mediaQuery:`(min-width: ${dN.w3}px)`},i.createElement(ul,{...m}))))}function ud({resource:e}){let t=(0,os.pV)(),r=(0,dI.M)()?"mobile_logged_in":"mobile_logged_out",a=(0,oC.XW)(e)?(0,oC.qY)(e):e,n=i.useMemo(()=>a?(0,oC.g0)(e)?i.createElement(i.Fragment,null,i.createElement(dr,{resource:e,resourceContent:a,viewContext:r,enableWideButtonForStickyFooter:!0}),i.createElement(ui,{resource:e})):i.createElement(i.Fragment,null,i.createElement(dd,{resource:e,resourceContent:a,enableWideButtonForStickyFooter:!0}),t?i.createElement(c9,{resource:e,resourceContent:a,viewContext:r}):i.createElement(i.Fragment,null,i.createElement(ui,{resource:e}),i.createElement(dt,{resource:e,resourceContent:a,viewContext:r}))):null,[e,a,r,t]);return i.createElement("div",{className:M()("meta_container--mobileButtonRow--a-eRc","meta_container--wideMobileButtonRow--ahIrA")},n)}let um=r(218795).s;function uu({resource:e,resourceContent:t,hasScrolled:r}){let a=(0,os.pV)(),n=(0,od.K2)(e),o=(0,l.d4)(e=>(0,nA.Tm)(e)),s=(0,oo.Qo)(t)?iV.e0.COMMUNITY_HUB_FILE:(0,o_.xQ)(t)?iV.e0.COMMUNITY_HUB_WIDGET:iV.e0.COMMUNITY_HUB_PLUGIN,c=null,d=i.createElement(dd,{resource:e,resourceContent:t}),m=(0,oC.$9)(e);if(um&&m){let e=(0,oo.qD)(m),t=Object.values(o).some(e=>(0,o_.I0)(m)&&e.plugins_whitelist_enforced||(0,o_.xQ)(m)&&e.widgets_whitelist_enforced);!(e&&"is_private"in e&&e.is_private)&&t&&(c=i.createElement(um,{resource:m,viewContext:s}))}let u=i.createElement(c9,{resource:e,resourceContent:t,viewContext:s}),_=i.createElement(dt,{"data-onboarding-key":"save-button",resource:e,resourceContent:t,viewContext:s}),p=c?null:i.createElement(cA,{resource:e,viewContext:s}),f=i.createElement(cB,{resource:e,resourceContent:t}),g=i.createElement(db,{resource:e,resourceContent:t,viewContext:s});return r?i.createElement("div",{className:"basic_resource_header--resourcePageHeaderSticky--z2Rga"},i.createElement("div",{className:"basic_resource_header--resourcePageHeaderStickyContainer--XiXE-"},i.createElement("div",{className:"basic_resource_header--headerStickyLeftSide--OkZLQ"},i.createElement("h1",{className:"basic_resource_header--stickyTitle--oG0u0 ellipsis--ellipsis--Tjyfa text--fontPos18--rYXJb text--_fontBase--QdLsd"},n),i.createElement(uf,{hasCommentsEnabled:(0,nA.e5)(t),commentCount:t.comment_count})),i.createElement("div",{className:dh},d,c,a?u:i.createElement(i.Fragment,null,p,_)))):i.createElement(u_,{publishers:e.community_publishers.accepted,title:n??"",resourceHeaderStats:g,CTAButton:d,approveButton:c,moreOptionsButton:u,likeButton:p,saveButton:_,headerBadges:f})}function u_({CTAButton:e,publishers:t,title:r,description:a,resourceHeaderStats:n,approveButton:l,moreOptionsButton:o,likeButton:s,saveButton:c,learnMore:d,headerBadges:m,openInNewTab:u=!1}){let _=(0,os.pV)(),p=[...t.filter(e=>(0,cR.J3)(e.badges)),...t.filter(e=>!(0,cR.J3)(e.badges))];return i.createElement("div",{className:"basic_resource_header--headerContainer--YYSPX"},i.createElement("div",{className:"basic_resource_header--authors--1PIBq text--fontPos13--xW8hS text--_fontBase--QdLsd"},i.createElement(cy.L,{publishers:p,showFigmaPartnerBadge:!0}),i.createElement(cy.I,{publishers:p,openInNewTab:u,useSmallWidth:!0,removeByLabel:!0})),i.createElement("div",{className:"basic_resource_header--title_badge_container--vH8BZ"},i.createElement("div",{className:"basic_resource_header--title--9jW4i text--fontPos24--YppUD text--_fontBase--QdLsd ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k"},i.createElement("h1",null,r)),m),n,!!a&&i.createElement("div",{className:"basic_resource_header--description--718b9 text--fontPos13--xW8hS text--_fontBase--QdLsd"},a),i.createElement("div",{className:dh},e,d,l,_?i.createElement(i.Fragment,null,o):i.createElement(i.Fragment,null,s,c)))}function up({resource:e,resourceContent:t,hasScrolled:r}){let a=(0,od.K2)(e),n=e.community_publishers.accepted,l=(0,nA.e5)(t),o=t.comment_count;return r?i.createElement("div",{className:"basic_resource_header--mobileResourcePageHeaderSticky--k2EHs basic_resource_header--mobileResourcePageHeader--EgM2G"},i.createElement("div",{className:d_},i.createElement("div",{className:dy},i.createElement("h1",{className:dp},i.createElement("span",{className:df},a))),i.createElement(ud,{resource:e}),i.createElement(uf,{hasCommentsEnabled:l,commentCount:o}))):i.createElement("div",{className:"basic_resource_header--resourcePageHeaderMobile--pJLU0 basic_resource_header--mobileResourcePageHeader--EgM2G"},i.createElement("div",{className:d_},i.createElement("div",{className:dy},i.createElement("h1",{className:dp},i.createElement("span",{className:df},a)),i.createElement("div",{className:"basic_resource_header--mobileAttributionLine--SVYDo basic_resource_header--attributionLine--3-ssm text--fontPos13--xW8hS text--_fontBase--QdLsd","data-testid":"mobile-header-attribution"},i.createElement(cB,{resource:e,resourceContent:t}),i.createElement(db,{resource:e,resourceContent:t}),i.createElement("div",{className:"basic_resource_header--attributionCreator--rV-9C"},i.createElement(cy.L,{publishers:n}),i.createElement(cy.I,{publishers:n})))),i.createElement(ud,{resource:e}),i.createElement(uf,{hasCommentsEnabled:l,commentCount:o})))}function uf({hasCommentsEnabled:e,commentCount:t}){let[r,a]=(0,es.fp)(cx);i.useEffect(()=>{let e=()=>{let e=document.getElementById(cC.$O.CommentsView);if(e){let t=e.getBoundingClientRect().top;(0,oo._m)(t,window.innerHeight,window.scrollY)?a(cC.$O.CommentsView):a(cC.$O.DescriptionView)}};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[a]);let n=(e,t)=>{if(e.preventDefault(),t===cC.$O.DescriptionView){window.scrollTo({top:0,behavior:"smooth"});return}let r=document.getElementById(t);if(r){let e=cC.bK,t=r.getBoundingClientRect().top+window.scrollY+e;window.scrollTo({top:t,behavior:"smooth"})}};return i.createElement("div",{className:"basic_resource_header--anchorLinkContainer--UaF3S"},i.createElement("button",{onClick:e=>n(e,cC.$O.DescriptionView)},i.createElement("div",{className:M()(dg,{[dE]:r===cC.$O.DescriptionView})},(0,k.t)("community.resource_page.about"))),e&&i.createElement("button",{onClick:e=>n(e,cC.$O.CommentsView)},i.createElement("div",{className:M()(dg,{[dE]:r===cC.$O.CommentsView})},(0,k.tx)("community.resource_page.comments",{numComments:i.createElement("span",{className:M()(m6,{[m7]:r===cC.$O.CommentsView})},t)}))))}var ug=r(560945),uE=r(30637);let uh=(0,nr.eU)(!1);var uy=r(491679);function uv({thumbnailUrls:e,altText:t,size:r,tileAspectRatio:a="16 / 9"}){let n=0;e.length>12&&(n=e.length-12,e=e.slice(0,12));let l=i.useMemo(()=>{let[t,r]=e.length>8?[4,3]:e.length>4?[4,2]:[2,2];return el.sx.add({gridTemplateColumns:`repeat(${t}, 1fr)`,gridTemplateRows:`repeat(${r}, 1fr)`}).$},[e.length]),o=i.useMemo(()=>{switch(r){case"thumbnail":return"grid_view--carouselGridViewThumbnail--VQ4Aa grid_view--carouselGridView--kG9U6";case"hero":return"grid_view--carouselGridViewHero--fJM2n grid_view--carouselGridView--kG9U6 text--fontNeg20--h0WuY text--_fontBase--QdLsd text--_negText--j9g-L";case"fullscreen_hero":return"grid_view--carouselGridViewFullscreenHero--wJryP grid_view--carouselGridView--kG9U6 text--fontNeg40--v1X92 text--_fontBase--QdLsd text--_negText--j9g-L";default:(0,C.xb)(r)}},[r]),s=i.useMemo(()=>el.sx.if(!!a,{aspectRatio:a}).$,[a]);return i.createElement("div",{className:M()("grid_view--carouselGridViewContainer--LoaLV",{[ok]:"fullscreen_hero"===r})},i.createElement("div",{"aria-label":t,style:l,className:o},e.map((e,t,a)=>i.createElement("div",{key:e,style:s,"aria-hidden":!0,className:"grid_view--carouselGridImageContainer--e2OUP"},i.createElement("img",{src:e,draggable:!1}),"thumbnail"!==r&&t===a.length-1&&n>0&&i.createElement("div",{className:"grid_view--overflowThumbnailCount--2YPuu"},i.createElement("span",null,`+${n}`))))))}var ub=r(921211);let uw="hero--lightboxButton--5mIOs";function uT({children:e,showLetterbox:t=!1,showSlidesPreviewButton:r=!1}){let a=i.useRef(null),[n,l]=(0,es.fp)(uh);return i.useEffect(()=>{let e=a.current;if(e){let t=e=>{"Escape"===e.key&&l(!1)};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}}},[l]),i.createElement("div",{ref:a,className:t?"hero--heroImageWrapperWithLetterbox--68M0e hero--heroImageWrapper--Tr0mE":"hero--heroImageWrapper--Tr0mE",onClick:()=>l(!0),role:"button",tabIndex:-1},i.createElement("div",{className:"hero--heroImage--fwiPW","data-testid":"rdp-carousel-hero"},e),r?i.createElement("div",{className:"hero--heroImageSlidesPreviewButton--ymaXm"},i.createElement(ub.K,null),(0,k.tx)("community.embed.preview_title")):i.createElement("div",{className:"hero--heroImageFullScreenIcon--Mn7mU"},i.createElement(ew.In,{icon:"full-screen-enter-32",fill:"menu"})))}function uI({children:e,is16to9AspectRatio:t}){let[r,a]=(0,es.fp)(uh),n=e=>{e.stopPropagation(),a(!1)};return r?i.createElement("div",{className:"hero--modalBackground--zjoAE",onClick:n,role:"button",tabIndex:-1},i.createElement("div",{className:t?"hero--rdpImageCloseupModal--7mxym":"hero--rdpImageCloseupModal2to1AspectRatio---JVP8 hero--rdpImageCloseupModal--7mxym",onClick:n,role:"button",tabIndex:-1},e,i.createElement("div",{className:"hero--heroImageExitFullScreenIcon--OjJSh hero--heroImageFullScreenIcon--Mn7mU"},i.createElement(ew.In,{icon:"full-screen-exit-32",fill:"menu"})))):null}function uC({children:e,currentIndex:t,totalItems:r,onPrev:a,onNext:n,onRestart:l,imageAspectRatio:o="16 / 9",showLetterbox:s=!1}){let c=i.useRef(null),d=i.useRef(null),m=i.useMemo(()=>0===t,[t]),u=i.useMemo(()=>t===r-1,[t,r]),[_,p]=(0,es.fp)(uh),f=i.useCallback(()=>{d.current?.focus({preventScroll:!0})},[]);i.useEffect(()=>{let e=c.current;if(_&&e){f();let t=e=>{"ArrowLeft"===e.key?a():"ArrowRight"===e.key?n():"Escape"===e.key&&p(!1)};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}}},[f,n,a,p,_]);let g=i.useCallback(e=>{e.stopPropagation(),p(!1)},[p]),E=i.useMemo(()=>el.sx.if(!!o,{aspectRatio:o}).$,[o]);return _?i.createElement("div",{ref:c,className:"hero--lightboxContainer--c8JpB hero--modalBackground--zjoAE"},i.createElement("div",{className:"hero--lightboxTopRow---zayD"},i.createElement("button",{onClick:g,className:uw},i.createElement(ew.In,{icon:"x-32",fill:"menu"}))),i.createElement("div",{className:"hero--lightboxMediumRow---Gopf",onBlur:f},i.createElement("button",{className:uw,disabled:m,onClick:a},i.createElement(ew.In,{icon:"chevron-left-32",fill:m?"menu-disabled":"menu"})),i.createElement("div",{ref:d,style:E,className:s?"hero--lightboxHeroImageWithLetterbox--0kTBx hero--lightboxHeroImage--3orhF":"hero--lightboxHeroImage--3orhF",role:"button",tabIndex:0,onClick:u?l:n},s?i.createElement("div",{className:"hero--lightboxHeroImageWithLetterboxInnerContainer--buJug"},e):e),i.createElement("button",{className:uw,disabled:u,onClick:n},i.createElement(ew.In,{icon:"chevron-right-32",fill:u?"menu-disabled":"menu"}))),i.createElement("div",{className:"hero--lightboxBottomRow--wnrYI"},i.createElement("div",{className:"hero--lightboxControlsContainer--9MZdh"},i.createElement("button",{className:"hero--lightboxControlsRestartButton--mVitF hero--lightboxControlsButton--Ve597 text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",disabled:m,onClick:l},i.createElement(ew.In,{icon:"return-32",fill:m?"menu-disabled":"menu"}),(0,k.tx)("community.resource_page.media_carousel.restart")),i.createElement("button",{className:"hero--lightboxControlsButton--Ve597",disabled:m,onClick:a},i.createElement(ew.In,{icon:"navigate-back-32",fill:m?"menu-disabled":"menu"})),i.createElement("span",{className:"hero--lightboxProgressIndicator--w-JVT text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L"},`${t+1} / ${r}`),i.createElement("button",{className:"hero--lightboxControlsButtonMirrored--8Ljmt hero--lightboxControlsButton--Ve597",disabled:u,onClick:n},i.createElement(ew.In,{icon:"navigate-back-32",fill:u?"menu-disabled":"menu"}))))):null}let ux=i.forwardRef(({index:e,selectedIndex:t,onClick:r,children:a},n)=>i.createElement("div",{ref:n,role:"button",tabIndex:e,onClick:r,className:e===t?"thumbnail--carouselThumbnailSelected--htIXX thumbnail--carouselThumbnailBase--WdkqA":"thumbnail--carouselThumbnail--Gr5mS thumbnail--carouselThumbnailBase--WdkqA"},a));function uN({thumbnailUrl:e,resizedThumbnailUrls:t,resourceId:r,altText:a,isVideo:n}){return i.createElement(i.Fragment,null,i.createElement(oA,{thumbnailUrl:e,resourceId:r,altText:a,thumbnailContext:oN.O7.DETAIL,resizedThumbnailUrls:t}),n&&i.createElement("div",{className:"thumbnail--carouselThumbnailOverlayForVideo--pfKHV"},i.createElement(o7,null)))}function uk(e){let t=(0,oC.XW)(e)?e.name:(0,oo.qD)(e).name;return`${t} preview`}function uS({resource:e,resourceContent:t,is16to9AspectRatio:r}){let a=i.useRef(null),n=i.useRef(null),[l,o]=i.useState(!1),[s,c]=i.useState(0),[d,m]=i.useState(!1),[u,_]=i.useState(!0),p=i.useMemo(()=>(0,oo.N6)(e),[e]),f=function(e,t,r=!1){let a=(0,uy.fq)((0,oC.cX)(e)?oC.eO(e)?.library_key:void 0);return i.useMemo(()=>{let e=void 0===a,n=e?t:a.length;if(n<=1)return[];let i=r?function(e){let t=e,r=[];for(;t>16;)r.push(12),t-=12;return t>12&&(r.push(8),t-=8),t>0&&r.push(t),r}(n):[n],l=[];return i.reduce((t,r)=>{let n=e?[]:a.slice(t,t+r);return l.push({type:"grid",thumbnailUrls:n}),t+r},0),l},[r,t,a])}(e,p.length),g=i.useMemo(()=>[...f,...p],[p,f]),E=i.useRef([]),h=(0,os.lZ)();i.useEffect(()=>{c(f.length)},[f.length,e]);let y=i.useCallback(()=>{a.current&&o(a.current.scrollWidth>a.current.clientWidth)},[]);i.useEffect(y,[y,g.length]),(0,ug.wY)(a,y);let v=i.useCallback(()=>{let e=a.current,t=E.current[g.length-1];if(e&&t){let r=e.getBoundingClientRect(),a=t.getBoundingClientRect();m(e.scrollLeft>0),_(Math.abs(a.right-r.right)>1)}},[g.length]);i.useEffect(()=>{let e=a.current,t=E.current[s];if(e&&t){let r=e.getBoundingClientRect(),a=t.getBoundingClientRect(),n=(()=>{let e=parseInt("32px")/2+parseInt("12px"),t=0===s,n=r.left+(t?0:e);if(a.left<n)return a.left-n;let i=s===g.length-1,l=r.right-(i?0:e);return a.right>l?a.right-l:0})();(0,uE.Lg)()||0===n||e.scrollBy({left:n,behavior:"smooth"})}},[g.length,s]);let b=i.useCallback(()=>{c(e=>Math.max(0,e-1))},[]),w=i.useCallback(()=>{c(e=>Math.min(g.length-1,e+1))},[g.length]),T=i.useCallback(()=>{c(0)},[]),[I,x]=(0,es.fp)(uh);i.useEffect(()=>{let e=n.current;if(!I&&e){E.current[s]?.focus({preventScroll:!0});let t=e=>{let t=!0;"ArrowLeft"===e.key?b():"ArrowRight"===e.key?w():"Enter"===e.key?x(!0):t=!1,t&&e.preventDefault()};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}}},[w,b,s,x,I]);let N=(0,ol.J)(),k=(0,oo.z$)(e),S=(0,oC.cX)(e);if(k===dS.Z4.EMBED||0===g.length)return i.createElement(uL,{resource:e,heroType:k,is16to9AspectRatio:r});let L=s<g.length?g[s]:g[0],A=Object.keys(g).length>1;return i.createElement(i.Fragment,null,function(a){let n=uk(e);switch(a.type){case"image":let[l,o]=oL(a);return i.createElement(i.Fragment,null,i.createElement(uT,{showLetterbox:S,showSlidesPreviewButton:S&&h()},i.createElement(oA,{thumbnailUrl:l,resourceId:e.id,altText:n,thumbnailContext:oN.O7.DETAIL,resizedThumbnailUrls:o})),S?i.createElement(uC,{currentIndex:s,totalItems:g.length,onPrev:b,onNext:w,onRestart:T,showLetterbox:S},i.createElement(oR,{thumbnailUrl:l,altText:n,resourceId:e.id})):i.createElement(uI,{is16to9AspectRatio:r},i.createElement(oR,{thumbnailUrl:l,altText:n,resourceId:e.id})));case"video":return i.createElement("div",{className:"hero--heroVideo--XAdfp hero--heroImage--fwiPW"},i.createElement(oJ,{src:oP(a,t),fallbackSrc:a.url,useHLS:!0,autoPlay:!0,muted:!0,onEnded:()=>{(0,nm.sx)("rdp_video_ended",{community_resource_id:e.id,resouce_type:(0,oC.Vm)(t),searchSessionId:N})}}));case"grid":return i.createElement(i.Fragment,null,i.createElement(uT,{showSlidesPreviewButton:S&&h()},i.createElement(uv,{thumbnailUrls:a.thumbnailUrls,altText:n,size:"hero"})),S?i.createElement(uC,{currentIndex:s,totalItems:g.length,onPrev:b,onNext:w,onRestart:T},i.createElement(uv,{thumbnailUrls:a.thumbnailUrls,altText:n,size:"fullscreen_hero"})):i.createElement(uI,{is16to9AspectRatio:r},i.createElement(uv,{thumbnailUrls:a.thumbnailUrls,altText:n,size:"fullscreen_hero"})));default:(0,C.xb)(a)}}(L),A&&i.createElement("div",{ref:n,className:"resource_page_media_carousel--carouselThumbnailsContainer--YuKP9","data-testid":"rdp-carousel-thumbnails"},i.createElement("div",{ref:a,className:l?"resource_page_media_carousel--carouselThumbnails--VkVVj":"resource_page_media_carousel--centeredCarouselThumbnails--20mlm resource_page_media_carousel--carouselThumbnails--VkVVj",onScroll:v},Object.values(g).map(function(r,a){let n=null,l=uk(e);if("image"===r.type||"video"===r.type){let[t,a]=oL(r);n=i.createElement(uN,{thumbnailUrl:t,resizedThumbnailUrls:a,resourceId:e.id,altText:l,isVideo:"video"===r.type})}else"grid"===r.type?n=i.createElement(uv,{thumbnailUrls:r.thumbnailUrls,altText:l,size:"thumbnail"}):(0,C.xb)(r);return i.createElement(ux,{ref:e=>{E.current[a]=e},key:a,index:a,selectedIndex:s,onClick:()=>{c(a),(0,nm.sx)("CTA Clicked",{name:"Resource Carousel Thumbnail Clicked",community_resource_id:e.id,index:a,media_type:r.type,resouce_type:(0,oC.Vm)(t),searchSessionId:N})}},n)})),l&&d&&i.createElement(i.Fragment,null,i.createElement("div",{className:"resource_page_media_carousel--fadeOutMaskLeft--J1Skk resource_page_media_carousel--fadeOutMask--hqP3b"}),i.createElement("div",{className:"resource_page_media_carousel--carouselArrowLeft--VYt1X resource_page_media_carousel--arrow--5g-tR",role:"button",tabIndex:0,onClick:b},i.createElement(ew.In,{icon:"chevron-left-32"}))),l&&u&&i.createElement(i.Fragment,null,i.createElement("div",{className:"resource_page_media_carousel--fadeOutMaskRight--1NzE3 resource_page_media_carousel--fadeOutMask--hqP3b"}),i.createElement("div",{className:"resource_page_media_carousel--carouselArrowRight--1Dlxa resource_page_media_carousel--arrow--5g-tR",role:"button",tabIndex:0,onClick:w},i.createElement(ew.In,{icon:"chevron-right-32"})))))}function uL({resource:e,heroType:t,is16to9AspectRatio:r}){let a=(0,os.lZ)();if(t!==dS.Z4.EMBED){let t=e.thumbnail_url??void 0,n=(0,oC.XW)(e)?e.thumbnail_src_set:(0,o_.U)(e)&&e.resized_thumbnail_urls,l=(0,oC.cX)(e);return i.createElement(i.Fragment,null,i.createElement(uT,{showSlidesPreviewButton:l&&a()},i.createElement(oA,{thumbnailUrl:t,resourceId:e.id,altText:uk(e),thumbnailContext:oN.O7.DETAIL,resizedThumbnailUrls:n||void 0})),i.createElement(uI,{is16to9AspectRatio:r},i.createElement(oR,{thumbnailUrl:t,altText:uk(e),resourceId:e.id})))}let n=(0,oC.XW)(e)?(0,oC.qY)(e):e;return n?i.createElement("div",{className:"resource_page_media_carousel--canvasViewerWrapper--wZlH-","data-testid":"rdp-embed"},i.createElement(dU,{enableEmbedOnSmallScreens:!0,resource:n})):null}function uA({title:e,description:t,children:r}){return i.createElement("section",{className:M()("collection_section--section--RLij0","collection_section--breadcrumbsPadding--JYTAp")},i.createElement("div",{className:"collection_section--title--tNWji text--fontPos24--YppUD text--_fontBase--QdLsd"},e),!!t&&i.createElement("div",{className:"collection_section--description--UH-JN text--fontPos16--oMC-G text--_fontBase--QdLsd"},t),i.createElement("div",{className:"collection_section--content--rIF8z"},r))}var uR=r(375360);let uP="two_column_resource_page--leftSideRedesign--W3m0M",uF="two_column_resource_page--rightSideRedesignCarousel--d7GTz two_column_resource_page--rightSideRedesign--KsU3v",uO="two_column_resource_page--rightSideRedesignFallbackThumbnail--Ydb1e two_column_resource_page--rightSideRedesign--KsU3v";function uD({title:e,resource:t,meta:r,showCTA:a=!0}){let n=(0,sZ.N)(`(max-width: ${dN.YW}px)`),l=(0,oa.C)(t),o=sP(t,r),s=a?i.createElement(dd,{resource:t,resourceContent:t}):null,c=(0,oo._t)({resource:t}),d=i.createElement(aI.o3,{className:"hero_section--learnMore--a7m3e text--fontPos13--xW8hS text--_fontBase--QdLsd",to:c,trackingEventName:"community_collections",trackingProperties:{href:c},target:"_blank"},(0,k.tx)("community.collections.learn_more")),m=(0,oo.qD)(t),u=i.createElement(db,{resource:t,resourceContent:t});return i.createElement(uA,{title:e},n?i.createElement("div",null,i.createElement(uR.rS,{resource:t,title:o?.title,description:o?.description})):i.createElement("div",{className:"hero_section--section--xyS5J"},i.createElement(aq.Y,{width:"100%",direction:"horizontal",height:"hug-contents",verticalAlignItems:"center",horizontalAlignItems:"center",spacing:"auto"},i.createElement("div",{className:uP},i.createElement(u_,{publishers:t.community_publishers.accepted,resourceHeaderStats:u,CTAButton:s,learnMore:d,title:o?.title??m.name,description:o?.description,openInNewTab:!0})),i.createElement("div",{className:l?uF:uO},i.createElement(uS,{resource:t,resourceContent:t,is16to9AspectRatio:l})))))}var uM=r(407844),uB=r(164795),uU=r(967063);function uV(){let e={id:uB.om.communityResourceInReviewBanner,bannerType:uB.x1.WARN,icon:uU.A,mainText:(0,k.t)("community.collections.unpublished_banner.this_page_is_not_published"),description:(0,k.t)("community.collections.unpublished_banner.only_admins_can_see_this_page"),dismissible:!1,positionStatic:!0};return i.createElement(uM.C,{content:e,onDismiss:p.lQ})}let uW=r(643233).i,uH="resource_bundle_section--resources--h-L7L";function u$({title:e,description:t,resources:r,meta:a}){let n=r.filter(e=>!!e);return n.length?i.createElement(uA,{title:e,description:t},i.createElement("div",{className:uH},n.map(e=>{let t=sP(e,a);return i.createElement(uR.rS,{resource:e,title:t?.title,description:t?.description,key:e.id})}))):null}function uj({title:e,description:t,meta:r,preview:a=!1}){return i.createElement(uA,{title:e,description:t},i.createElement("div",{className:uH},a?"Preview not supported":(r.figjam_ai??[]).map(e=>i.createElement(uW,{title:e.title,description:e?.description??"",imageUrl:e.imageUrl,prompt:e.prompt,promptCategory:e.category,key:`${e.title}-${e.prompt}`}))))}function uG(){let{urlSlug:e}=(0,l0.g)(),[{data:t,status:r}]=(0,_.IT)(sQ({urlSlug:e,isTemplateUrl:function(e){try{return/^\/community\/templates\/.+$/.test(new URL(e).pathname)}catch{return!1}}(c.Ay.location.href)}));return((0,i.useLayoutEffect)(()=>{let t=sF[e];(0,cw.N)(t,s8.LJ)&&c.Ay.replace(new s5.IE({categorySlug:t}).href);let r=sO[e];r&&c.Ay.replace(`/community/collections/${r}`)},[e]),"loading"===r)?null:t?(document.title=t.meta_title||"Collection | Figma",i.createElement(i.Fragment,null,i.createElement(uY,{collection:t}),!(0,s.y3)()&&i.createElement("div",{className:"collection_page--footerContainer--Y-BuI collection_page--pageSections--mndLy"},i.createElement(s7,null)))):i.createElement(cm,null)}function uY({collection:e,preview:t=!1}){return i.createElement(aI.fu,{name:"community_collections",properties:{urlSlug:e.url_slug,title:e.title}},!("published"===e.publishing_status&&e.latest_published_at)&&i.createElement(uV,null),i.createElement("div",{className:"collection_page--page--XgZLM"},i.createElement(cb,{collection:e,preview:t}),!!e.sections.length&&i.createElement("section",{className:"collection_page--pageSectionsRedesign--CwAe3"},e.sections.map((e,r)=>e.section_type===sI.BUNDLE_SECTION&&e.resources?i.createElement(u$,{title:e.title||"",description:e.description||"",resources:e.resources,meta:e.meta,key:r}):e.section_type===sI.HERO_SECTION&&e.resource?i.createElement(uD,{title:e.title||"",resource:e.resource,meta:e.meta,showCTA:!t,key:r}):e.section_type===sI.BUNDLE_SECTION&&e.meta.figjam_ai?i.createElement(uj,{title:e.title||"",description:e.description||"",meta:e.meta,preview:t,key:r}):void 0)),!!e.faqs&&i.createElement(cI,{faqs:e.faqs})))}function uz(){let e=(0,ol.J)(),[t,r]=i.useState();return i.useEffect(()=>c.Ay.listen(()=>{r(e)}),[e]),i.useEffect(()=>{t&&!c.Ay.location.state?.searchSessionId&&c.Ay.replace(null,{...c.Ay.location.state,searchSessionId:t})},[t]),null}function uq(){return(0,i.useEffect)(()=>c.Ay.listen(e=>{"PUSH"===e&&window.scrollTo(0,0)}),[]),null}var uQ=(e=>(e.COLLECTIONS="collections",e.TEMPLATES="templates",e))(uQ||{});class uK extends mj.nS{}uK.path="/community/:collectionType(collections|templates)/:urlSlug",uK.deserializeParams=e=>({...e,collectionType:e.collectionType}),uK.serializeParams=e=>e;class uX extends mj.nS{}uX.path="/community/collections";var uZ=r(697170),uJ=r(954750),u0=r(663691),u1=r(343427);function u2(e){let t;return()=>t??=e()}let u4=u2(function(){return{designTemplates:[{urlSlug:s8.LJ.desktopAppsWebsites,text:(0,k.t)("categories.desktop_apps_websites")},{urlSlug:s8.LJ.mobileApps,text:(0,k.t)("categories.mobile_apps")},{urlSlug:s8.LJ.portfolios,text:(0,k.t)("categories.portfolios")},{urlSlug:s8.LJ.resumes,text:(0,k.t)("categories.resumes")}],libraries:[{urlSlug:s8.LJ.uiKits,text:(0,k.t)("categories.ui_kits")},{urlSlug:s8.LJ.wireframes,text:(0,k.t)("categories.wireframes")}],plugins:[{urlSlug:s8.LJ.editingEffects,text:(0,k.t)("categories.editing_effects")},{urlSlug:s8.LJ.fileOrganization,text:(0,k.t)("categories.file_organization")},{urlSlug:s8.LJ.development,text:(0,k.t)("categories.development")},{urlSlug:s8.LJ.whiteboarding,resourceType:"widgets",text:(0,k.t)("categories.widgets")},{urlSlug:s8.LJ.importExport,text:(0,k.t)("categories.import_export")},{urlSlug:s8.LJ.prototypingAnimation,text:(0,k.t)("categories.prototyping_animation")}],visualAssets:[{urlSlug:s8.LJ.illustrations,text:(0,k.t)("categories.illustrations")},{urlSlug:s8.LJ.icons,text:(0,k.t)("categories.icons")},{urlSlug:s8.LJ.shapesColors,text:(0,k.t)("categories.shapes_colors")}],whiteboarding:[{urlSlug:s8.LJ.brainstorming,text:(0,k.t)("categories.brainstorming")},{urlSlug:s8.LJ.diagramming,text:(0,k.t)("categories.diagramming")},{urlSlug:s8.LJ.funGames,text:(0,k.t)("categories.fun_games")},{urlSlug:s8.LJ.teamMeetings,text:(0,k.t)("categories.team_meetings")},{urlSlug:s8.LJ.strategicPlanning,text:(0,k.t)("categories.strategic_planning")}],presentations:[{urlSlug:s8.LJ.presentations,resourceId:"1382483546106051977",text:(0,k.t)("categories.presentations.pitch_deck")},{urlSlug:s8.LJ.presentations,resourceId:"1382445842871959915",text:(0,k.t)("categories.presentations.product_roadmap")}]}}),u8=u2(function(){return{libraries:{urlSlug:s8.LJ.libraries,text:(0,k.t)("categories.design_libraries"),allText:(0,k.t)("categories.all_design_libraries")},designTemplates:{urlSlug:s8.LJ.designTemplates,text:(0,k.t)("categories.design_templates"),allText:(0,k.t)("categories.all_design_templates")},visualAssets:{urlSlug:s8.LJ.visualAssets,text:(0,k.t)("categories.assets"),allText:(0,k.t)("categories.all_assets")},plugins:{urlSlug:s8.LJ.designTools,resourceType:"plugins",text:(0,k.t)("community.view_bar.plugins"),allText:(0,k.t)("categories.all_plugins")},whiteboarding:{urlSlug:s8.LJ.whiteboarding,text:(0,k.t)("categories.whiteboarding"),allText:(0,k.t)("categories.all_whiteboarding")},presentations:{urlSlug:s8.LJ.presentations,text:(0,k.t)("categories.presentations"),allText:(0,k.t)("categories.all_presentations")}}});function u5(e){return e.resourceId?new oh.ax({resourceId:e.resourceId,apiResourceType:oh.Uo.FILE}).href:e.resourceType&&e.urlSlug?new s5.IE({categorySlug:e.urlSlug},{resource_type:e.resourceType}).href:new s5.IE({categorySlug:e.urlSlug}).href}function u3(e){let t=u5(e);return{key:function(e){let t=e.urlSlug;return e.resourceId?t+"-"+e.resourceId:e.resourceType?t+"-"+e.resourceType:t}(e),text:e.allText?e.allText:e.text,path:t,className:e.allText?N.cx.underline.$:void 0,trackingProps:{trackingEventName:"community_mobile_nav_category_clicked",trackingProperties:{slug:e.urlSlug,url:t}}}}var u9=r(232655);let u6="mobile_flyout_item--mobileFlyoutItem--7KYhr text--fontPos20--Bcz97 text--_fontBase--QdLsd";function u7({navItem:e,onClose:t}){let r={trackingEventName:"mobile_flyout_item_select",trackingProperties:{path:e.path},...e.trackingProps};return i.createElement("div",{className:u6},i.createElement(aI.o3,{key:e.key,to:e.path,onClick:r=>{e.onClick&&e.onClick(r),t()},className:M()(N.cx.colorText.block.$,e.className??""),...r},e.text))}function _e({isExpanded:e,toggleExpanded:t,navItemGroup:r,onClose:a}){let n=i.useRef(null);return i.useEffect(()=>{if(e&&n.current?.style.maxHeight==="0px"){let e=0;n.current.childNodes.forEach(t=>{t instanceof HTMLElement&&(e+=t.offsetHeight)}),n.current.style.maxHeight=`${e}px`}else!e&&n.current&&(n.current.style.maxHeight="0px")},[e]),i.createElement("div",{className:u6},i.createElement("button",{onClick:t,className:N.cx.flex.justifyStart.alignLeft.colorText.itemsCenter.$},r.text,i.createElement(ei.B,{svg:rj.A,className:M()("mobile_flyout_item_group--mobileFlyoutItemGroupCaret--lbbaU",{"mobile_flyout_item_group--mobileFlyoutItemGroupCaretExpanded--P269f":e}),svgClassName:N.cx.w8.h8.$,style:{fill:(0,u9.TD)("default")}})),i.createElement("div",{ref:n,className:"mobile_flyout_item_group--mobileFlyoutSubItems--Ze8c7"},r.children.map(e=>i.createElement(u7,{key:e.key,navItem:e,onClose:a}))))}var _t=r(234269),_r=r(137466);function _a({navItems:e,onClose:t,trackingContext:r}){let[a,n]=i.useState(!1);i.useEffect(()=>{let e=document.body.style.overflow;return document.body.style.overflow="hidden",n(!0),()=>{document.body.style.overflow=e}},[]);let[l,o]=i.useState(null),s={name:"mobile_flyout",...r};return i.createElement(i.Fragment,null,i.createElement("div",{className:"mobile_flyout--mobileFlyoutContainer--Z9i-T",onClick:e=>{e.stopPropagation(),t()}},i.createElement("div",{className:M()("mobile_flyout--mobileFlyout--YX14z",{"mobile_flyout--mobileFlyoutMounted--RUFmS":a}),onClick:e=>e.stopPropagation()},i.createElement(aI.fu,{...s},i.createElement("div",{className:N.cx.flex.justifyBetween.itemsCenter.$},i.createElement(ei.B,{svg:_t.A,className:"mobile_flyout--communitySvgContainer--R6Qs9",style:{fill:(0,u9.TD)("default")},svgClassName:N.cx.w32.h32.$,onClick:e=>{(0,oE.qG)("/community",e,!1),t()}}),i.createElement(ei.B,{svg:_r.A,svgWidth:"18px",onClick:t,style:{fill:(0,u9.TD)("default")}})),i.createElement("div",{className:N.cx.flex.flexWrap.flexColumn.gap2.pt32.$},e.map(e=>"children"in e?i.createElement(_e,{key:e.key,isExpanded:l===e.key,toggleExpanded:()=>o(l===e.key?null:e.key),navItemGroup:e,onClose:t}):i.createElement(u7,{key:e.key,navItem:e,onClose:t})))))))}function _n({showNewIcon:e}){let[t,r]=i.useState(!1),a=function(){let e=function(){let e=u4(),t=u8();return(0,i.useMemo)(()=>[{category:t.libraries,dropdownCategories:e.libraries},{category:t.designTemplates,dropdownCategories:e.designTemplates},{category:t.visualAssets,dropdownCategories:e.visualAssets},{category:t.plugins,dropdownCategories:e.plugins},{category:t.whiteboarding,dropdownCategories:e.whiteboarding},{category:t.presentations,dropdownCategories:e.presentations}],[t,e])}();return(0,i.useMemo)(()=>e.reduce((e,{category:t,dropdownCategories:r})=>{if(!("urlSlug"in t||"resourceId"in t))return e;if(r&&r.length>0){let a=[...r.map(e=>u3(e)),u3(t)];return[...e,{key:t.urlSlug,text:t.text,children:a}]}return[...e,{key:t.urlSlug,text:t.text,path:u5(t)}]},[{key:"home",text:(0,k.t)("community.view_bar.home"),path:"/community"}]),[e])}();return i.createElement("div",{"data-testid":"flyout-category-selector",className:N.cx.p12.flexShrink0.$},t&&i.createElement(_a,{navItems:a,onClose:()=>r(!1),trackingContext:{name:"community_mobile_nav_flyout"}}),i.createElement("button",{className:N.cx.flex.gap6.flexNowrap.fontMedium.colorText.itemsCenter.$,onClick:()=>r(!0)},e?i.createElement(u1.Z,null):i.createElement(ew.In,{icon:"workspace-16"}),i.createElement("span",{className:N.cx.font13.$},(0,k.tx)("community.view_bar.browse"))))}var _i=r(126049);let _l="nav_dropdown_card--linearGradientBackground--lJEst",_o="nav_dropdown_card--animatedImage--K1GI2",_s="nav_dropdown_card--icon--i86uY",_c="nav_dropdown_card--card--byB-G",_d="nav_dropdown_card--smallCard---QRv1",_m=e=>e.backgroundDotted&&e.backgroundFading?_l:e.backgroundDotted?"nav_dropdown_card--dottedBackground--JKonD":e.backgroundDottedSmall?"nav_dropdown_card--dottedBackgroundSmall--SQfOI":e.backgroundFading?_l:void 0,_u={scaleOut:"nav_dropdown_card--scaleOut--qGBOE",slideLeft:"nav_dropdown_card--slideLeft--TxPHT",shuffle:"nav_dropdown_card--shuffle--1xZAE",slideUp:"nav_dropdown_card--slideUp--ihkWb",iconFan:"nav_dropdown_card--iconFan--ujwnb",cardFan:"nav_dropdown_card--cardFan--AxUDL",accordian:"nav_dropdown_card--accordian--vOvt0"};var __=(e=>(e.HALF="HALF",e.FULL="FULL",e))(__||{});function _p(e){let{cardSize:t,title:r,subtitle:a,url:n,animation:l,backgroundColor:o}=e;return i.createElement(aI.jm,{className:"nav_dropdown_card--navDropdownCard--MAs6u","data-card-size":t,trackingEventName:"community_global_nav_category_clicked",trackingProperties:{url:n},onClick:()=>c.Ay.push(n)},i.createElement("div",{className:"nav_dropdown_card--titleAndSubtitle--gq1Eu"},i.createElement("a",{className:"nav_dropdown_card--title--ytbFI text--fontPos13--xW8hS text--_fontBase--QdLsd",href:n,onClick:e=>e.preventDefault()},r),a&&i.createElement("div",{className:"nav_dropdown_card--subTitle--Z3jMj text--fontPos11--2LvXf text--_fontBase--QdLsd"},a)),i.createElement("div",{className:M()("nav_dropdown_card--imagesContainer--BXAtR",_m(e),_u[l]),style:{backgroundColor:o},"data-card-size":t},"accordian"===l&&i.createElement(i.Fragment,null,i.createElement("div",{"data-animation-index":"2",className:_o}),i.createElement("div",{"data-animation-index":"1",className:_o,style:{backgroundColor:e.middleCardColor}}),i.createElement("img",{alt:r,"data-animation-index":"0",...e.images[0],className:M()(e.images[0].className,_o)})),!!l&&"accordian"!==l&&e.images.map((e,t)=>i.createElement("img",{key:t,alt:r,"data-animation-index":t,...e,className:M()(e.className,_o)}))))}var _f=r(349804);function _g({links:e}){return i.createElement("div",{className:"nav_dropdown_list--navDropdownList--WMnxk"},e.map(({route:e,textOverride:t,isBold:r})=>{let a=(0,_f.xF)(e.params.categorySlug);return i.createElement(aI.o3,{trackingEventName:"community_global_nav_category_clicked",to:e.href,key:e.pathname,trackingProperties:{slug:e.params.categorySlug}},i.createElement("div",{className:r?"nav_dropdown_list--navDropdownListLinkBold--TAZNI nav_dropdown_list--navDropdownListLink--fjC8M text--fontPos13--xW8hS text--_fontBase--QdLsd":"nav_dropdown_list--navDropdownListLink--fjC8M text--fontPos13--xW8hS text--_fontBase--QdLsd"},t||a))}))}let _E="nav_category_selector_2--navDropdownContainer--qK25n",_h="nav_category_selector_2--navDropdownCardColumn--bCxFr";function _y(){let{uikitRoute:e,wireframesRoute:t,designTemplatesRoute:r,desktopAppRoute:a,mobileAppRoute:n,portfolioRoute:l,resumeRoute:o,visualAssetsRoute:s,illustrationsRoute:c,iconsRoute:d,shapesColorsRoute:m}=(0,i.useMemo)(()=>({uikitRoute:new s5.IE({categorySlug:s8.LJ.uiKits}),wireframesRoute:new s5.IE({categorySlug:s8.LJ.wireframes}),designTemplatesRoute:new s5.IE({categorySlug:s8.LJ.designTemplates}),desktopAppRoute:new s5.IE({categorySlug:s8.LJ.desktopAppsWebsites}),mobileAppRoute:new s5.IE({categorySlug:s8.LJ.mobileApps}),portfolioRoute:new s5.IE({categorySlug:s8.LJ.portfolios}),resumeRoute:new s5.IE({categorySlug:s8.LJ.resumes}),visualAssetsRoute:new s5.IE({categorySlug:s8.LJ.visualAssets}),illustrationsRoute:new s5.IE({categorySlug:s8.LJ.illustrations}),iconsRoute:new s5.IE({categorySlug:s8.LJ.icons}),shapesColorsRoute:new s5.IE({categorySlug:s8.LJ.shapesColors})}),[]);return i.createElement("div",{className:_E},i.createElement(om.Ay,{mediaQuery:`(min-width: ${io.U1R})`},i.createElement(_p,{cardSize:__.FULL,title:(0,k.t)("categories.ui_kits"),subtitle:(0,k.t)("categories.navbar.ui_kits.subtitle"),url:e.href,animation:"cardFan",images:[{src:(0,u.ck)("c9620888b341fdf8bfcb6cb53ef798b8efd27159"),className:_c},{src:(0,u.ck)("f5921b0ab0398572836ad5724607bab4431bb730"),className:_c}]})),i.createElement(om.Ay,{mediaQuery:`(min-width: ${io.U1R})`},i.createElement(_p,{cardSize:__.FULL,title:(0,k.t)("categories.wireframes"),subtitle:(0,k.t)("categories.navbar.wireframes.subtitle"),url:t.href,animation:"cardFan",images:[{src:(0,u.ck)("da71ee40d7bcd76b5f8857c1694056d19da681b2"),className:_c},{src:(0,u.ck)("d50b185c8aba27a30207c8d938fcd13faadf9f32"),className:_c}]})),i.createElement(om.Ay,{mediaQuery:`(max-width: ${(0,nW.jz)(io.U1R)-1}px)`},i.createElement("div",{className:_h},i.createElement(_p,{cardSize:__.HALF,title:(0,k.t)("categories.ui_kits"),subtitle:(0,k.t)("categories.navbar.ui_kits.subtitle"),url:e.href,animation:"slideUp",images:[{src:(0,u.ck)("c9620888b341fdf8bfcb6cb53ef798b8efd27159"),className:_d}]}),i.createElement(_p,{cardSize:__.HALF,title:(0,k.t)("categories.wireframes"),subtitle:(0,k.t)("categories.navbar.wireframes.subtitle"),url:t.href,animation:"slideUp",images:[{src:(0,u.ck)("d50b185c8aba27a30207c8d938fcd13faadf9f32"),className:_d}]}))),i.createElement(_g,{links:[{route:r,isBold:!0},{route:a},{route:n},{route:l},{route:o}]}),i.createElement(_g,{links:[{route:s,textOverride:(0,k.t)("categories.assets"),isBold:!0},{route:c},{route:d},{route:m}]}))}function _v(){let e=(0,nq.DP)(),{editingEffectsRoute:t,fileOrganizationRoute:r,developmentRoute:a,widgetsRoute:n,pluginsRoute:l,importExportRoute:o,accessibilityRoute:s,prototypingAnimationRoute:c}=(0,i.useMemo)(()=>({editingEffectsRoute:new s5.IE({categorySlug:s8.LJ.editingEffects},{resource_type:"plugins"}),fileOrganizationRoute:new s5.IE({categorySlug:s8.LJ.fileOrganization},{resource_type:"plugins"}),developmentRoute:new s5.IE({categorySlug:s8.LJ.development},{resource_type:"plugins"}),widgetsRoute:new s5.IE({categorySlug:s8.LJ.whiteboarding},{resource_type:"widgets"}),pluginsRoute:new s5.IE({categorySlug:s8.LJ.designTools},{resource_type:"plugins"}),importExportRoute:new s5.IE({categorySlug:s8.LJ.importExport},{resource_type:"plugins"}),accessibilityRoute:new s5.IE({categorySlug:s8.LJ.accessibility},{resource_type:"plugins"}),prototypingAnimationRoute:new s5.IE({categorySlug:s8.LJ.prototypingAnimation},{resource_type:"plugins"})}),[]);return i.createElement("div",{className:_E},i.createElement(om.Ay,{mediaQuery:`(min-width: ${io.U1R})`},i.createElement(_p,{cardSize:__.FULL,title:(0,k.t)("categories.editing_effects"),subtitle:(0,k.t)("categories.navbar.editing_effects.subtitle"),url:t.href,animation:"slideLeft",images:[{src:"dark"===e?(0,u.ck)("c55e977611400609a084e5620d40edc6c50a9a1b"):(0,u.ck)("5c737368bdd000ee52eb78e6424e14baeded37fb"),className:_c,style:{boxShadow:"none"}}]})),i.createElement("div",{className:_h},i.createElement(_p,{cardSize:__.HALF,title:(0,k.t)("categories.file_organization"),subtitle:(0,k.t)("categories.navbar.file_organization.subtitle"),url:r.href,animation:"scaleOut",images:[{src:(0,u.ck)("ea10da5555080d6f61eceb6403aa7c1cef613347"),className:_s}]}),i.createElement(_p,{cardSize:__.HALF,title:(0,k.t)("categories.development"),subtitle:(0,k.t)("categories.navbar.development.subtitle"),url:a.href,animation:"iconFan",images:[{src:(0,u.ck)("33deabb795dc9e08a039e2f0994d68dfb5770cbc"),className:_s},{src:(0,u.ck)("48bc4dd034de8b31df987fa89dbf6a1faa65c194"),className:_s}]})),i.createElement(om.Ay,{mediaQuery:`(min-width: ${io.U1R})`},i.createElement(_p,{cardSize:__.FULL,title:(0,k.t)("categories.widgets"),subtitle:(0,k.t)("categories.navbar.widgets.subtitle"),url:n.href,animation:"shuffle",images:[{src:(0,u.ck)("b1db3193a01e80c6c6875e569a65db5785d85903")},{src:(0,u.ck)("859671379f19079b85b3611c4934611a1c915174")}],backgroundDotted:!0,backgroundFading:!0})),i.createElement(om.Ay,{mediaQuery:`(max-width: ${(0,nW.jz)(io.U1R)-1}px)`},i.createElement("div",{className:_h},i.createElement(_p,{cardSize:__.HALF,title:(0,k.t)("categories.editing_effects"),subtitle:(0,k.t)("categories.navbar.editing_effects.subtitle"),url:t.href,animation:"iconFan",images:[{src:(0,u.ck)("9fed7cff708002c2773ec818595f3c9e6cdd86e6"),className:_s},{src:(0,u.ck)("d32402204d96164f250d67fea5576b7175b3b663"),className:_s}]}),i.createElement(_p,{cardSize:__.HALF,title:(0,k.t)("categories.widgets"),subtitle:(0,k.t)("categories.navbar.widgets.subtitle"),url:n.href,animation:"scaleOut",images:[{src:(0,u.ck)("b1db3193a01e80c6c6875e569a65db5785d85903"),style:{width:"64px"}}],backgroundDottedSmall:!0}))),i.createElement(_g,{links:[{route:l,textOverride:(0,k.t)("categories.more_plugins"),isBold:!0},{route:o},{route:s},{route:c}]}))}function _b(){let e=new s5.IE({categorySlug:s8.LJ.presentations},{editor_type:mz.k.Editors.SLIDES}),[t,r]="staging"===(0,u.Ay)().cluster_name?[{route:new oh.ax({resourceId:"1380690018201193525",apiResourceType:oh.Uo.FILE}),text:(0,k.t)("categories.presentations.pitch_deck"),subText:(0,k.t)("categories.presentations.pitch_deck.description")},{route:new oh.ax({resourceId:"1380614040001429551",apiResourceType:oh.Uo.FILE}),text:(0,k.t)("categories.presentations.product_roadmap"),subText:(0,k.t)("categories.presentations.product_roadmap.description")},{route:new oh.ax({resourceId:"1380608789812079661",apiResourceType:oh.Uo.FILE}),text:(0,k.t)("categories.presentations.research_readout")},{route:new oh.ax({resourceId:"1380608691855352876",apiResourceType:oh.Uo.FILE}),text:(0,k.t)("categories.presentations.all_hands_meeting")},{route:new oh.ax({resourceId:"1380280625154305056",apiResourceType:oh.Uo.FILE}),text:(0,k.t)("categories.presentations.design_review")}]:"prod"===(0,u.Ay)().cluster_name?[{route:new oh.ax({resourceId:"1382483546106051977",apiResourceType:oh.Uo.FILE}),text:(0,k.t)("categories.presentations.pitch_deck"),subText:(0,k.t)("categories.presentations.pitch_deck.description")},{route:new oh.ax({resourceId:"1382445842871959915",apiResourceType:oh.Uo.FILE}),text:(0,k.t)("categories.presentations.product_roadmap"),subText:(0,k.t)("categories.presentations.product_roadmap.description")},{route:new oh.ax({resourceId:"1382481559228932486",apiResourceType:oh.Uo.FILE}),text:(0,k.t)("categories.presentations.research_readout")},{route:new oh.ax({resourceId:"1382859851486347871",apiResourceType:oh.Uo.FILE}),text:(0,k.t)("categories.presentations.all_hands_meeting")},{route:new oh.ax({resourceId:"1383475610293894214",apiResourceType:oh.Uo.FILE}),text:(0,k.t)("categories.presentations.design_review")}]:"local"===(0,u.Ay)().cluster_name?[{route:new s5.IE({categorySlug:s8.LJ.uiKits}),text:(0,k.t)("categories.presentations.pitch_deck"),subText:(0,k.t)("categories.presentations.pitch_deck.description")},{route:new s5.IE({categorySlug:s8.LJ.uiKits}),text:(0,k.t)("categories.presentations.product_roadmap"),subText:(0,k.t)("categories.presentations.product_roadmap.description")},{route:new s5.IE({categorySlug:s8.LJ.uiKits}),text:(0,k.t)("categories.ui_kits")},{route:new s5.IE({categorySlug:s8.LJ.uiKits}),text:(0,k.t)("categories.ui_kits")},{route:new s5.IE({categorySlug:s8.LJ.uiKits}),text:(0,k.t)("categories.ui_kits")}]:[];return i.createElement("div",{className:_E},i.createElement(_p,{cardSize:__.FULL,title:t.text,subtitle:t.subText,url:t.route.href,animation:"accordian",images:[{src:(0,u.ck)("b88b1be49cdff971481ddb424741db908d32e124")}],middleCardColor:"#FFFAD0"}),i.createElement(_p,{cardSize:__.FULL,title:r.text,subtitle:r.subText,url:r.route.href,animation:"accordian",images:[{src:(0,u.ck)("0386cedef8498e1adb43cd3d338558dba27e0961")}],middleCardColor:"#F5F0EC"}),i.createElement(_p,{cardSize:__.FULL,title:(0,k.t)("categories.more_presentations"),subtitle:(0,k.t)("categories.more_presentations.subheader"),url:e.href,animation:"cardFan",images:[{src:(0,u.ck)("c798a639e2b774985f1fcc4677d056b62e9d070d"),className:_c,style:{borderRadius:"4px"}},{src:(0,u.ck)("550755dd0003cb7431de9233c72a37f7569ecad9"),className:_c,style:{borderRadius:"4px"}}]}))}function _w(){let{brainstormingRoute:e,diagrammingRoute:t,funGamesRoute:r,teamMeetingsRoute:a,whiteboardingRoute:n,strategicPlanningRoute:l}=(0,i.useMemo)(()=>({brainstormingRoute:new s5.IE({categorySlug:s8.LJ.brainstorming}),diagrammingRoute:new s5.IE({categorySlug:s8.LJ.diagramming}),funGamesRoute:new s5.IE({categorySlug:s8.LJ.funGames}),teamMeetingsRoute:new s5.IE({categorySlug:s8.LJ.teamMeetings}),whiteboardingRoute:new s5.IE({categorySlug:s8.LJ.whiteboarding}),strategicPlanningRoute:new s5.IE({categorySlug:s8.LJ.strategicPlanning})}),[]);return i.createElement("div",{className:_E},i.createElement(om.Ay,{mediaQuery:`(min-width: ${io.U1R})`},i.createElement(_p,{cardSize:__.FULL,title:(0,k.t)("categories.brainstorming"),subtitle:(0,k.t)("categories.navbar.brainstorming.subtitle"),url:e.href,animation:"cardFan",images:[{src:(0,u.ck)("60a2ac68e6705460d12ac34906f51091a7873a9c"),className:_c},{src:(0,u.ck)("8c15440f329bf3dc8940ad1d2267c4a67e592964"),className:_c}]})),i.createElement("div",{className:_h},i.createElement(_p,{cardSize:__.HALF,title:(0,k.t)("categories.diagramming"),subtitle:(0,k.t)("categories.navbar.diagramming.subtitle"),url:t.href,animation:"slideUp",images:[{src:(0,u.ck)("881b987a3b8af1a1ee08a8316f7688e1bf34376c"),className:_d}],backgroundDottedSmall:!0}),i.createElement(_p,{cardSize:__.HALF,title:(0,k.t)("categories.fun_games"),subtitle:(0,k.t)("categories.navbar.fun_games.subtitle"),url:r.href,animation:"slideUp",images:[{src:(0,u.ck)("7b72cc0729e30a7918fceeb4b4b3a86b4a900e18"),className:_d}],backgroundColor:"#FFE9F2"})),i.createElement(om.Ay,{mediaQuery:`(min-width: ${io.U1R})`},i.createElement(_p,{cardSize:__.FULL,title:(0,k.t)("categories.team_meetings"),subtitle:(0,k.t)("categories.navbar.team_meetings.subtitle"),url:a.href,animation:"cardFan",images:[{src:(0,u.ck)("24ec653794817747706ab7225c4c200e599fc7f8"),className:_c},{src:(0,u.ck)("fcbfaf7de5395838863bf7d8dd3dc5805bb509d6"),className:_c}]})),i.createElement(om.Ay,{mediaQuery:`(max-width: ${(0,nW.jz)(io.U1R)-1}px)`},i.createElement("div",{className:_h},i.createElement(_p,{cardSize:__.HALF,title:(0,k.t)("categories.brainstorming"),subtitle:(0,k.t)("categories.navbar.brainstorming.subtitle"),url:e.href,animation:"slideUp",images:[{src:(0,u.ck)("8c15440f329bf3dc8940ad1d2267c4a67e592964"),className:_d}]}),i.createElement(_p,{cardSize:__.HALF,title:(0,k.t)("categories.team_meetings"),subtitle:(0,k.t)("categories.navbar.team_meetings.subtitle"),url:a.href,animation:"slideUp",images:[{src:(0,u.ck)("fcbfaf7de5395838863bf7d8dd3dc5805bb509d6"),className:_d}]}))),i.createElement(_g,{links:[{route:n,textOverride:(0,k.t)("categories.more_whiteboarding"),isBold:!0},{route:l}]}))}var _T=r(783423);function _I(){return i.createElement("div",{"data-testid":"nav-category-selector",className:"nav_category_selector_2--categorySelector--b-k5b"},i.createElement(_C,{text:(0,k.t)("community.homepage.figma_section.header"),slug:"design_template"},i.createElement(_y,null)),i.createElement(_C,{text:(0,k.t)("categories.plugins"),slug:"plugins"},i.createElement(_v,null)),i.createElement(_C,{text:(0,k.t)("categories.whiteboarding"),slug:"whiteboarding"},i.createElement(_w,null)),i.createElement(_C,{text:(0,k.t)("categories.presentations"),slug:"presentations"},i.createElement(_b,null)))}function _C({text:e,slug:t,children:r,showNewBadge:a}){let[n,l]=i.useState(!1),o=i.useRef(null),s=(0,_i.A)(()=>l(!0),50);return(0,i.useLayoutEffect)(()=>{if(o.current){let e=o.current.getBoundingClientRect().width,t=`${Math.min(150,(document.documentElement.clientWidth-e)/2)}px`;o.current.style.left=t}}),i.createElement("div",{onMouseEnter:()=>{s()},onMouseMove:()=>{n||s()},onMouseLeave:()=>{s.cancel(),l(!1)},role:"button",tabIndex:0,className:N.cx.flex.itemsCenter.$},i.createElement(aI.fu,{name:"Global Nav Category",properties:{slug:t}},i.createElement("div",{className:n?"nav_category_selector_2--navCategorySelectorTextHover--viMyk nav_category_selector_2--navCategorySelectorText--Tkc7a text--fontPos13--xW8hS text--_fontBase--QdLsd":"nav_category_selector_2--navCategorySelectorText--Tkc7a text--fontPos13--xW8hS text--_fontBase--QdLsd"},e,a&&i.createElement("div",{className:"nav_category_selector_2--newBadge--3isz- text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,k.t)("community.badge.new")),i.createElement(ei.B,{svg:_T.A,style:{fill:(0,u9.TD)("default")}})),i.createElement("div",{className:M()("nav_category_selector_2--navDropdownWrapper--UbL1U",{"nav_category_selector_2--navDropdownWrapperHover--SJqCp":n}),onClick:e=>{e.stopPropagation(),l(!1)},ref:o},r)))}let _x=(0,nr.eU)(!1);var _N=r(582064);let _k=(0,nr.eU)({}),_S=(0,nr.eU)({idx:-1}),_L=(0,nr.eU)({}),_A=(0,nr.eU)({idx:-1});function _R(e){let t=e===s8.PF.LANDING?_L:_k,r=e===s8.PF.LANDING?_A:_S,[a,n]=(0,es.fp)(t),[l,o]=(0,es.fp)(r),s=i.useMemo(()=>["files","plugins","widgets","creators"].reduce((e,t)=>{let r=(a?.[t]??[]).map((e,r)=>({type:t,idx:r})).slice(0,4);return e.concat(r)},[]),[a]),c=i.useMemo(()=>s.findIndex(e=>e.type===l?.type&&e.idx===l?.idx),[s,l]);return{renderedOrder:s,renderedSelectedIdx:c,resources:a,setResources:n,selectedIdx:l,setSelectedIdx:o}}var _P=r(440248),_F=r(159696);function _O({query:e,inSearchPath:t,onChange:r,onSubmit:a,inputPlaceholder:n,context:o,className:s,searchIconClassName:c,closeIconClassName:d}){let m=(0,l.wA)(),u=(0,ol.J)(!0),_=(0,i.useRef)(null),{renderedOrder:p,renderedSelectedIdx:f,resources:g,setResources:E,selectedIdx:h,setSelectedIdx:y}=_R(o),v=(0,i.useCallback)(()=>{y({idx:-1})},[y]);return i.createElement("div",{className:s,tabIndex:0,onFocus:()=>{null!==_.current&&_.current.focus(),m(_N.Dy({entryPoint:"community"}))}},i.createElement(ei.B,{svg:_P.A,className:c}),i.createElement("input",{type:"text",value:e,spellCheck:!1,placeholder:n??(0,k.t)("community.search.search_community"),ref:_,onChange:e=>{let n=e.currentTarget.value;r(n),t&&n&&a(n)},onBlur:v,onKeyDown:n=>{let i=n.currentTarget.value.trim();if("Enter"===n.key){if(n.preventDefault(),f>=0&&h.type){let t=g[h.type]?.[h.idx],a="model"in t?new ou.xn({profileHandle:t.model.profile_handle}).href:(0,oo._t)({resource:t});(0,oE.VJ)(a),_.current?.blur(),r(""),E({}),m(_N.ky()),(0,nm.sx)("search_result_clicked",{query:e,resourceType:p[f]?.type,scope:"community",is_preview:!0,index:f,entry_point:"community_via_enter",searchSessionId:u})}else a(i),t&&!i?m(_N.ky()):!t&&i&&m(_N.Je({entryPoint:"community"}))}else if("Escape"===n.key)_.current?.blur();else if(n.keyCode===P.Uz.DOWN_ARROW||n.keyCode===P.Uz.UP_ARROW){n.preventDefault();let e=f===p.length-1?f:f+1,t=f<=0?f:f-1;switch(n.keyCode){case P.Uz.DOWN_ARROW:y(p[e]||{idx:-1});break;case P.Uz.UP_ARROW:y(p[t]||{idx:-1})}}},required:!0}),e&&e.length>0&&i.createElement(ei.B,{svg:_F.A,className:d,onClick:()=>{r(""),t&&a(""),m(_N.ky())}}))}var _D=r(792199),_M=r(367935),_B=r(56714);let _U="search_dropdown--meta--a-aV4",_V="search_dropdown--pluginOrWidgetTilePreview--Rfef1",_W="search_dropdown--section--VJbkB",_H="search_dropdown--sectionTitle--x7FyO",_$="search_dropdown--title--eiIIy",_j="search_dropdown--authorRow--Uk00Y",_G="search_dropdown--authorRowText--vsAii",_Y="search_dropdown--authorRowAvatar--jFZyx",_z="search_dropdown--resourceRowExtension--v4dY8 search_dropdown--resourceRow--P-Lig",_q="search_dropdown--hover--stEGe";function _Q({profiles:e,onResourceClick:t,onResourceHover:r,selectedIdx:a}){return e&&0!==e.length?i.createElement("div",{className:_W},i.createElement("div",{className:_H},(0,k.tx)("community.view_bar.creators")),i.createElement(_K,{profiles:e.map(e=>e.model),onResourceClick:t,onResourceHover:r,selectedIdx:a})):null}function _K({profiles:e,onResourceClick:t,onResourceHover:r,selectedIdx:a}){return i.createElement("div",{className:"search_dropdown--resourceRowProfiles--bz2ck"},e.map((e,n)=>i.createElement("div",{onMouseEnter:()=>r(n),key:e.id,className:M()({[_q]:a===n})},i.createElement(_X,{profile:e,onResourceClick:t}))))}function _X({profile:e,onResourceClick:t}){return i.createElement("div",{className:"search_dropdown--profile--HRd2s",key:e.id},i.createElement(ot.N_,{to:new ou.xn({profileHandle:e.profile_handle}).to,className:"search_dropdown--resourceRowProfile--HScpw",onClick:()=>{document.activeElement.blur(),t()}},i.createElement(lW.e,{adtlClassName:"search_dropdown--profileRowAvatar--TOSBT",entity:e,size:40}),i.createElement("div",{className:"search_dropdown--profileRowName--oRTAf ellipsis--ellipsis--Tjyfa text--fontPos12--YsUAh text--_fontBase--QdLsd"},e.name),i.createElement("div",{className:"search_dropdown--profileRowProfileHandle--DuEYR ellipsis--ellipsis--Tjyfa text--fontPos12--YsUAh text--_fontBase--QdLsd"},"@",e.profile_handle)))}function _Z({resources:e,onResourceClick:t,onResourceHover:r,selectedIdx:a}){let n=(0,l.d4)(e=>"authedActiveCommunityProfile"in e?e.authedActiveCommunityProfile:null);return e&&0!==e.length?i.createElement("div",{className:_W},i.createElement("div",{className:_H},(0,k.tx)("community.view_bar.widgets")),e.slice(0,4).map((e,l)=>{let o=(0,oo.qD)(e);return i.createElement("div",{onMouseEnter:()=>r(l),key:e.id,className:M()({[_q]:a===l})},i.createElement(oE.A6,{to:(0,oo._t)({resource:e}),className:_z,onClick:()=>{document.activeElement.blur(),t()}},i.createElement(op.V,{plugin:o,className:_V,alt:o.name,onError:e=>e.target.src=oo.ZD}),i.createElement("div",{className:_U},i.createElement("div",{className:_$},o.name),i.createElement("div",{className:_j},e.community_publishers.accepted.map(e=>i.createElement(lW.e,{key:e.id,entity:e,size:16,adtlClassName:_Y})),i.createElement("div",{className:_G},(0,ce.Lj)(e)))),(0,or.$3)({resource:e,authedActiveCommunityProfile:n})))})):null}function _J({resources:e,onResourceClick:t,onResourceHover:r,selectedIdx:a}){let n=(0,l.d4)(e=>"authedActiveCommunityProfile"in e?e.authedActiveCommunityProfile:null);return e&&0!==e.length?i.createElement("div",{className:_W},i.createElement("div",{className:_H},(0,k.tx)("community.view_bar.plugins")),e.slice(0,4).map((e,l)=>{let o=(0,oo.qD)(e);return i.createElement("div",{onMouseEnter:()=>r(l),key:e.id,className:M()({[_q]:a===l})},i.createElement(oE.A6,{to:(0,oo._t)({resource:e}),className:_z,onClick:()=>{document.activeElement.blur(),t()}},i.createElement("img",{src:o.redirect_icon_url,className:_V,alt:o.name,onError:e=>e.target.src=oo.ZD}),i.createElement("div",{className:_U},i.createElement("div",{className:_$},o.name),i.createElement("div",{className:_j},e.community_publishers.accepted.map(e=>i.createElement(lW.e,{key:e.id,entity:e,size:16,adtlClassName:_Y})),i.createElement("div",{className:_G},(0,ce.Lj)(e)))),(0,or.$3)({resource:e,authedActiveCommunityProfile:n})))})):null}function _0({resources:e,onResourceClick:t,onResourceHover:r,selectedIdx:a}){let n=(0,l.d4)(e=>"authedActiveCommunityProfile"in e?e.authedActiveCommunityProfile:null);if(!e||0===e.length)return null;let o=(0,u.kc)().cmty_thumbnail_16x9_ar;return i.createElement("div",{className:_W},i.createElement("div",{className:_H},(0,k.tx)("community.view_bar.files")),e.slice(0,4).map((e,l)=>{let s=(0,oo.qD)(e);return i.createElement("div",{onMouseEnter:()=>r(l),key:e.id,className:M()({[_q]:a===l})},i.createElement(oE.A6,{to:(0,oo._t)({resource:e}),className:"search_dropdown--resourceRow--P-Lig",onClick:()=>{document.activeElement.blur(),t()}},i.createElement("img",{src:e.thumbnail_url,className:o?"search_dropdown--fileTilePreview16x9---1A4y":"search_dropdown--fileTilePreview--uCbva",alt:s.name,onError:e=>e.target.src=oo.ZD}),i.createElement("div",{className:_U},i.createElement("div",{className:_$},s.name),i.createElement("div",{className:_j},e.community_publishers.accepted.map(e=>i.createElement(lW.e,{key:e.id,entity:e,size:16,adtlClassName:_Y})),i.createElement("div",{className:_G},(0,ce.Lj)(e)))),(0,or.$3)({resource:e,authedActiveCommunityProfile:n})))}))}let _1=function(e,t){let r;return(...t)=>new Promise(a=>{clearTimeout(r),r=setTimeout(()=>{a(e.apply(e,t))},250)})}((e,t)=>t((0,_D.nC)().filter({query:e,sort_by:mG.e.Search.RELEVANCY}).searchResourcesAndProfiles({resourceType:"mixed",limit:12,isPreview:!0,profileLimit:3})),0);function _2(e){let{query:t,context:r,width:a,clearSearchInput:n}=e,{resources:o,setResources:s,selectedIdx:c,setSelectedIdx:d}=_R(r),m=(0,l.wA)(),u=(0,ol.J)(!0),_=i.useCallback(()=>{m(_N.Pj({})),(0,nm.sx)("search_show_all_clicked",{query:t,scope:"community",entry_point:"community",searchSessionId:u})},[m,t,u]);i.useEffect(()=>{t&&_1(t,m).then(([e,a])=>{let n=e.data.meta.results.map(e=>e.model),i=n.filter(e=>(0,_M.zj)(e)),l=n.filter(e=>(0,_M.bT)(e)).map(_B.I$),o=n.filter(e=>(0,_M.AS)(e)).map(_B.I$);s({files:i,plugins:l,widgets:o,creators:a.data.meta.results.slice(0,3)}),d({idx:-1});let c=r===s8.PF.LANDING?"searchPreviewLanding":"searchPreview",m=l.filter(e=>void 0!==e.roles&&e.roles.is_public).length,_=o.filter(e=>void 0!==e.roles&&e.roles.is_public).length;(0,nm.sx)("search_query_result",{query:t,responseCounts:n.length,scope:"community",entry_point:"community",context:c,searchSessionId:u,files:i.length,private_plugins:l.length-m,private_widgets:o.length-_,public_plugins:m,public_widgets:_,projects:0,teams:0,users:a.data.meta.results.length})}).catch(()=>{})},[t,m,u,r,s,d]);let p=i.useCallback(e=>{(0,nm.sx)("search_result_clicked",{query:t,resourceType:e,scope:"community",is_preview:!0,entry_point:"community",searchSessionId:u}),n(),s({}),m(_N.ky())},[t,m,u,s,n]),f=i.useCallback((e,t)=>{o[t]&&!((o[t]??[]).length<e)&&d({idx:e,type:t})},[o,d]);if(!t)return null;let g=o.files?.length||o.widgets?.length||o.plugins?.length||o.creators?.length,E=(0,nu.Mc)({...nu.qd,query:t});return i.createElement("div",{className:M()("search_dropdown--searchDropdown--HqMrn",{"search_dropdown--searchDropdownLanding--HJ002":r===s8.PF.LANDING,"search_dropdown--categoryNavDropdownResponsiveWidth--HzoIl":"small-responsive"===a}),style:"small-responsive"!==a?{width:`${a}px`}:void 0},i.createElement(_0,{resources:o.files,onResourceClick:()=>p("files"),onResourceHover:e=>f(e,"files"),selectedIdx:c?.type==="files"?c?.idx:null}),i.createElement(_J,{resources:o.plugins,onResourceClick:()=>p("plugins"),onResourceHover:e=>f(e,"plugins"),selectedIdx:c?.type==="plugins"?c?.idx:null}),i.createElement(_Z,{resources:o.widgets,onResourceClick:()=>p("widgets"),onResourceHover:e=>f(e,"widgets"),selectedIdx:c?.type==="widgets"?c?.idx:null}),i.createElement(_Q,{profiles:o.creators,onResourceClick:()=>p("profiles"),onResourceHover:e=>f(e,"creators"),selectedIdx:c?.type==="creators"?c?.idx:null}),g?i.createElement("div",{className:"search_dropdown--searchAllLink--VCaxM text--fontPos12--YsUAh text--_fontBase--QdLsd"},i.createElement(oE.A6,{to:E,onClick:_},(0,k.tx)("community.search.show_all_search_results"))):null)}var _4=r(639685);function _8({query:e,inSearchPath:t,onChange:r,onSubmit:a,inputPlaceholder:n}){let o=i.useRef(null),s=(0,l.wA)(),[c,d]=i.useState(!1);return i.createElement("div",{className:"search_input_mobile--mobileSearchContainer--VsAJK text--fontPos13--xW8hS text--_fontBase--QdLsd"},i.createElement("button",{className:"search_input_mobile--searchIconButton--jvchC",onClick:()=>{c?s(_N.ky()):(o.current?.focus(),s(_N.Dy({entryPoint:"community"}))),d(!c)}},i.createElement(ei.B,{className:"search_input_mobile--searchIcon--ExTte",svg:_4.A})),i.createElement("div",{className:"search_input_mobile--searchInput--bt9OT"},i.createElement("input",{type:"text",value:e,spellCheck:!1,ref:o,placeholder:n??(0,k.t)("community.search.search_community"),onChange:e=>{let n=e.currentTarget.value;r(n),t&&n&&a(n)},onKeyDown:e=>{let r=e.currentTarget.value.trim();"Enter"===e.key?(e.preventDefault(),a(r),o.current?.blur(),t&&!r?s(_N.ky()):!t&&r&&s(_N.Je({entryPoint:"community"}))):"Escape"===e.key&&o.current?.blur()},required:!0}),i.createElement("button",{className:"search_input_mobile--clearInputButton--cjPyc",onClick:e=>{r(""),e.preventDefault()}},"\xd7")))}function _5({onSubmit:e,pathname:t,isMobile:r}){let a=(0,nu.zX)(t)===nu.hX.SEARCH,[n,l]=i.useState(""),o=(0,es.md)(_x);i.useEffect(()=>{let e=(0,nu.wl)();e&&(0,s8.OE)(e)&&e.query&&l(e.query)},[]);let s=(0,_i.A)(e,r?600:400),c=i.useCallback(()=>{l("")},[]);if(!function(e,t){let r=(0,m.ZC)(e);i.useEffect(()=>{e!==nu.hX.SEARCH&&r!==e&&t()},[e,t,r])}(t,c),o&&!n)return null;if(r)return i.createElement(_8,{onChange:l,onSubmit:s,query:n,inSearchPath:a,inputPlaceholder:(0,k.t)("community.search.placeholder")});{let e=n&&!a&&window.innerWidth>800?i.createElement(_2,{query:n,clearSearchInput:c,context:s8.PF.NAV,width:(0,nW.jz)(io.h63)}):null;return i.createElement(og.ms,{preview:e,className:"dropdown_search_input--dropdown--fBh7I dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd",disableRepositioning:!0},i.createElement(_O,{onChange:l,onSubmit:s,query:n,inSearchPath:a,inputPlaceholder:(0,k.t)("community.search.placeholder"),context:s8.PF.NAV,className:"dropdown_search_input--searchInput--ALtDK text--fontPos13--xW8hS text--_fontBase--QdLsd",searchIconClassName:"dropdown_search_input--searchIcon--edfC0",closeIconClassName:"dropdown_search_input--closeIcon--Zfoh0"}))}}function _3(){let e=(0,nu.UH)(),t=!!(e&&(0,s8.OE)(e));return{onSubmit:r=>{r.length?c.Ay.push(function({query:e,view:t,inSearchPath:r}){let a={...nu.qd,editor_type:t?.editor_type||nu.qd.editor_type,resourceType:t?.resourceType||nu.qd.resourceType,price:t?.price||nu.qd.price,query:e};return r&&(a.sort_by=t?.sort_by||nu.qd.sort_by),(0,nu.Mc)(a)}({query:r,view:e,inSearchPath:t})):t&&c.Ay.push("/community")},inSearchPath:t}}function _9(e){let{pathname:t}=(0,l0.zy)(),{onSubmit:r}=_3(),a=e.isMobile??f.Ay.mobile;return i.createElement(_5,{isMobile:a,onSubmit:r,pathname:t})}var _6=r(164377);function _7({parentBackgroundColor:e}){let t=i.useRef(window.history.length-1),[r,a]=i.useState(t.current);return i.useEffect(()=>c.Ay.listen(e=>{"PUSH"===e&&a(e=>e+1)}),[]),i.createElement(_6.f,{onLeftClick:()=>{c.Ay.back(),a(e=>e-1)},onRightClick:()=>{c.Ay.forward(),a(e=>e+1)},isLeftEnabled:r>t.current,isRightEnabled:r<window.history.length-1,parentBackgroundColor:e})}var pe=r(63397),pt=r(950142);function pr(){let e=(0,l.wA)(),t=(0,nA.kc)();return t?.primary_user_id?i.createElement(i.Fragment,null):i.createElement("div",{className:"admin_profile_banner--root--HDfDA"},i.createElement("span",{className:"admin_profile_banner--text--cpDIW text--fontNeg13--7Ebf5 text--_fontBase--QdLsd text--_negText--j9g-L"},t?.org_id?(0,k.tx)("community.banner.browsing_community_as_the_current_profile_name_organization",{profileName:t?.name}):(0,k.tx)("community.banner.browsing_community_as_the_current_profile_name_team",{profileName:t?.name})),i.createElement("div",{className:"admin_profile_banner--closeIconContainer--bm5wf",onClick:()=>{e((0,pe.rO)())}},i.createElement(ei.B,{svg:pt.A,className:"admin_profile_banner--close--ib2wO"})))}var pa=r(679282);function pn(){return i.createElement("div",{className:N.cx.flex.flexShrink0.alignCenter.alignCenter.gap16.$},i.createElement(aI.$z,{className:"auth_buttons--logInButton--ln482 shared--_button--qcVz- text--fontPos11--2LvXf text--_fontBase--QdLsd",trackingProperties:{trackingDescriptor:ed.c.LOGGED_OUT_NAV_LOGIN},onClick:()=>(0,cj.FL)(c$.qB.SIGN_IN,{preventDefaultRedirect:!0}),type:"button"},(0,k.t)("community.signed_out_modal.log_in")),i.createElement(aI.$z,{className:"auth_buttons--signUpButton--lM9GB shared--_button--qcVz- text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:()=>(0,cj.FL)(c$.qB.SIGN_UP,{preventDefaultRedirect:!0}),trackingProperties:{trackingDescriptor:ed.c.LOGGED_OUT_NAV_SIGN_UP},type:"button"},(0,k.t)("community.signed_out_modal.sign_up")))}function pi(){return i.createElement("svg",{className:"svg",width:"38",height:"57",viewBox:"0 0 38 57",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M19 28.5c0-5.247 4.253-9.5 9.5-9.5 5.247 0 9.5 4.253 9.5 9.5 0 5.247-4.253 9.5-9.5 9.5-5.247 0-9.5-4.253-9.5-9.5z",fillRule:"nonzero",fillOpacity:"1",fill:"#1abcfe",stroke:"none"}),i.createElement("path",{d:"M0 47.5C0 42.253 4.253 38 9.5 38H19v9.5c0 5.247-4.253 9.5-9.5 9.5C4.253 57 0 52.747 0 47.5z",fillRule:"nonzero",fillOpacity:"1",fill:"#0acf83",stroke:"none"}),i.createElement("path",{d:"M19 0v19h9.5c5.247 0 9.5-4.253 9.5-9.5C38 4.253 33.747 0 28.5 0H19z",fillRule:"nonzero",fillOpacity:"1",fill:"#ff7262",stroke:"none"}),i.createElement("path",{d:"M0 9.5C0 14.747 4.253 19 9.5 19H19V0H9.5C4.253 0 0 4.253 0 9.5z",fillRule:"nonzero",fillOpacity:"1",fill:"#f24e1e",stroke:"none"}),i.createElement("path",{d:"M0 28.5C0 33.747 4.253 38 9.5 38H19V19H9.5C4.253 19 0 23.253 0 28.5z",fillRule:"nonzero",fillOpacity:"1",fill:"#a259ff",stroke:"none"}))}function pl({showCommunityText:e}){return i.createElement("div",{className:M()("homepage_link--homepageLinkContainer---EZRJ",{"homepage_link--rightBorder--hQMW-":!e})},i.createElement(aI.o3,{trackingEventName:"community_nav_click_communitiy_heading",to:"/community",className:N.cx.font14.fontSemiBold.lh24.flex.flexNowrap.$},i.createElement("div",{className:"homepage_link--logoLinkWrapper---5vec"},i.createElement(pi,null)),e&&(0,k.t)("community.community")))}let po=r(754915).i,ps=r(264488).Xg;function pc({}){let e=(0,dI.M)(),t=!!s.eD||(0,o.ce)(),r=(0,sZ.N)(`(max-width: ${io._C6})`),a=(0,es.md)(cj.U8).mounted,n=(0,nW.jz)(io.qvA)+(t?(0,nW.jz)(io.ngI):0),d=(0,sZ.N)(`(max-width: ${n}px)`),m=(0,sZ.N)(`(max-width: ${io.g8m})`),_=i.useRef(null),p=(0,s8.OE)((0,nu.wl)(location.pathname)),f=!1,g=i.useCallback(e=>{},[]),E=null;return p=(0,l.d4)(e=>e?.selectedView?.view==="search"),f=(0,l.d4)(e=>e.communityHub.showingCommunityAdminBanner),g=(0,es.fp)(uJ.A)[1],E=(0,nA.kc)(),i.useLayoutEffect(()=>{g(_.current?.getBoundingClientRect())},[g]),i.createElement(i.Fragment,null,i.createElement("div",{className:"navbar--navbarContainer--4keOh",id:"cmty-consolidated-navbar","data-redesigned-navbar":!0},a&&!(0,u.kc)().iframe_triggered_one_tap&&i.createElement(pa.PQ,{origin:uZ.DT.COMMUNITY,iFrameHandler:e=>{(0,cj.I9)({type:u0.t,options:{redirectUrl:c.Ay.location.pathname+c.Ay.location.search}}),(0,cj.I9)({type:u0.a,userInfo:e,redirectUrl:c.Ay.location.pathname,origin:uZ.DT.COMMUNITY})}}),i.createElement("div",{className:"navbar--leftNav--ndjh7"},e&&i.createElement("div",{className:"navbar--accountAndNotificationsContainer--P-BiH"},i.createElement(ps,{hideNotifications:r})),t&&i.createElement("div",{className:"navbar--navigationChevronsContainer--RLmsc"},i.createElement(_7,null)),i.createElement(pl,{showCommunityText:!1}),m?i.createElement(_n,{showNewIcon:!0}):i.createElement("div",{className:"navbar--navCategoriesContainer--PN1Ov"},i.createElement(_I,null))),i.createElement("div",{className:"navbar--rightNav--Shg9M"},i.createElement("div",{className:"navbar--searchInputContainer--wsxXk"},i.createElement(_9,{isMobile:d})),e?i.createElement(i.Fragment,null,E&&!r&&i.createElement(po,null)):i.createElement(pn,null))),f&&!p&&i.createElement(pr,null))}let pd="feed_controls--feedFilterDropdown--0rv-X dropdown--selectDropdown--Lqj6J dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd";function pm({onUpdate:e,value:t,isSearch:r}){return i.createElement(og.A5,{name:(0,k.t)("community.landing_page.dropdown_filter__creators"),onUpdate:([t])=>{e(t)},options:[function(e){let t=!e&&(0,dI.M)();return[{key:mY.Z.ALL,label:(0,k.t)("community.view_bar.all_creators")},t?{key:mY.Z.FOLLOWING,label:(0,k.t)("community.view_bar.following")}:null,{key:mY.Z.FIGMA_PARTNER,label:(0,k.t)("community.view_bar.figma_partners_only")}].filter(Boolean)}(!!r)],initialValues:[t],adtlClassName:pd})}var pu=r(251960);function p_({onUpdate:e,editorType:t,resourceType:r,allowedEditorTypes:a}){let n,l,o,s,c;return a&&1===a.length?null:i.createElement(og.A5,{name:(0,k.t)("community.landing_page.dropdown_filter__editor"),onUpdate:([t])=>{e(t)},initialValues:[t],adtlClassName:pd,dataOnboardingKey:"community_feed_product_filter",onClick:()=>{(0,nm.sx)("editor_type_filter_clicked")},options:[(n=!0,l=!0,o=r===mq.L.BrowseResourceTypes.MIXED||r===mq.L.BrowseResourceTypes.FILES,s=!1,c=!1,(0,os.Oh)()?a&&a.length>0&&(n=a.includes(mz.k.Editors.FIGMA),l=a.includes(mz.k.Editors.FIGJAM),o=a.includes(mz.k.Editors.SLIDES)&&o):(s=r===mq.L.BrowseResourceTypes.MIXED||r===mq.L.BrowseResourceTypes.PLUGINS,c=r===mq.L.BrowseResourceTypes.FILES),[{key:mz.k.Editors.ALL,label:(0,k.t)("community.landing_page.sort.all_products")},n?{key:mz.k.Editors.FIGMA,label:(0,k.t)("general.figma_design")}:null,s?{key:mz.k.Editors.DEV_MODE,label:(0,k.t)("community.view_bar.dev_mode")}:null,c?{key:mz.k.Editors.PROTOTYPE,label:(0,k.t)("community.view_bar.figma_prototype")}:null,l?{key:mz.k.Editors.FIGJAM,label:(0,k.t)("community.view_bar.fig_jam")}:null,o?{key:mz.k.Editors.SLIDES,label:(0,k.t)("community.view_bar.slides")}:null].filter(Boolean))]})}function pp({onUpdate:e,value:t}){return i.createElement(og.A5,{name:(0,k.t)("community.landing_page.dropdown_filter__paid"),onUpdate:([t])=>{e(t)},adtlClassName:pd,initialValues:[t],options:[[{key:m$.C.ALL,label:(0,k.t)("community.landing_page.sort.paid_and_free")},{key:m$.C.PAID,label:(0,k.t)("community.landing_page.sort.paid")},{key:m$.C.FREE,label:(0,k.t)("community.landing_page.sort.free")}]]})}function pf({onUpdate:e,resourceType:t,isSearch:r,editorType:a}){return i.createElement(og.A5,{name:(0,k.t)("community.landing_page.dropdown_filter__resource_type"),onUpdate:([t])=>{e(t)},initialValues:[t],adtlClassName:pd,options:[function(e,t){if(!e&&t===mz.k.Editors.DEV_MODE)return[{key:mq.L.BrowseResourceTypes.PLUGINS,label:(0,k.t)("community.view_bar.plugins")}];if(!e&&t===mz.k.Editors.PROTOTYPE||!e&&t===mz.k.Editors.SLIDES)return[{key:mq.L.BrowseResourceTypes.FILES,label:(0,k.t)("community.view_bar.files")}];let r=[{key:mq.L.BrowseResourceTypes.MIXED,label:(0,k.t)("community.view_bar.all_resources")},{key:mq.L.BrowseResourceTypes.FILES,label:(0,k.t)("community.view_bar.files")},{key:mq.L.BrowseResourceTypes.PLUGINS,label:(0,k.t)("community.view_bar.plugins")},{key:mq.L.BrowseResourceTypes.WIDGETS,label:(0,k.t)("community.view_bar.widgets")}];return e&&r.push({key:"profiles",label:(0,k.t)("community.view_bar.creators")}),r}(r,a)]})}function pg({onUpdate:e,value:t,isSearch:r,price:a}){return i.createElement(og.A5,{name:(0,k.t)("community.curated_page.sort"),onUpdate:([t])=>e(t),initialValues:[t],options:[function(e,t){let r=[{key:mG.e.Shared.POPULAR,label:(0,k.t)("community.landing_page.sort.trending")},{key:mG.e.Shared.ALL_TIME,label:(0,k.t)("community.curated_page.popular")},{key:mG.e.Shared.PUBLISHED_AT,label:(0,k.t)("community.landing_page.sort.recent")}];return e&&(r.unshift({key:mG.e.Search.RELEVANCY,label:(0,k.t)("community.landing_page.sort.relevancy")}),t!==m$.C.FREE&&r.push({key:mG.e.Search.PRICE_DESC,label:(0,k.t)("community.landing_page.sort.price_high_to_low")},{key:mG.e.Search.PRICE_ASC,label:(0,k.t)("community.landing_page.sort.price_low_to_high")})),r}(r,a)]})}function pE({filterState:e,onUpdate:t,containerRef:r,context:a,allowedEditorTypes:n}){let{resourceType:l,editorType:o=mz.k.Editors.ALL,price:s,sortBy:c,creators:d=mY.Z.ALL}=e,m=(0,sZ.N)(`(max-width: ${io._C6})`);return"search"===a&&"profiles"===l?null:i.createElement("div",{className:"feed_controls--feedFilterControls--eiYSY","data-resource-type":l,ref:r,"data-feed-filter-context":a},i.createElement("div",{className:"feed_controls--leftSideControls--Xr-DO"},"category"===a&&i.createElement("div",{className:N.cx.flex.itemsCenter.font13.fontMedium.$},(0,k.tx)("categories.filter_by")),i.createElement(om.Ay,{mediaQuery:`(min-width: ${io.glm})`},"profiles"!==l&&i.createElement(p_,{onUpdate:e=>{let r=[{key:"editorType",value:e}];(0,os.Oh)()||"search"===a||(e===mz.k.Editors.DEV_MODE?r.push({key:"resourceType",value:mq.L.BrowseResourceTypes.PLUGINS}):(e===mz.k.Editors.SLIDES||e===mz.k.Editors.PROTOTYPE)&&r.push({key:"resourceType",value:mq.L.BrowseResourceTypes.FILES})),"search"!==a&&e===mz.k.Editors.SLIDES&&r.push({key:"resourceType",value:mq.L.BrowseResourceTypes.FILES}),t(r),(0,nm.sx)("editor_type_filter_changed",{editor_type:e,from:o})},editorType:o,resourceType:l,allowedEditorTypes:(0,os.Oh)()?n:void 0})),("explore"===a||"redesigned-homepage"===a||"category"===a||m)&&(o!==mz.k.Editors.SLIDES?i.createElement(pf,{onUpdate:e=>{let r=[{key:"resourceType",value:e}];o===mz.k.Editors.PROTOTYPE&&e!==mq.L.BrowseResourceTypes.FILES&&r.push({key:"editorType",value:mz.k.Editors.ALL}),t(r),(0,nm.sx)("resource_type_filter_changed",{resource_type:e,from:l})},resourceType:l,isSearch:"search"===a,editorType:o}):o===mz.k.Editors.SLIDES&&l!==mq.L.BrowseResourceTypes.FILES?(t([{key:"resourceType",value:mq.L.BrowseResourceTypes.FILES}]),null):void 0),i.createElement(pp,{onUpdate:e=>{let r=[{key:"price",value:e}];e===m$.C.FREE&&(c===mG.e.Search.PRICE_ASC||c===mG.e.Search.PRICE_DESC)&&r.push({key:"sortBy",value:mG.e.Shared.POPULAR}),t(r),(0,nm.sx)("price_filter_changed",{price:e,from:s})},value:s}),("search"===a||"category"!==a&&!(0,u.kc)().cmty_feed_resource_platform)&&i.createElement(om.Ay,{mediaQuery:`(min-width: ${io.ltq})`},i.createElement(pm,{onUpdate:e=>{t([{key:"creators",value:e}]),(0,nm.sx)("creators_filter_changed",{creators:e,from:d})},value:d,isSearch:"search"===a}))),"category"!==a&&"profiles"!==l&&i.createElement(pg,{onUpdate:e=>{t([{key:"sortBy",value:e}]),(0,nm.sx)("ranking_type_filter_changed",{ranking_type:e})},value:c,isSearch:"search"===a,price:s}))}r(218997),r(15839);var ph=r(976999);function py(){return i.createElement("div",{className:"resource_loading_row--loadingRow--o1YwH","data-testid":"resource-loading-row"},i.createElement(ph.Qp,{className:"resource_loading_row--loadingRowImage--KGDsz",animationType:ph.JR.NO_SHIMMER}),i.createElement("div",{className:"resource_loading_row--loadingRowMeta--T19Be"},i.createElement(ph.Wi,{className:"resource_loading_row--loadingTitleText--qN-3G",animationType:ph.JR.NO_SHIMMER}),i.createElement(ph.Wi,{className:"resource_loading_row--loadingSubTitleText--26zTk",animationType:ph.JR.NO_SHIMMER})))}function pv({plugins:e,onIntersectionChange:t,isOrgTeamBrowsing:r,isLoading:a,loadingRowCount:n=10}){return i.createElement("div",{className:N.cx.wFull.$,"data-testid":"plugin-list"},a?(0,lR.y1)(n).map(e=>i.createElement(py,{key:e})):e.map((e,a)=>i.createElement(sf,{key:`plugin-row-${e.id}`,resource:e,onIntersectionChange:r=>t(e,r.isIntersecting),isOrgTeamBrowsing:r,index:a})))}function pb(){return i.createElement("div",{className:N.cx.flex.flexColumn.gap12.$,"data-testid":"resource-loading-tile"},i.createElement("div",{className:"resource_loading_tile--loadingImageWrapper--J9BDB"},i.createElement(ph.Qp,{className:"resource_loading_tile--loadingImage--yFmKa",animationType:ph.JR.NO_SHIMMER})),i.createElement("div",{className:N.cx.flex.flexColumn.gap4.$},i.createElement(ph.Wi,{className:"resource_loading_tile--loadingTitleText--osfVq",animationType:ph.JR.NO_SHIMMER}),i.createElement(ph.Wi,{className:"resource_loading_tile--loadingSubTitleText--B4vzW",animationType:ph.JR.NO_SHIMMER})))}var pw=r(999021);function pT({resource:e}){let t=null,r=(0,oC.Vm)(e);return[dn.vt.DESIGN_TEMPLATE,dn.vt.FIGJAM_TEMPLATE,dn.vt.PROTOTYPE,dn.vt.SLIDE_TEMPLATE,dn.vt.UI_KIT,dn.vt.SITE_TEMPLATE].includes(r)?e.thumbnail_url?t=i.createElement(pw.c,{srcSet:"",src:e.thumbnail_url,image_type:"COMMUNITY_RESOURCE_THUMBNAIL",alt:e.name,imageProps:{loading:"lazy",className:"resource_tile--thumbnailImage--RJCYv"}}):(0,cW.$D)(af.e.COMMUNITY,Error("ResourceTileImage: resource has no thumbnail_url")):[dn.vt.PLUGIN,dn.vt.WIDGET].includes(r)&&(e.icon_url?t=i.createElement("div",{className:"resource_tile--iconWrapper--K9Ds6"},i.createElement(oI.oW,{className:M()({"resource_tile--pluginIcon--jtOsZ":r===dn.vt.PLUGIN,"resource_tile--widgetIcon--G6Tsn":r===dn.vt.WIDGET}),alt:e.name,src:e.icon_url,loading:"lazy"}),r===dn.vt.PLUGIN&&i.createElement("div",{className:"resource_tile--pluginTaglineOrDescription--kfqm7 text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,od.G8)(e))):(0,cW.$D)(af.e.COMMUNITY,Error("ResourceTileImage: resource has no icon_url"))),i.createElement("div",{className:"resource_tile--resourceTileImageContainer--s9lq8"},t)}function pI({resource:e,onIntersectionChange:t,isMetaHidden:r,index:a}){let n=(0,ol.J)(),l=(0,os.pV)();return i.createElement("div",{className:"resource_tile--resourceTile--SiKPd","data-testid":"community-resource-tile"},i.createElement(sg.a,{callback:e=>{e[0]&&t(e[0])}}),i.createElement(oE.A6,{to:e.rdp_url,onClick:()=>{(0,od.cB)(e.resource_type,e.id,a,n)},className:"resource_tile--resourceTileLink--6Aeyd"},i.createElement(pT,{resource:e}),!r&&i.createElement(sh.Mr,{resource:e,showMonetizationBadge:!l})),!r&&i.createElement(ow.my,{resource:e}))}let pC="resource_tile_group--resourceTileGroup--gpDUh",px="resource_tile_group--resourceTileGroupCarousel--Cy8Oc",pN="resource_tile_group--carouselCardWrapper--xwpG5";function pk({showCarousel:e,loadingTileCount:t}){return i.createElement(i.Fragment,null,(0,lR.y1)(t).map(t=>i.createElement("div",{key:t,className:M()({[pN]:e},N.cx.p1.$)},i.createElement(pb,{key:t}))))}function pS({resources:e,showCarousel:t,onIntersectionChange:r}){return i.createElement(i.Fragment,null,e.map((e,a)=>i.createElement("div",{key:e.id,className:M()({[pN]:t},N.cx.p1.$)},(0,oC.ws)(e)?i.createElement(pI,{resource:e,index:a,onIntersectionChange:t=>r(e,t.isIntersecting),subView:"communityHomepage"}):i.createElement(sh.fz,{resource:e,index:a,onIntersectionChange:t=>r(e,t.isIntersecting),subView:"communityHomepage"}))))}function pL({resources:e,maxGridDim:t,mobileMaxGridDim:r={rows:1},onIntersectionChange:a,mobileBreakpoint:n=io.ikM,xScrollLocked:l=!0,isLoading:o,loadingTileCount:s=6,skipResourceLimit:c=!1}){let d=(0,sZ.N)(`(max-width: ${n})`),{rows:m,cols:u}=d&&r?r:t,_=o?s:e.length;if(!_)return null;u&&!m?m=Math.floor(_/u):m&&!u&&(u=Math.floor(_/m));let p=(u=u||1)*(m=m||1);_<p&&(m=Math.ceil(_/u),p=u*m);let f=c?e:e.slice(0,p),g=!!(d&&u&&u>1);if(l)return i.createElement("div",{className:M()(pC,{[px]:g}),style:{gridTemplateColumns:g?`repeat(${u}, 1fr)`:`repeat(${u}, minmax(0, 1fr))`},"data-testid":"resource-tile-group"},o?i.createElement(pk,{showCarousel:g,loadingTileCount:p}):i.createElement(pS,{resources:f,showCarousel:g,onIntersectionChange:a}));let E=f.reduce((e,t,r)=>{Math.floor(r/u)>e.length-1&&e.push([]);let a=e[e.length-1];return a&&a.push(t),e},[]);return i.createElement("div",{className:"resource_tile_group--nestedResourceTileGroup--PFO-3"},E.slice(0,m).map((e,t)=>i.createElement("div",{key:t,className:M()(pC,{[px]:g}),style:{gridTemplateColumns:`repeat(${u}, 1fr)`,gridTemplateRows:"1"},"data-testid":"resource-tile-group"},o?i.createElement(pk,{showCarousel:g,loadingTileCount:u}):i.createElement(pS,{resources:e,showCarousel:g,onIntersectionChange:a}))))}var pA=r(897088);function pR({editorType:e,resourceType:t,price:r,sortBy:a,limit:n,creators:l,category:o,tags:s},c=!0){let[d,m]=i.useState([]),[u,_]=i.useState(!1),[p,f]=i.useState(null),[g,E]=i.useState(),h=i.useRef((0,_D.nC)()),y=(0,i.useCallback)(async()=>{if(g?.next_page){_(!0),f(null);try{let e=await (0,sj.GD)(g.next_page);m(t=>[...t,...e.data.meta.resources]),E(e.data.pagination)}catch(e){console.error("Error fetching popular resources",e),f(e)}finally{_(!1)}}},[g]);return i.useEffect(()=>{let i=async()=>{_(!0),f(null);try{var i;let c=await h.current.filter({editor_type:(i={editorType:e,resourceType:t,price:r,sortBy:a,limit:n,creators:l,category:o,tags:s}).editorType,price:i.price,creators:i.creators,sort_by:i.sortBy,category:i.category,tags:i.tags}).browse(t,n??pA.b);m(c.data.meta.resources),E(c.data.pagination)}catch(e){console.error("Error fetching popular resources",e),f(e)}finally{_(!1)}};c&&i()},[t,e,r,a,n,l,o,c,s]),{resources:d,loading:u,error:p,loadMore:y,canLoadMore:h.current.isMoreToFetch(g)&&d.length>0}}let pP="all_resources--allResources--vIYK6",pF=()=>({sortBy:(0,mG.H)(),editorType:mz.k.Editors.ALL,price:m$.C.ALL,resourceType:mq.L.BrowseResourceTypes.MIXED});function pO(e){let t;let{sortBy:r,editorType:a,price:n,resourceType:i}=e,l=[],o=!1;return i===mq.L.BrowseResourceTypes.FILES?l=[dn.vt.DESIGN_TEMPLATE,dn.vt.FIGJAM_TEMPLATE,dn.vt.SLIDE_TEMPLATE,dn.vt.UI_KIT]:i===mq.L.BrowseResourceTypes.PLUGINS?(l=[dn.vt.PLUGIN],o=!0):i===mq.L.BrowseResourceTypes.WIDGETS&&(l=[dn.vt.WIDGET]),a===mz.k.Editors.FIGMA?t=mm.q.DESIGN:a===mz.k.Editors.FIGJAM?t=mm.q.WHITEBOARD:a===mz.k.Editors.SLIDES?t=mm.q.SLIDES:a===mz.k.Editors.DEV_MODE?t=mm.q.DEV_HANDOFF:a===mz.k.Editors.PROTOTYPE&&(l=[dn.vt.PROTOTYPE]),{sortBy:r,editorType:t,price:n,resourceType:l,caller:cY.z.HOMEPAGE,pageSize:pA.b,includeContent:o}}function pD({onIntersectionChange:e}){let t=(0,sZ.N)(`(max-width: ${io.ikM})`),r=(0,sZ.N)(`(max-width: ${io.g8m})`),[a,n]=(0,i.useState)(pF());(0,i.useEffect)(()=>{t&&n(pF())},[t]);let[{data:o,status:s,hasNextPage:c,isFetchingNextPage:d},{fetchNextPage:m}]=(0,_.IT)(cY.a.ResourcesPaginatedQuery(pO(a))),u="loading"===s,p=(0,i.useRef)(null),f=(0,l.d4)(e=>!!(e.authedActiveCommunityProfile?.team_id||e.authedActiveCommunityProfile?.org_id)),g=a.resourceType===mq.L.BrowseResourceTypes.PLUGINS&&(o??[]).every(e=>e.resource_type===dn.vt.PLUGIN),E=[];return g&&(E=(o??[]).map(e=>e.content?.plugin).filter(e=>void 0!==e)),i.createElement("div",{className:pP},!t&&i.createElement(pE,{containerRef:p,filterState:a,onUpdate:e=>{let t={};e.forEach(({key:e,value:r})=>{t[e]=r}),n(e=>({...e,...t}))},context:"redesigned-homepage"}),g?i.createElement(pv,{plugins:E,onIntersectionChange:e,isOrgTeamBrowsing:f,isLoading:u}):i.createElement(pL,{resources:o??[],maxGridDim:r?{cols:2}:{cols:3},mobileMaxGridDim:{cols:1},onIntersectionChange:e,isLoading:u}),(o?.length??0)>0&&!t&&i.createElement(cr,{onClick:e=>{e.preventDefault(),m()},isLoading:d,isMoreToFetch:!!c}))}function pM({onIntersectionChange:e}){let t=(0,sZ.N)(`(max-width: ${io.ikM})`),r=(0,sZ.N)(`(max-width: ${io.g8m})`),[a,n]=(0,i.useState)(!0),[o,s]=(0,i.useState)(pF());(0,i.useEffect)(()=>{t&&s(pF())},[t]);let{resources:c,loadMore:d,canLoadMore:m,loading:u}=pR(o),_=(0,i.useRef)(null),p=(0,l.d4)(e=>!!(e.authedActiveCommunityProfile?.team_id||e.authedActiveCommunityProfile?.org_id));(0,i.useEffect)(()=>{a&&!u&&n(!1)},[a,u]);let f=o.resourceType===mq.L.BrowseResourceTypes.PLUGINS&&c.every(e=>"is_widget"in e&&!e.is_widget);return i.createElement("div",{className:pP},!t&&i.createElement(pE,{containerRef:_,filterState:o,onUpdate:e=>{let t={};e.forEach(({key:e,value:r})=>{t[e]=r}),s(e=>({...e,...t}))},context:"redesigned-homepage"}),f?i.createElement(pv,{plugins:c,onIntersectionChange:e,isOrgTeamBrowsing:p,isLoading:a}):i.createElement(pL,{resources:c,maxGridDim:r?{cols:2}:{cols:3},mobileMaxGridDim:{cols:1},onIntersectionChange:e,isLoading:a}),m&&!t&&i.createElement(cr,{onClick:e=>{e.preventDefault(),d()},isLoading:u,isMoreToFetch:m}))}var pB=r(134288),pU=r(659302);function pV({isRedesignedHomepage:e}){let t=(0,sZ.N)(`(max-width: ${io.Ero})`),r=(0,sZ.N)(`(max-width: ${io.ikM})`),{onSubmit:a,inSearchPath:n}=_3(),[l,o]=i.useState(""),s=(0,_i.A)(a,400),c=i.useCallback(()=>{o("")},[]),d=!l||n||(e?r:t)?null:i.createElement("div",{className:e?"homepage_dropdown_search_input--redesignedHomepageDropdownContentsPositionWrapper--qJcZD":void 0},i.createElement(_2,{query:l,clearSearchInput:c,context:s8.PF.LANDING,width:(0,nW.jz)(io.eZi)}));return i.createElement("div",{className:e?"homepage_dropdown_search_input--redesignedHomepageSearchContainer--x42a- text--fontPos13--xW8hS text--_fontBase--QdLsd":"homepage_dropdown_search_input--homepageDropdownSearchContainer--OEViU"},i.createElement(og.ms,{preview:d,className:e?"homepage_dropdown_search_input--redesignedHomepageDropdown--AsdzI dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd":"homepage_dropdown_search_input--dropdown--qY5GH dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd",disableRepositioning:!0},i.createElement(_O,{onChange:o,onSubmit:s,query:l,inSearchPath:n,inputPlaceholder:e?(0,k.t)("community.search.placeholder.search_for_a_resource"):(0,k.t)("community.search.search_everything_in_community"),context:s8.PF.LANDING,className:e?"homepage_dropdown_search_input--redesignedSearchInput--CoAYJ text--fontPos11--2LvXf text--_fontBase--QdLsd":"homepage_dropdown_search_input--searchInput--8x2Cp text--fontPos13--xW8hS text--_fontBase--QdLsd",searchIconClassName:e?"homepage_dropdown_search_input--redesignedHomepageSearchIcon--RcD8I":"homepage_dropdown_search_input--searchIcon--55Xdx",closeIconClassName:e?"homepage_dropdown_search_input--redesignedHomepageCloseIcon--8bE70":"homepage_dropdown_search_input--closeIcon--iurnp"})))}let pW="hero--pluginImg--OXkw4",pH="hero--header--PlMZA text--fontPos24--YppUD text--_fontBase--QdLsd",p$="hero--themedIcon--EfFFN";var pj=r(165690),pG=r(505045),pY=r(288495),pz=r(360957),pq=r(945111),pQ=r(261595),pK=r(353917),pX=r(763939),pZ=r(962888),pJ=r(746510),p0=r(181865),p1=r(156564),p2=r(18412),p4=r(69969),p8=r(793445);let p5={colorIllustration:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-431.2,y:48,rotate:0},hover:{opacity:1,scale:1.15,x:-448.8,y:48,rotate:0}},transition:{delay:.05,type:"spring",bounce:.4,duration:.25},element:i.createElement(ei.B,{className:"hero--colorIllustrations--SS5zw",svg:pz.A})},colorsIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-374,y:-8,rotate:0},hover:{opacity:1,scale:1.15,x:-391.6,y:-8,rotate:0}},transition:{delay:0,type:"spring",bounce:.4,duration:.25},element:i.createElement(ei.B,{className:p$,svg:pq.A,style:{fill:(0,u9.TD)("default")}})},variableIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-440,y:-16,rotate:0},hover:{opacity:1,scale:1.15,x:-457.6,y:-16,rotate:0}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25},element:i.createElement(ei.B,{className:p$,svg:p8.A,style:{fill:(0,u9.TD)("default")}})},designLibraryIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:169.4,y:-16,rotate:0},hover:{opacity:1,scale:1.15,x:187,y:-16,rotate:0}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25},element:i.createElement(ei.B,{className:p$,svg:pJ.A,style:{fill:(0,u9.TD)("default")}})},typeIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:105.6,y:-8,rotate:0},hover:{opacity:1,scale:1.15,x:123.2,y:-8,rotate:0}},transition:{delay:0,type:"spring",bounce:.4,duration:.25},element:i.createElement(ei.B,{className:p$,svg:p4.A,style:{fill:(0,u9.TD)("default")}})},componentIllustration:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:123.2,y:48,rotate:0},hover:{opacity:1,scale:1.15,x:140.8,y:48,rotate:0}},transition:{delay:.05,type:"spring",bounce:.4,duration:.25},element:i.createElement(ei.B,{svg:pQ.A,useOriginalSrcFills_DEPRECATED:!0,className:"hero--colorSwatches--Vz0OG"})}},p3={pluginIconTopLeft:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-96.8,y:-24,rotate:16},hover:{opacity:1,scale:1.1,x:-114.4,y:-40,rotate:16}},transition:{delay:0,type:"spring",bounce:.4,duration:.25},element:i.createElement("img",{alt:"PluginIcon",className:pW,src:(0,u.ck)("ebe89d33f7040c60d83a01887800a522babf7de7")})},pluginIconMiddleLeft:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-171.6,y:-16,rotate:-16},hover:{opacity:1,scale:1.1,x:-180.4,y:-32,rotate:-16}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25},element:i.createElement("img",{alt:"PluginIcon",className:pW,src:(0,u.ck)("65c3bfafc5758245135ea68c46bf8649e08fc682")})},pluginIconBottomLeft:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-110,y:16,rotate:-8},hover:{opacity:1,scale:1.1,x:-127.6,y:16,rotate:-8}},transition:{delay:.05,type:"spring",bounce:.4,duration:.25},element:i.createElement("img",{alt:"PluginIcon",className:pW,src:(0,u.ck)("4c694b59552bdaf728d6bbad5c5603c08e768dde")})},pluginIconTopRight:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:393.8,y:-24,rotate:-16},hover:{opacity:1,scale:1.1,x:400.4,y:-40,rotate:-16}},transition:{delay:0,type:"spring",bounce:.4,duration:.25},element:i.createElement("img",{alt:"PluginIcon",className:pW,src:(0,u.ck)("2a50b4b29af5a21bde6c7b4ef8cdfd97a2b16a39")})},pluginIconMiddleRight:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:448.8,y:-16,rotate:16},hover:{opacity:1,scale:1.1,x:466.4,y:-32,rotate:16}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25},element:i.createElement("img",{alt:"PluginIcon",className:pW,src:(0,u.ck)("0d28516cbda0bfcf87b214c919c6ed52f3358efb")})},pluginIconBottomRight:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:400.4,y:16,rotate:8},hover:{opacity:1,scale:1.1,x:418,y:16,rotate:8}},transition:{delay:.05,type:"spring",bounce:.4,duration:.25},element:i.createElement("img",{alt:"PluginIcon",className:pW,src:(0,u.ck)("34cf09b757fec1181abee8d8ece8a06ee0383408")})}},p9={heartIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:48.4,y:-76,rotate:0},hover:{opacity:1,scale:1,x:48.4,y:-88,rotate:0}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25},element:i.createElement(ei.B,{svg:pX.A,style:{fill:"none",stroke:(0,u9.TD)("default")}})},libraryIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-8.8,y:-64,rotate:-8.5},hover:{opacity:1,scale:1,x:-26.4,y:-72,rotate:-8.5}},transition:{type:"spring",bounce:.4,duration:.25},element:i.createElement(ei.B,{svg:pZ.A,style:{fill:"none",stroke:(0,u9.TD)("default")}})},emojiIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:96.8,y:-64,rotate:6},hover:{opacity:1,scale:1,x:114.4,y:-72,rotate:6}},transition:{delay:.05,type:"spring",bounce:.4,duration:.25},element:i.createElement(ei.B,{svg:pK.A,style:{fill:"none",stroke:(0,u9.TD)("default")}})},chatIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:158.4,y:-80,rotate:0},hover:{opacity:1,scale:1,x:178.2,y:-88,rotate:0}},transition:{delay:.125,type:"spring",bounce:.4,duration:.25},element:i.createElement(ei.B,{svg:pY.A,style:{fill:"none",stroke:(0,u9.TD)("default")}})},profileIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-79.2,y:-80,rotate:0},hover:{opacity:1,scale:1,x:-96.8,y:-88,rotate:0}},transition:{delay:.125,type:"spring",bounce:.4,duration:.25},element:i.createElement(ei.B,{svg:p1.A,style:{fill:"none",stroke:(0,u9.TD)("default")}})},mentionIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-162.8,y:12,rotate:0},hover:{opacity:1,scale:1,x:-180.4,y:20,rotate:0}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25},element:i.createElement(ei.B,{svg:p0.A,style:{fill:"none",stroke:(0,u9.TD)("default")}})},asterikIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-187,y:-32,rotate:0},hover:{opacity:1,scale:1,x:-215.6,y:-32,rotate:0}},transition:{delay:.15,type:"spring",bounce:.4,duration:.25},element:i.createElement(ei.B,{svg:pj.A,style:{fill:"none",stroke:(0,u9.TD)("default")}})},settingsIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:237.6,y:12,rotate:0},hover:{opacity:1,scale:1,x:255.2,y:20,rotate:0}},transition:{delay:.0725,type:"spring",bounce:.4,duration:.25},element:i.createElement(ei.B,{svg:p2.A,style:{fill:"none",stroke:(0,u9.TD)("default")}})},bookmarkIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:281.6,y:-32,rotate:0},hover:{opacity:1,scale:1,x:299.2,y:-32,rotate:0}},transition:{delay:.15,type:"spring",bounce:.4,duration:.25},element:i.createElement(ei.B,{svg:pG.A,style:{fill:"none",stroke:(0,u9.TD)("default")}})}};function p6({elements:e,elementWrapperClassname:t,text:r,onMouseEnter:a,onMouseLeave:n,isActive:l}){return i.createElement(pB.P.span,{className:N.cx.colorTextBrand.$,variants:{hidden:{opacity:.9},hover:{opacity:1}},initial:"hidden",animate:l?"hover":"hidden"},i.createElement("span",{className:M()("hero--textElement--lpZt8",{"hero--highlightedTextElement--Z3Qhc":l}),onMouseEnter:a,onMouseLeave:n},r),i.createElement("div",{className:t,"aria-hidden":!0},Object.entries(e).map(([e,t])=>i.createElement(pB.P.span,{className:N.cx.absolute.top0.left0.eventsNone.$,key:e,variants:t.variants,transition:t.transition},t.element))))}let p7=(e,t)=>{a=setTimeout(()=>{e(e=>(e+1)%6),fe(e)},t??500)},fe=e=>{a=setTimeout(()=>{e(e=>(e+1)%6),p7(e)},3e3)};function ft(){let e=(0,sZ.N)(`(max-width: ${(0,nW.jz)(io.ikM)-1}px)`),[t,r]=i.useState(2*Math.floor(3*Math.random())),[n,l]=i.useState(null);(0,i.useEffect)(()=>(p7(r),()=>{clearTimeout(a)}),[]),(0,i.useEffect)(()=>{null!==n?(clearTimeout(a),a=void 0,r(e=>e%2==1?(e+1)%6:e)):a||p7(r,3e3)},[n]);let o=t%2==0?null:Math.ceil(t/2),s=n??o;return e?i.createElement(i.Fragment,null,i.createElement("h1",{className:pH},(0,k.tx)("community.homepage.mobile_header")),i.createElement("div",{className:"hero--subHeader--74gIe text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,k.tx)("community.homepage.mobile_subheader"))):i.createElement("h1",{className:pH},(0,k.tx)("community.homepage.header",{librariesLink:i.createElement(p6,{elements:p5,elementWrapperClassname:"hero--libraryElementsWrapper--8uOC3",text:(0,k.t)("community.homepage.header_libraries"),onMouseEnter:()=>l(1),onMouseLeave:()=>l(null),isActive:1===s}),pluginsLink:i.createElement(p6,{elements:p3,elementWrapperClassname:"hero--pluginElementsWrapper--E7QTs",text:(0,k.t)("community.homepage.header_plugins"),onMouseEnter:()=>l(2),onMouseLeave:()=>l(null),isActive:2===s}),iconSetsLink:i.createElement(p6,{elements:p9,elementWrapperClassname:"hero--iconElementWrapper--UvEtl",text:(0,k.t)("community.homepage.header_icon_sets"),onMouseEnter:()=>l(3),onMouseLeave:()=>l(null),isActive:3===s})}))}function fr(){let e=(0,pU.Xr)(_x);return i.createElement("div",{className:"hero--hero--a1ML6"},i.createElement(ft,null),i.createElement(pV,{isRedesignedHomepage:!0}),i.createElement(sg.a,{callback:(0,i.useCallback)(t=>{e(t[0].isIntersecting)},[e]),cleanupCallback:(0,i.useCallback)(()=>e(!1),[e])}))}let fa=(0,i.forwardRef)(({href:e,navigate:t,title:r,onClick:a,categoryHighlight:n},l)=>{let o=(0,sZ.N)(`(max-width: ${io.ikM})`);return i.createElement("div",{ref:l,key:n.category,className:"homepage_categories_highlight--homepageCategoriesHighlightItemWrapper--iQwAJ"},i.createElement("div",{className:"homepage_categories_highlight--homepageCategoriesHighlightItem--peoMf",onClick:e=>{a&&a(e),t()},tabIndex:0,role:"link","aria-label":r},i.createElement("div",{className:"homepage_categories_highlight--homepageCategoryHighlightCard--25fAI"},i.createElement("div",{className:"homepage_categories_highlight--homepageCategoryHighlightCardTitleAndSubtitle--T8YwD"},i.createElement("a",{className:"homepage_categories_highlight--homepageCategoryHighlightCardTitle--9FmzL text--fontPos13--xW8hS text--_fontBase--QdLsd",href:e,onClick:e=>{e.preventDefault()}},r),i.createElement("div",{className:"homepage_categories_highlight--homepageCategoryHighlightCardSubheader--EXycZ text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.text)),i.createElement("div",{className:"homepage_categories_highlight--homepageCategoryHighlightCardImageContainer--lOChl"},i.createElement("img",{alt:r,src:o&&n.mobileSrc?n.mobileSrc:n.src,className:M()("homepage_categories_highlight--homepageCategoryHighlightCardImage--HD0cW"),"data-category":n.category})))))});function fn({categoryHighlights:e}){return i.createElement("div",{className:"homepage_categories_highlight--homepageCategoriesHighlight--XCng9"},e.map(e=>{let t=new s5.IE({categorySlug:e.category});return i.createElement(aI.o3,{key:e.category,to:t.href,trackingEventName:"community_homepage_category_highlight_clicked",trackingProperties:{slug:e.category},title:(0,_f.xF)(e.category),href:t.href,categoryHighlight:e,component:fa})}))}var fi=r(171603);function fl({buttonLabel:e,route:t}){return i.createElement(aI.o3,{className:"homepage_section--viewAllLinks--ZxJcd text--fontPos13--xW8hS text--_fontBase--QdLsd",to:t.to,trackingEventName:"community_homepage_section_link_clicked",trackingProperties:{slug:t.pathname}},e,i.createElement(ei.B,{svg:fi.A,className:"homepage_section--chevron--alHAr"}))}function fo({header:e,subHeader:t,buttonLabel:r,route:a,content:n}){return i.createElement("div",{className:N.cx.wFull.$},i.createElement("div",{className:N.cx.alignLeft.pb16.$},i.createElement("h3",{className:N.cx.fontMedium.font15.lh24.$},e),i.createElement("div",{className:"homepage_section--subheaderAndLink---Rv7r"},t&&i.createElement("div",{className:N.cx.font13.colorTextSecondary.lh24.pt4.$},t),r&&a&&i.createElement(fl,{buttonLabel:r,route:a}))),n)}var fs=r(13583);let fc=(0,eu.Fu)(n_.E_);function fd(){let e=(0,l.wA)(),t=(0,es.md)(fc);return t?.status!=="loaded"||t?.status==="loaded"&&t?.data?null:i.createElement(aI.fu,{name:"cmty_slides_promo_banner"},i.createElement("div",{className:"slides_promo_banner--banner--C7dcs","data-editor-theme":"piper"},i.createElement("div",{className:"slides_promo_banner--iconContainer--HC1lS"},i.createElement(ry.MW,{type:ry.y1.SLIDES,size:ry.LE.MEDIUM})),i.createElement("div",{className:"slides_promo_banner--description--DybQR text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,k.tx)("community.homepage.slides_promo_banner")),i.createElement(aI.L0,{name:"slides_promo_banner_cta",className:"slides_promo_banner--ctaButton--g9W36 text--fontPos11--2LvXf text--_fontBase--QdLsd",href:"https://www.figma.com/slides/",target:"_blank"},(0,k.tx)("community.learn_more")),i.createElement(oO.K,{onClick:()=>{e(ek.b({[n_.E_]:!0}))},"aria-label":(0,k.t)("banner.shared.close_banner")},i.createElement(fs.L,{className:"slides_promo_banner--dismissButton--8RidG"}))))}var fm=r(838516);let fu=e=>`${e.id}---${(0,oC.Vm)(e)}`,f_=e=>{let[t,r]=e.split("---");return{id:t,type:r}};function fp({debounceWaitInMs:e=1e3,extraProperties:t={}}={}){let{name:r=iV.e0.COMMUNITY_HUB,properties:a}=(0,aI.j6)(),n=(0,i.useRef)([]),l=(0,i.useRef)(new Set),o=(0,i.useCallback)(e=>{if(0===n.current.length)return;let i=[],l=[];n.current.forEach(e=>{let{id:t,type:r}=f_(e);i.push(t),l.push(r)}),(0,nm.sx)("hub_impressed_resources",{impressedItems:i,impressedItemTypes:l,trackingContext:r,...a,...t},{sendAsBeacon:e}),n.current=[]},[t,r,a]),s=(0,i.useMemo)(()=>(0,fm.s)(o,e),[e,o]);return(0,i.useEffect)(()=>s.flush,[s]),(0,i.useEffect)(()=>{let e=()=>{"hidden"===document.visibilityState&&o(!0)};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}},[o]),{trackResourceImpression:(0,i.useCallback)(e=>{let t=fu(e);l.current.has(t)||(l.current.add(t),n.current.push(t),s())},[s]),flushAndResetResourceImpressions:(0,i.useCallback)(()=>{s.flush(),l.current.clear()},[s])}}function ff(){return(0,u.kc)().cmty_feed_resource_platform?i.createElement(fE,null):i.createElement(fg,null)}function fg(){let e=function({limit:e}={limit:pA.b}){let[t,r]=(0,i.useState)([]),[a,n]=(0,i.useState)(!1),[l,o]=(0,i.useState)(null),s=(0,i.useRef)((0,_D.nC)());return(0,i.useEffect)(()=>{n(!0),o(null),s.current.filter({editor_type:mz.k.Editors.SLIDES,sort_by:(0,mG.H)()}).browse(mq.L.BrowseResourceTypes.FILES,e).then(e=>{r(e.data.meta.resources)}).catch(e=>{console.error("Error fetching popular slide templates",e),o(e)}).finally(()=>n(!1))},[e]),{resources:t,loading:a,error:l}}(),t=function({limit:e}={limit:pA.b}){let[t,r]=(0,i.useState)([]),[a,n]=(0,i.useState)(!1),[l,o]=(0,i.useState)(null),s=(0,i.useRef)((0,_D.nC)());return(0,i.useEffect)(()=>{n(!0),o(null),s.current.filter({editor_type:mz.k.Editors.FIGMA,sort_by:(0,mG.H)()}).browse(mq.L.BrowseResourceTypes.FILES,e).then(e=>{r(e.data.meta.resources)}).catch(e=>{console.error("Error fetching popular figma files",e),o(e)}).finally(()=>n(!1))},[e]),{resources:t,loading:a,error:l}}(),r=function({limit:e}={limit:pA.N}){let[t,r]=(0,i.useState)([]),[a,n]=(0,i.useState)(!1),[l,o]=(0,i.useState)(null),s=(0,i.useRef)((0,_D.nC)());return(0,i.useEffect)(()=>{n(!0),o(null),s.current.filter({category:s8.LJ.designTools,sort_by:(0,mG.H)()}).browse(mq.L.BrowseResourceTypes.PLUGINS,e).then(e=>{r(e.data.meta.resources)}).catch(e=>{console.error("Error fetching popular plugins",e),o(e)}).finally(()=>n(!1))},[e]),{resources:t,loading:a,error:l}}(),a=function({limit:e}={limit:pA.b}){let[t,r]=(0,i.useState)([]),[a,n]=(0,i.useState)(!1),[l,o]=(0,i.useState)(null),s=(0,i.useRef)((0,_D.nC)());return(0,i.useEffect)(()=>{n(!0),o(null),s.current.filter({editor_type:mz.k.Editors.FIGJAM,sort_by:(0,mG.H)()}).browse(mq.L.BrowseResourceTypes.FILES,e).then(e=>{r(e.data.meta.resources)}).catch(e=>{console.error("Error fetching popular figjam files",e),o(e)}).finally(()=>n(!1))},[e]),{resources:t,loading:a,error:l}}(),n=function({limit:e}={limit:pA.b}){let[t,r]=(0,i.useState)([]),[a,n]=(0,i.useState)(!1),[l,o]=(0,i.useState)(null),s=(0,i.useRef)((0,_D.nC)());return(0,i.useEffect)(()=>{n(!0),o(null),s.current.filter({category:s8.LJ.whiteboarding,sort_by:(0,mG.H)()}).browse(mq.L.BrowseResourceTypes.WIDGETS,e).then(e=>{r(e.data.meta.resources)}).catch(e=>{console.error("Error fetching popular widgets",e),o(e)}).finally(()=>n(!1))},[e]),{resources:t,loading:a,error:l}}();return i.createElement(fh,{popularSlideTemplates:e,popularFigmaFiles:t,popularPlugins:r,popularFigJamFiles:a,popularWidgets:n})}function fE(){let[{data:e,status:t}]=(0,_.IT)(cY.a.ResourcesPaginatedQuery({resourceType:[dn.vt.SLIDE_TEMPLATE],caller:cY.z.HOMEPAGE,pageSize:6})),[{data:r,status:a}]=(0,_.IT)(cY.a.ResourcesPaginatedQuery({resourceType:[dn.vt.DESIGN_TEMPLATE],editorType:mm.q.DESIGN,caller:cY.z.HOMEPAGE,pageSize:6})),[{data:n,status:l}]=(0,_.IT)(cY.a.ResourcesPaginatedQuery({resourceType:[dn.vt.PLUGIN],category:s8.LJ.designTools,caller:cY.z.HOMEPAGE,pageSize:10,includeContent:!0})),[{data:o,status:s}]=(0,_.IT)(cY.a.ResourcesPaginatedQuery({resourceType:[dn.vt.FIGJAM_TEMPLATE],caller:cY.z.HOMEPAGE,pageSize:6})),[{data:c,status:d}]=(0,_.IT)(cY.a.ResourcesPaginatedQuery({resourceType:[dn.vt.WIDGET],category:s8.LJ.whiteboarding,caller:cY.z.HOMEPAGE,pageSize:6}));return i.createElement(fh,{popularSlideTemplates:{resources:e??[],loading:"loading"===t},popularFigmaFiles:{resources:r??[],loading:"loading"===a},popularPlugins:{resources:(n??[]).map(e=>e.content?.plugin).filter(e=>void 0!==e),loading:"loading"===l},popularFigJamFiles:{resources:o??[],loading:"loading"===s},popularWidgets:{resources:c??[],loading:"loading"===d}})}function fh({popularSlideTemplates:e,popularFigmaFiles:t,popularPlugins:r,popularFigJamFiles:a,popularWidgets:n}){let l=(0,sZ.N)(`(max-width: ${io.g8m})`)?{rows:3,cols:2}:{rows:2,cols:3},{trackResourceImpression:o}=fp(),{slideTemplatesRoute:s,designResourcesRoute:c,pluginsRoute:d,figjamAssetsRoute:m,widgetsRoute:_}=(0,i.useMemo)(()=>({slideTemplatesRoute:new s5.IE({categorySlug:s8.LJ.presentations}),designResourcesRoute:new s5.IE({categorySlug:s8.LJ.designTemplates}),pluginsRoute:new s5.IE({categorySlug:s8.LJ.designTools},{resource_type:"plugins"}),figjamAssetsRoute:new s5.IE({categorySlug:s8.LJ.whiteboarding}),widgetsRoute:new s5.IE({categorySlug:s8.LJ.whiteboarding},{resource_type:mq.L.BrowseResourceTypes.WIDGETS})}),[]),p=(0,i.useCallback)((e,t)=>{t&&o(e)},[o]);return i.createElement("div",{className:"homepage--homepageContainer--q0JuX"},i.createElement("div",{className:"homepage--homepageContent--XDBs9"},i.createElement(fr,null),(0,u.kc)().piper_cmty_home_banner&&i.createElement(fd,null),i.createElement("div",{className:"homepage--homepageSectionsContainer--rXSN9"},i.createElement(fo,{header:(0,k.t)("community.homepage.slides_section.header"),subHeader:(0,k.t)("community.homepage.slides_section.sub_header"),buttonLabel:(0,k.t)("community.homepage.slides_section.browse_all"),route:s,content:i.createElement(pL,{resources:e.resources,maxGridDim:l,onIntersectionChange:p,isLoading:e.loading,loadingTileCount:6})}),i.createElement(fo,{header:(0,k.t)("community.homepage.figma_section.header"),subHeader:(0,k.t)("community.homepage.figma_section.sub_header"),buttonLabel:(0,k.t)("community.homepage.figma_section.browse_all"),route:c,content:i.createElement(pL,{resources:t.resources,maxGridDim:l,onIntersectionChange:p,isLoading:t.loading,loadingTileCount:6})}),i.createElement(fo,{header:(0,k.t)("community.view_bar.plugins"),subHeader:(0,k.t)("community.homepage.plugins_section.sub_header"),buttonLabel:(0,k.t)("community.homepage.plugins_section.browse_all"),route:d,content:i.createElement(pv,{plugins:r.resources,onIntersectionChange:p,isOrgTeamBrowsing:!1,isLoading:r.loading,loadingRowCount:10})}),i.createElement(fo,{header:(0,k.t)("community.homepage.figjam_section.header"),subHeader:(0,k.t)("community.homepage.figjam_section.sub_header"),buttonLabel:(0,k.t)("community.homepage.figjam_section.browse_all"),route:m,content:i.createElement(pL,{resources:a.resources,maxGridDim:l,onIntersectionChange:p,isLoading:a.loading,loadingTileCount:6})}),i.createElement(fo,{header:(0,k.t)("community.view_bar.widgets"),subHeader:(0,k.t)("community.homepage.widgets.sub_header"),buttonLabel:(0,k.t)("community.homepage.widgets.browse_all"),route:_,content:i.createElement(pL,{resources:n.resources,maxGridDim:l,onIntersectionChange:p,isLoading:n.loading,loadingTileCount:6})}),i.createElement(fo,{header:(0,k.t)("community.homepage.categories_section.header"),subHeader:(0,k.t)("community.homepage.categories_section.sub_header"),content:i.createElement(fn,{categoryHighlights:(0,_f.Jm)()})}),i.createElement(fo,{header:(0,k.t)("community.view_bar.all_resources"),content:(0,u.kc)().cmty_feed_resource_platform?i.createElement(pD,{onIntersectionChange:p}):i.createElement(pM,{onIntersectionChange:p})}),i.createElement("div",{className:N.cx.wFull.$},i.createElement(s7,null)))))}var fy=r(740222),fv=r.n(fy),fb=r(135876),fw=r(746058),fT=r(827553),fI=r(782501),fC=r(336599),fx=r(163056);let fN=[{img:(0,u.ck)("49e43aec887df7422ff9643d11465bcdeded548e"),color:ca.S0},{img:(0,u.ck)("c00f8b3e0cd9a66eb8c4ee4e6d307fff82c9ab27"),color:ca.S0},{img:(0,u.ck)("3f772c66c1cddf1d0b6c5f8f41395bcafd135566"),color:ca.S0},{img:(0,u.ck)("960d3a00ab8d8c4db2f27b7814c911ae974c770b"),color:ca.fr},{img:(0,u.ck)("cda2753116908ec0abf57b611934479cebbcdbeb"),color:ca.fr},{img:(0,u.ck)("37f4db88a8104a239f3d761763f8d7e0826d7765"),color:ca.fr}],fk=function({profile:e,onImageUploaded:t}){let r=i.useRef(null),a=(0,l.wA)(),n=(0,l.d4)(e=>e.loadingState),o=pe.Ai.loadingKeyForPayload({profileId:e.id}),s=(0,fC.VP)(n,o),c=i.useCallback(()=>{r.current?.click()},[]),d=i.useCallback(r=>{null!=r&&a(pe.Ai({profileId:e.id,file:r,onSuccessCallback:t}))},[a,t,e.id]),m=i.useCallback(async()=>{try{let e=r.current?.files;if(!e||0===e.length||!e[0])throw Error("File not found");let t=e[0];(0,nA.YU)(t);let a=await (0,fI.l8)(URL.createObjectURL(t));if(a.width>nA.M0||a.height>nA.Zs)throw Error((0,k.t)("community.profiles.cover_image_must_be_less_than_dimensions",{PROFILE_COVER_IMAGE_MAX_WIDTH:nA.M0,PROFILE_COVER_IMAGE_MAX_HEIGHT:nA.Zs}));if(a.width<nA.gZ||a.height<nA.xj)throw Error((0,k.t)("community.profiles.cover_image_must_be_at_least_dimensions",{PROFILE_COVER_IMAGE_MIN_WIDTH:nA.gZ,PROFILE_COVER_IMAGE_MIN_HEIGHT:nA.xj}));d(t)}catch(e){a(aF.s.error(e.message))}r.current&&(r.current.value="")},[a,d]);return i.createElement(i.Fragment,null,i.createElement("input",{type:"file",accept:"image/*",ref:r,onChange:m,style:{display:"none"}}),i.createElement(ei.B,{svg:fx.A,className:"profile_header--uploadIcon--FFtoL",onClick:c}),s&&i.createElement(er.qc,null))};function fS({profile:e}){let t=(0,nA.si)(e),[r,a]=i.useState((0,cH.g)()),n=i.useCallback(()=>{a((0,cH.g)())},[]),l=i.useMemo(()=>e.redirect_cover_image_url?{backgroundColor:"rgba(0, 0, 0, 0.03)",backgroundImage:`url(${e.redirect_cover_image_url}?${r})`}:function(e){if(null==e||!e.id)return;let t=fN[parseInt(e.id.length>=4?e.id.slice(e.id.length-4):"0")%fN.length];return{backgroundImage:`url(${t.img})`,backgroundColor:t.color}}(e),[e,r]);return i.createElement("div",{className:"profile_header--profileHeaderContainer--C-0mY",key:e?.cover_image_path,style:l},i.createElement("div",{className:"profile_header--profileHeaderAvatarContainer--1REx-"},i.createElement(eJ.Ro,{entity:{...e,img_url:e?.img_urls["500_500"]||e?.img_url||void 0},size:96,className:"profile_header--avatarBackground--5XTWL"})),t&&i.createElement(fk,{profile:e,onImageUploaded:n}))}var fL=r(107897),fA=r(153234),fR=r(158950);let fP=/(https?:\/\/)?(www\.)?figma.com\/@/;function fF(e){return i.createElement(fL.A,{options:{target:{url:"_blank"},attributes:{rel:"noopener nofollow ugc",onMouseDown:e=>{e.preventDefault(),e.stopPropagation()}},className:"formatted_expanding_textarea--blueLink--GWaek blue_link--blueLink--9rlnd",format:e=>e.replace(fP,"@")}},e)}class fO extends fA.uA{constructor(e){super(e),this.onChange=e=>{this.setState({value:e.target.value})},this.onMouseDown=e=>{this.props.readOnly||e.preventDefault(),this.setState({isEditing:!0})},this.onFocus=()=>{this.state.isEditing||this.setState({isEditing:!0})},this.onSubmit=e=>{this.props.submit&&this.props.submit(e)},this.onBlur=()=>{this.setState({isEditing:!1})},this.state={value:this.props.value,isEditing:!1}}componentDidUpdate(e){this.props.value!==e.value&&this.setState({value:this.props.value})}renderFormattedValue(){return i.createElement("div",{dir:"auto",className:"formatted_expanding_textarea--value--XJ2Gh"},this.props.formatter?this.props.formatter(this.state.value):this.state.value)}renderPlaceholder(){return i.createElement("div",{className:"formatted_expanding_textarea--placeholder--JJ8AZ"},this.props.readOnly?"":this.props.placeholder)}render(){let e=!this.props.readOnly&&this.state.isEditing,t=["formatted_expanding_textarea--container--3NuYC text--fontPos13--xW8hS text--_fontBase--QdLsd",e?"formatted_expanding_textarea--editMode--wvP9s":"formatted_expanding_textarea--viewMode--GHMnM",this.props.readOnly?"formatted_expanding_textarea--readOnly--w19iZ":"formatted_expanding_textarea--canEdit--UVjHq",this.props.className||""].join(" ");return i.createElement("div",{className:t,onMouseDown:this.onMouseDown,onFocus:this.onFocus,tabIndex:0},!e&&(this.state.value?this.renderFormattedValue():this.renderPlaceholder()),e&&i.createElement(fR.v,{maxLength:this.props.maxLength||1e4,onChange:this.onChange,value:this.state.value,placeholder:this.props.placeholder,submit:this.onSubmit,onBlur:this.onBlur,selectOnMount:!0,className:"formatted_expanding_textarea--expandingTextarea--LLtsJ"}))}}fO.displayName="FormattedExpandingTextarea";var fD=r(752207),fM=r(988932),fB=r(370855),fU=r(709595),fV=r(354438),fW=r(432035);function fH(){return i.createElement(i.Fragment,null,i.createElement("div",{className:"monetization_metrics_tab_onboarding_modal--title--IfgQI text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,k.t)("community.seller.profiles.check_out_your_stats")),i.createElement("div",{className:"monetization_metrics_tab_onboarding_modal--description--2j8hj"},(0,k.t)("community.seller.profiles.added_some_metrics")))}let f$="metrics_tab_onboarding_key",fj="community_hub_view_bar--stickyHeaderIsSticky--jlnEf";class fG extends i.PureComponent{render(){return i.createElement("div",{className:`community_hub_view_bar--viewBar--T8-MS ${this.props.className||""}`},this.props.children)}}let fY=(0,l.Ng)(e=>({user:e.user||null}))(fG);class fz extends i.PureComponent{constructor(){super(...arguments),this.headerContentRef=i.createRef(),this.onIntersectionChange=e=>{this.node&&(e.isIntersecting?this.node.classList.remove(fj):e.boundingClientRect.y<window.innerHeight&&this.node.classList.add(fj))}}render(){return i.createElement("div",{className:["community_hub_view_bar--container--PBrf3",this.props.user?"community_hub_view_bar--viewBarSignedInSticky--swRMi":"community_hub_view_bar--viewBarSignedOutSticky--fpGkz"].join(" "),ref:e=>this.node=e},i.createElement(en.a,{onIntersectionChange:this.onIntersectionChange,className:this.props.user?"community_hub_view_bar--scrollSentinelSignedIn--u73PI":"community_hub_view_bar--scrollSentinelSignedOut--9xL9d"}),i.createElement(fY,null,i.createElement("div",{ref:this.headerContentRef},this.props.children)))}}var fq=r(402609),fQ=r(147829),fK=r(746806),fX=r(63666);let fZ=(0,eu.r1)(n_.e9);function fJ({onboardingKey:e}){let t=(0,es.md)(fZ),r=(0,em.e)({overlay:eE.O9D,priority:ep.N.SECONDARY_MODAL},[t]);return(0,d.h)(()=>{r.show({canShow:e=>!e})}),(0,pu.E)(r.uniqueId,"profile-metrics-tab-clicked",()=>{r.isShowing&&r.complete()}),i.createElement(fQ.M,{isShowing:r.isShowing,userFlagOnShow:n_.e9},i.createElement(aI.fu,{name:"Community monetization creator dashboard onboarding"},i.createElement(fX.NJ,{targetKey:e,width:300,topPadding:16,shouldCenterArrow:fK.EL.FALLBACK,dismissModal:r.complete},i.createElement(fH,null))))}var f0=r(980820),f1=r(677664),f2=r(320741);let f4=(0,f0.nF)(async(e,t,{loadingKey:r})=>{try{let a=sj.Ay.post("/api/community/seller/stripe_dashboard");(0,f2.N)(a,e,r);let n=await a;if(!n?.data?.meta){t?.callback(!1);return}let i=n.data.meta;e.dispatch((0,f1.RK)({rawInput:i})),setTimeout(()=>{t?.callback(!0)},1e3)}catch(e){t?.callback(!1)}});var f8=r(583894),f5=r(82388),f3=r(596578),f9=r(139387);let f6=(0,tc.Ju)(function(){let e=(0,l.wA)(),t=(0,z.iZ)(),[r,a]=i.useState([]),[n,o]=i.useState(!0),[s,c]=i.useState(!0),[m,u]=i.useState(!1),[_,f]=i.useState(!1),g=i.useRef(null);(0,d.h)(()=>{f3.C.getCmtyCreatorPayoutStatements({userId:t?.id}).then(({data:e})=>{o(!1),a(e.meta)}).catch(()=>{e(tO.F.enqueue({type:"get-payout-statements-error",message:(0,k.t)("community.seller.payout_statement_error"),error:!0}))})});let E=e=>new Date(e.year,e.month-1).toLocaleDateString(void 0,{year:"numeric",month:"long"}),h="creator_payout_statements_modal--scrollContainer--8j6P4";return _&&(s||(h+=" creator_payout_statements_modal--topBorder--OHBCp"),m||(h+=" creator_payout_statements_modal--bottomBorder--tNtIc")),i.createElement(td.Rw,{title:(0,k.t)("community.seller.community_payout_statements"),titleClassName:"creator_payout_statements_modal--title--t9wed",confirmText:(0,k.t)(0===r.length?"general.got_it":"general.done"),onConfirm:p.lQ,hideConfirmationTitle:!0,hideCancel:!0},n?i.createElement("div",{className:"creator_payout_statements_modal--loadingSpinner--HMTTZ"},i.createElement(er.kt,null)):i.createElement("div",null,0===r.length&&i.createElement("div",null,(0,k.tx)("community.seller.no_payout_statements_yet")),r.length>0&&i.createElement(i.Fragment,null,i.createElement("div",null,(0,k.tx)("community.seller.click_to_download_statements")),i.createElement(ea.P,{className:h,ref:g,onCanScrollChange:e=>{f(e)},onScroll:(e,t)=>{c(0===e),u(e+t.trackHeight>=t.scrollHeight)}},r.map(e=>i.createElement("a",{className:"creator_payout_statements_modal--payoutStatementRow--4fDH3",key:`payout-statement-${e.year}-${e.month}`,href:e.signed_s3_url,download:`payout_statement_${e.year}_${e.month}.csv`},i.createElement(ei.B,{svg:f9.A}),E(e)))))))},"CreatorPayoutStatementsModal");var f7=r(358157);let ge="profile_resources_grid--tabContainer--UsmoU",gt="profile_resources_grid--tabLink--8x9Of text--fontPos14--OL9Hp text--_fontBase--QdLsd",gr="profile_resources_grid--tabBadge--l97Nx",ga="profile_resources_grid--labelBadgeContainer--gc9j0",gn="profile_resources_grid--selected--6CtGL",gi="profile_resources_grid--newBadge--LOtSf",gl="profile_resources_grid--profileData--yzCa5 text--fontPos13--xW8hS text--_fontBase--QdLsd",go="profile_resources_grid--profileDataReadOnly--Juje2 profile_resources_grid--profileData--yzCa5 text--fontPos13--xW8hS text--_fontBase--QdLsd",gs="profile_resources_grid--followsData--WkXSx",gc="profile_resources_grid--followsDataClickable--PHNwr",gd="profile_resources_grid--followsDataCount--MoS2I",gm="profile_resources_grid--loadingContainer--hsPEQ",gu="profile_resources_grid--loadingMoreContainer--jp4W1 profile_resources_grid--loadingContainer--hsPEQ",g_="profile_resources_grid--profileResourcesGridOuterContainer--ynOxv",gp="profile_resources_grid--profileMetricsStatsOuterContainer--FAXLb",gf="profile_resources_grid--profileMetricsTabLoadingButtonContent--lkd-l",gg="profile_resources_grid--profileMetricsTabLoadingButton--6tsqO",gE="profile_resources_grid--profileResourcesGridAndDataContainer--2gQaO",gh="profile_resources_grid--emptyStateContainer--EJug9",gy="profile_resources_grid--emptyStateHeader--c9srx text--fontPos14--OL9Hp text--_fontBase--QdLsd",gv="profile_resources_grid--emptyStateText--oEJHa",gb="profile_resources_grid--emptyStateMetricLabel--XqzzA",gw="profile_resources_grid--bannerContainer--eb6mO",gT="profile_resources_grid--stripeDashboardButtonContainer--1DAQE",gI="profile_resources_grid--metricContainer--SuhZ3",gC="profile_resources_grid--creatorLink--Rmyz- text--fontPos13--xW8hS text--_fontBase--QdLsd",gx="profile_resources_grid--lockIcon--4VJCL",gN="profile_resources_grid--emptySavesTabContainer--4oQx-",gk="profile_resources_grid--profileResourcesGridBanner--6L4qI",gS="profile_metrics_stats--divider--U2a8K";var gL=r(419902);let gA=(0,nW.jz)(io.dxy);function gR({tooltipText:e}){return i.createElement(nH.z,{query:`(min-width: ${gA}px)`},i.createElement("span",{className:"profile_metrics_stats--infoTooltipContainer---MeEH","data-tooltip-type":r$.Ib.TEXT,"data-tooltip":e,"data-tooltip-max-width":"250"},i.createElement(ei.B,{svg:gL.A,className:"profile_metrics_stats--infoTooltip--lsZkn"})))}function gP({valueClassName:e,value:t,labelClassName:r,label:a,children:n}){return i.createElement("div",{className:gI},i.createElement("div",{className:e},t),i.createElement("div",{className:"profile_metrics_stats--metricLabelContainer--24AJ-"},i.createElement("span",{className:r},a),n))}function gF(){return i.createElement("div",{className:gI},i.createElement("div",{className:"profile_resources_grid--emptyStateMetric--ktaw6"}),i.createElement("div",{className:gb}))}function gO({children:e}){return i.createElement("div",{className:gp},i.createElement(gF,null),i.createElement("div",{className:gS}),i.createElement(gF,null),i.createElement("div",{className:gS}),i.createElement(gF,null),e)}function gD({totalViewCount:e,metricValueStyle:t,metricLabelStyle:r,totalPurchases:a,totalEarned:n,children:l}){return i.createElement("div",{className:gp},i.createElement(gP,{valueClassName:t,value:e,labelClassName:r,label:(0,k.t)("community.seller.total_views")}),i.createElement("div",{className:gS}),i.createElement(gP,{valueClassName:t,value:a,labelClassName:r,label:(0,k.t)("community.seller.total_purchases")},i.createElement(gR,{tooltipText:(0,k.t)("community.seller.total_purchases_includes")})),i.createElement("div",{className:gS}),i.createElement(gP,{valueClassName:t,value:n,labelClassName:r,label:(0,k.t)("community.seller.total_earned")},i.createElement(gR,{tooltipText:(0,k.t)("community.seller.all_sales_before_figmas_fees")})),l)}var gM=r(820113);let gB="resource_stat_row--rowContainer--rapbF",gU="resource_stat_row--resourceMetadataContainer--bdvI3",gV="resource_stat_row--allStatContainer--vXmae",gW="resource_stat_row--statContainer--gp6KZ",gH="resource_stat_row--statValue--69Rff text--fontPos24--YppUD text--_fontBase--QdLsd",g$="resource_stat_row--statLabel--bgvwH text--fontPos13--xW8hS text--_fontBase--QdLsd",gj="resource_stat_row--verticalDivider--Whn5d",gG="resource_stat_row--textMetadataContainer--oQv9J",gY=(0,nW.jz)(io.ZI8);function gz({resource:e}){return(0,oo.Qo)(e)?i.createElement(sh.Cv,{resource:e,isMetaHidden:!0}):"plugin"===(0,oC.Vm)(e)?i.createElement(sh.cS,{resource:e,isMetaHidden:!0}):i.createElement(sh.bN,{resource:e,isMetaHidden:!0})}function gq({resource:e}){let{name:t,created_at:r}=(0,oo.qD)(e),a=new Date(r).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}),n=e.monetized_resource_metadata?(0,oc.bV)(e.monetized_resource_metadata):"",l=`/community/${(0,oo.ss)(e)}/${e.id}`;return i.createElement("div",{className:gU},i.createElement("div",{className:"resource_stat_row--thumbnailWrapper--M0vtN"},i.createElement(gz,{resource:e})),i.createElement(nH.z,{query:`(min-width: ${gY}px)`},i.createElement("div",{className:gG},i.createElement("div",null,i.createElement(oE.A6,{to:l,className:"resource_stat_row--resourceName--LFWUk text--fontPos14--OL9Hp text--_fontBase--QdLsd"},t),i.createElement("div",{className:"resource_stat_row--publishDate--oDkDH text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,k.t)("community.seller.last_updated_on",{date:a}))),i.createElement("div",{className:"resource_stat_row--price--1YYVn text--fontPos14--OL9Hp text--_fontBase--QdLsd"},n))))}function gQ({value:e,label:t}){return i.createElement("div",{className:gW},i.createElement("span",{className:gH},e),i.createElement("span",{className:g$},t))}function gK(){return i.createElement("div",{className:gW},i.createElement("span",{className:gH},i.createElement("div",{className:"profile_resources_grid--emptyStateStatsMetric--qs3QD"})),i.createElement("span",{className:g$},i.createElement("div",{className:gb})))}function gX(){return i.createElement("div",{className:gU},i.createElement("div",{className:"resource_stat_row--emptyThumbnailWrapper--NNO1Y resource_stat_row--thumbnailWrapper--M0vtN"},i.createElement(er.kt,null)),i.createElement(nH.z,{query:`(min-width: ${gY}px)`},i.createElement("div",{className:gG},i.createElement("div",null,i.createElement("div",{className:"resource_stat_row--emptyResourceName--gZCwX"}),i.createElement("div",{className:"resource_stat_row--emptyPublishDate--WVyqw"})),i.createElement("div",{className:"resource_stat_row--emptyPrice--HlOMG"}))))}function gZ({resource:e}){return i.createElement("div",{className:gB},i.createElement(gX,null),i.createElement("div",{className:gV},i.createElement(gK,null),i.createElement("div",{className:gj}),i.createElement(gK,null),i.createElement("div",{className:gj}),i.createElement(gK,null),i.createElement("div",{className:gj}),i.createElement(gK,null)))}function gJ({resource:e}){let t=(0,l.wA)(),{id:r,is_subscription:a}=e.monetized_resource_metadata,n=(0,ag.Rs)(av.aom,{monetizedResourceMetadataId:r}),o=new gM.vr("usd");if("loading"===n.status)return i.createElement(gZ,{resource:e});if("loaded"!==n.status||n.errors?.length)return t(tO.F.enqueue({message:(0,k.t)("community.actions.unable_to_load_stats_for_a_resource"),error:!0})),i.createElement(gZ,{resource:e});{let t=n.data.communityM10nResourceStat,r={monetized_resource_metadata_id:t?.monetizedResourceMetadataId,all_time_total_earned:parseInt(t?.allTimeTotalEarned||"0"),monthly_total_earned:parseInt(t?.monthlyTotalEarned||"0"),num_purchases:parseInt(t?.numPurchases||"0")},l=e.view_count||0;return i.createElement("div",{className:gB},i.createElement(gq,{resource:e}),i.createElement("div",{className:gV},i.createElement(gQ,{label:(0,k.t)("community.seller.views_label",{num:l}),value:l.toLocaleString()}),i.createElement("div",{className:gj}),a?i.createElement(gQ,{label:(0,k.t)("community.seller.subscribers_label",{num:r.num_purchases}),value:r.num_purchases.toLocaleString()}):i.createElement(gQ,{label:(0,k.t)("community.seller.purchases_label",{num:r.num_purchases}),value:r.num_purchases.toLocaleString()}),i.createElement("div",{className:gj}),i.createElement(gQ,{label:(0,k.t)("community.seller.total_earned"),value:o.formatMoney(r.all_time_total_earned)}),i.createElement("div",{className:gj}),i.createElement(gQ,{label:(0,k.t)("community.seller.earned_this_month"),value:o.formatMoney(r.monthly_total_earned)})))}}function g0({paidResources:e}){return(0,u.kc)().cmty_m10n_turn_creator_dash_off?i.createElement(i.Fragment,null):i.createElement("div",{className:"resource_stats_list--resourceStatsListContainer--3Xmb3"},i.createElement("p",{className:"resource_stats_list--resourceCount--SHJGY text--fontPos14--OL9Hp text--_fontBase--QdLsd"},(0,k.tx)("community.seller.resources_for_sale",{numResources:e.length})),e.map((e,t,r)=>i.createElement("div",{key:e.id,className:"resource_stats_list--resourceStatContainer--GxfxK"},i.createElement(gJ,{resource:(0,o_.Ch)(e)}),t<r.length-1&&i.createElement("div",{key:`${e.id}-divider`,className:"resource_stats_list--divider--F4HpT"}))))}function g1(){return i.createElement("svg",{width:"274",height:"133",viewBox:"0 0 274 133",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M124.179 65.3591C125.935 65.3591 127.359 63.9355 127.359 62.1795C127.359 60.4235 125.935 59 124.179 59C122.423 59 121 60.4235 121 62.1795C121 63.9355 122.423 65.3591 124.179 65.3591Z",fill:"var(--color-icon-disabled, #D9D9D9)"}),i.createElement("path",{d:"M149.861 62.1795C149.861 63.9355 148.437 65.3591 146.681 65.3591C144.925 65.3591 143.502 63.9355 143.502 62.1795C143.502 60.4235 144.925 59 146.681 59C148.437 59 149.861 60.4235 149.861 62.1795Z",fill:"var(--color-icon-disabled, #D9D9D9)"}),i.createElement("path",{d:"M123.092 73.4119V71.9119H120.092V73.4119C120.092 81.9723 127.032 88.9119 135.592 88.9119C144.152 88.9119 151.092 81.9723 151.092 73.4119V71.9119H148.092V73.4119C148.092 80.3154 142.496 85.9119 135.592 85.9119C128.688 85.9119 123.092 80.3154 123.092 73.4119Z",fill:"var(--color-icon-disabled, #D9D9D9)"}),i.createElement("path",{d:"M232.862 51.8912L214.45 64.9049L240.999 74.0556L209.704 95.1483L208.027 92.6606L234.332 74.931L207.938 65.8337L231.13 49.4413L232.862 51.8912Z",fill:"var(--color-icon-disabled, #D9D9D9)"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M82.2828 0H148.05L185.283 38.0308V47.1645L188.993 45.3563L196.545 23.4452L218.456 30.9974L239.307 20.8359L249.468 41.6862L271.414 49.2505L263.85 71.1971L274 92.0236L253.173 102.174L245.609 124.12L223.663 116.556L202.812 126.717L192.651 105.867L185.283 103.327V133H82.2828V109.541L31.3574 128.076C27.4651 129.493 23.1613 127.486 21.7446 123.593L16.9646 110.46C16.4165 108.954 17.1953 107.612 18.0665 106.887C18.9369 106.163 20.3041 105.686 21.6406 106.175C24.3362 107.162 27.171 107.252 29.8132 106.29C36.5897 103.824 40.064 94.9827 36.8557 86.168C33.6474 77.3533 25.303 72.8139 18.5265 75.2803C15.8843 76.242 13.7706 78.1332 12.3398 80.6217C11.6304 81.8554 10.2763 82.3687 9.14412 82.3734C8.01076 82.3782 6.55152 81.8507 6.00341 80.3447L1.22339 67.2118C-0.193304 63.3194 1.8136 59.0156 5.70593 57.5989L18.1219 53.0799C18.1237 53.0772 18.1258 53.0738 18.1282 53.0695C18.1529 53.0257 18.1896 52.9235 18.1889 52.7663C18.1882 52.6115 18.1509 52.4593 18.0918 52.3414C18.0341 52.2263 17.9741 52.1774 17.9418 52.1588C14.9078 50.4143 12.5056 47.7738 11.2767 44.3974C8.07639 35.6046 14.0889 25.815 23.9574 22.2231C33.8259 18.6313 44.7244 22.2658 47.9247 31.0587C49.1536 34.435 49.0107 38.0019 47.8079 41.2884C47.7951 41.3234 47.7805 41.3994 47.8104 41.5248C47.8409 41.653 47.9101 41.7936 48.0091 41.9127C48.1096 42.0335 48.2035 42.0882 48.2505 42.1059C48.2551 42.1076 48.2589 42.1089 48.262 42.1098L62.0875 37.0777C65.9798 35.661 70.2836 37.6679 71.7003 41.5603L82.2828 70.6354V0ZM182.283 40.1429V48.6266V56.5V76.5V98V102.293V130H85.2828V108.449V107C85.2828 107 85.2828 102.5 85.2828 98.5V78.8779V3H145.919V40.1429H182.283ZM185.283 50.5018V100.154L194.803 103.435L204.195 122.706L223.466 113.314L243.75 120.306L250.742 100.021L269.989 90.6411L260.609 71.3943L267.601 51.1092L247.316 44.1175L237.924 24.847L218.654 34.2385L198.404 27.2591L191.424 47.5087L185.283 50.5018ZM68.8813 42.5863L82.2828 79.4069V106.348L30.3314 125.257C27.996 126.107 25.4137 124.903 24.5637 122.567L19.7881 109.447C19.789 109.443 19.7903 109.44 19.792 109.435C19.8097 109.388 19.8644 109.294 19.9852 109.194C20.1043 109.095 20.2449 109.025 20.3731 108.995C20.4985 108.965 20.5745 108.98 20.6095 108.992C23.896 110.195 27.4629 110.338 30.8392 109.109C39.6321 105.909 43.2666 95.0105 39.6748 85.1419C36.0829 75.2734 26.2933 69.2609 17.5005 72.4613C14.1241 73.6901 11.4836 76.0923 9.7391 79.1263C9.72052 79.1586 9.67163 79.2186 9.55647 79.2764C9.43858 79.3354 9.28639 79.3728 9.13155 79.3734C8.97443 79.3741 8.87215 79.3374 8.82842 79.3127C8.82414 79.3103 8.82071 79.3082 8.81802 79.3064L4.04247 66.1857C3.19245 63.8503 4.39659 61.268 6.73199 60.418L19.1602 55.8945C20.6662 55.3464 21.1936 53.8871 21.1889 52.7538C21.1841 51.6216 20.6709 50.2675 19.4371 49.5581C16.9487 48.1273 15.0575 46.0135 14.0958 43.3714C11.6294 36.5949 16.1688 28.2505 24.9835 25.0422C33.7981 21.8339 42.6392 25.3082 45.1057 32.0847C46.0673 34.7269 45.9772 37.5617 44.9907 40.2573C44.5015 41.5938 44.9788 42.961 45.7029 43.8314C46.4278 44.7026 47.7698 45.4814 49.2758 44.9333L63.1136 39.8968C65.449 39.0468 68.0312 40.2509 68.8813 42.5863ZM148.919 5.17631L180.215 37.1429H148.919V5.17631Z",fill:"var(--color-icon-disabled, #D9D9D9)"}))}let g2=e=>!!e.monetized_resource_metadata;function g4({primaryUserId:e,profileId:t}){let r=(0,l.wA)(),a=(0,z.iZ)(),[n,o]=i.useState(!1),s=(0,u.kc)().cmty_profile_resource_platform,[c]=(0,_.IT)(fw.s.profilePublicResourceQuery({profileId:t}),{enabled:!s}),[{data:d,status:m,hasNextPage:p,isFetchingNextPage:f},{fetchNextPage:g}]=(0,_.IT)(cY.a.ResourcesPaginatedQuery({sortBy:mG.e.Browse.PUBLISHED_AT,caller:cY.z.PROFILE,profileId:t,price:m$.C.PAID,pageSize:30,includeContent:!0}),{enabled:s});i.useEffect(()=>{!f&&p&&g()},[f,p,g]);let[E,h]=i.useState(!1),y=(0,ag.Rs)(av.wW7,{userId:e}),v=()=>{h(!0),r((0,tu.to)({type:f5.s,data:{setupStripeCallback:e=>{o(!1),h(!1),e||r(aF.s.error((0,k.t)("community.seller.unable_to_launch_stripe_onboarding_please_check_your_details")))}}}))},b=()=>{o(!0),(0,H.Cu)({user_id:a.id},"stripe_dasbhboard_link_clicked"),r(f4({callback:e=>{o(!1),e||r(aF.s.error((0,k.t)("community.seller.unable_to_open_stripe_dashboard")))}}))};function w(){return a?.stripe_account_status===f8.P5.ENABLED||a?.stripe_account_status===f8.P5.DISABLED?i.createElement("div",{className:gT},i.createElement("button",{className:"profile_resources_grid--stripeDashboardButton--LHyS8 profile_resources_grid--stripeSetupButton--HNei8 profile_resources_grid--stripeSetupButtonDisabled--EUiQo text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:b},i.createElement("div",{className:gf},n&&i.createElement("div",{className:gg},i.createElement(er.kt,{shouldMatchTextColor:!0})),(0,k.tx)("community.seller.view_stripe_dashboard"))),i.createElement("button",{className:"profile_resources_grid--blueLink--WjRaq blue_link--blueLink--9rlnd",onClick:()=>{r((0,tu.to)({type:f6,data:{}}))}},(0,k.tx)("community.seller.view_payout_statements"))):i.createElement("div",{className:gT},i.createElement("button",{className:"profile_resources_grid--stripeSetupButton--HNei8 profile_resources_grid--stripeSetupButtonDisabled--EUiQo text--fontPos13--xW8hS text--_fontBase--QdLsd",disabled:n,onClick:v},i.createElement("div",{className:gf},n&&i.createElement("div",{className:gg},i.createElement(er.kt,{shouldMatchTextColor:!0})),i.createElement("div",null,T))),i.createElement("div",{className:"profile_resources_grid--creatorAgreement--seV1h text--fontPos11--2LvXf text--_fontBase--QdLsd"},I))}let T=(0,k.tx)("community.seller.set_up_stripe"),I=(0,k.tx)("community.seller.agree_to_figma_terms_of_service",{link:f7.Hl});n?T=(0,k.tx)("community.seller.stripe_loading_text"):a?.stripe_account_status===f8.P5.STARTED_ONBOARDING&&(T=(0,k.tx)("community.seller.finish_stripe_setup_button"));let C="profile_resources_grid--metricValue--w627p text--fontPos48--H177Q text--_fontBase--QdLsd",x="profile_resources_grid--metricLabel--1bOis text--fontPos13--xW8hS text--_fontBase--QdLsd",N=(0,k.tx)("community.seller.resource_metrics_coming_soon"),S=(0,k.tx)("community.seller.working_on_bringing_you_more_in_depth_metrics");a?.stripe_account_status!==f8.P5.ENABLED&&(C="profile_resources_grid--metricValueDisabled--mYlXF profile_resources_grid--metricValue--w627p text--fontPos48--H177Q text--_fontBase--QdLsd",x="profile_resources_grid--metricLabelDisabled--dTvu- profile_resources_grid--metricLabel--1bOis text--fontPos13--xW8hS text--_fontBase--QdLsd");let L=[],A=(L=s?"loaded"===m?(d||[]).map(e=>(0,oC.qY)(e)).filter(e=>void 0!==e):[]:c.data?c.data.filter(g2):[]).length>0,R=L.reduce((e,t)=>e+(t.view_count||0),0);return N=(0,k.tx)("community.seller.youre_all_set_up_to_sell_on_community"),S=a?.cmty_seller_capabilities?.includes(f8.D6.FILE)?(0,k.tx)("community.seller.to_publish_your_first_resource"):(0,k.tx)("community.seller.to_publish_your_first_extension"),a?.stripe_account_status!==f8.P5.ENABLED&&(N=(0,k.tx)("community.seller.resources_youre_selling_will_appear_here"),S=(0,k.tx)("community.seller.well_show_you_stripe_metrics")),i.createElement("div",{className:"profile_resources_grid--profileMetricsTabOuterContainer--d-PPR"},i.createElement("div",{className:"profile_resources_grid--stripeBannerContainer--xRX1g"},i.createElement(oe.S,{isFirstTimeLoading:E})),(()=>{let e=i.createElement(gO,null,i.createElement(w,null));if((0,u.kc)().cmty_m10n_turn_creator_dash_off||"loading"===y.status)return e;if("loaded"!==y.status||y.errors?.length)return r(tO.F.enqueue({message:(0,k.t)("community.actions.unable_to_load_creator_stats"),error:!0})),e;{let e=y.data.userMonetizationMetadata?.stripeCmtyCreatorStatsMeta,t={num_purchases:e?.numPurchases||e?.num_purchases||0,all_time_total_earned:e?.allTimeTotalEarned||e?.all_time_total_earned||0};return i.createElement(gD,{totalViewCount:R,metricValueStyle:C,metricLabelStyle:x,totalPurchases:t[f8.VU.NUM_PURCHASES],totalEarned:(0,oc.up)(t[f8.VU.ALL_TIME_TOTAL_EARNED])},i.createElement(w,null))}})(),i.createElement("div",{className:"profile_resources_grid--divider--GZynB"}),A?i.createElement(g0,{paidResources:L}):i.createElement("div",{className:gh},i.createElement("div",{className:"profile_resources_grid--profileMetricsStatsEmptyStateIcon--DvLAr"},i.createElement(g1,null)),i.createElement("div",{className:gy},N),i.createElement("div",{className:gv},S)))}var g8=r(560718),g5=r(318812),g3=r(688734),g9=(e=>(e.COPY_LINK="Copy profile link",e.RESTRICT_USER="Restrict user",e.UNRESTRICT_USER="Unrestrict user",e))(g9||{});let g6=e=>{switch(e){case"Copy profile link":return(0,k.t)("community.profiles.copy_profile_link");case"Restrict user":return(0,k.t)("community.profiles.restrict_user");case"Unrestrict user":return(0,k.t)("community.profiles.unrestrict_user");default:return""}};function g7(){let e=(0,l.wA)(),t=(0,z.iZ)(),r=(0,l.d4)(e=>e.dropdownShown?.data?.profile),a=(0,l.d4)(e=>e.dropdownShown?.data?.targetRect);if(!r)return i.createElement(i.Fragment,null);let n=r.is_restricted_by_current_user,o=()=>{e(tW.lW({stringToCopy:`${window.location.origin}${(0,ou.bL)(r.profile_handle)}`}))},s=r=>{e(pe._8({blockedProfileId:r,profileId:t?.community_profile_id||"",onSuccess:()=>{e(tO.F.enqueue({message:"Restricted this user's comments",type:"profile-restricted-change",button:{text:"Undo",action:()=>{m(r)}}})),(0,nm.sx)("comment_profile_restricted",{restricted_by_profile_id:t?.community_profile_id,restricted_profile_id:r,entry_point:"profile_page"})}}))},c=()=>{e((0,tu.to)({type:g3.H,data:{onBlock:()=>s(r.id),confirmationTitle:`Restrict ${r.name}?`,confirmButtonText:"Restrict"}}))},d=r=>{e(pe._8({blockedProfileId:r,profileId:t?.community_profile_id||"",onSuccess:()=>{e(tO.F.enqueue({message:"Restricted this user's comments",type:"profile-restricted-change",button:{text:"Undo",action:()=>{m(r)}}})),(0,nm.sx)("comment_profile_restricted",{restricted_by_profile_id:t?.community_profile_id,restricted_profile_id:r,entry_point:"profile_page"})}}))},m=r=>{e(pe.dL({blockedProfileId:r,profileId:t?.community_profile_id||"",onSuccess:()=>{e(tO.F.enqueue({message:"Unrestricted this user's comments",type:"profile-restricted-change",button:{text:"Undo",action:()=>{d(r)}}})),(0,nm.sx)("comment_profile_unrestricted",{unrestricted_by_profile_id:t?.community_profile_id,unrestricted_profile_id:r,entry_point:"profile_page"})}}))},u=[{displayText:g6("Copy profile link")}];return(t?.community_profile_id&&r.entity_type===sT.o1.USER&&(n?u.push({displayText:g6("Unrestrict user")}):u.push({displayText:g6("Restrict user")})),a)?i.createElement(t_.j,{dispatch:e,items:u,showPoint:!0,parentRect:a,onSelectItem:(e,t)=>{"Copy profile link"===e.displayText?o():"Restrict user"===e.displayText?c():"Unrestrict user"===e.displayText&&m(r.id)},minWidth:96}):null}g7.displayName="ProfileMoreActionsDropdown";var Ee=r(728859);function Et(e){let t=(0,g5.Um)(),r=i.useRef(null),a=!!(t&&t.type===g8.N9),n=(0,l.wA)(),o=i.useCallback(()=>{n(eI.oB())},[n]);return i.useEffect(()=>(window.addEventListener("scroll",o,!1),()=>{window.removeEventListener("scroll",o,!1)}),[o]),i.createElement("div",null,i.createElement(oO.K,{ref:r,onClick:a=>{a.stopPropagation();let i=r.current;t?o():i&&n(eI.j7({type:g8.N9,data:{profile:e.profile,targetRect:i.getBoundingClientRect()}}))},"aria-label":(0,k.t)("community.profiles.profile_actions"),htmlAttributes:{"data-tooltip-type":r$.Ib.TEXT,"data-tooltip":(0,k.t)("community.profiles.profile_actions")}},i.createElement(o$.U,{svg:Ee.A,className:a?"profile_more_actions_button--iconButtonSelected--d85bU profile_more_actions_button--iconButton--RVCRS raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6":"profile_more_actions_button--iconButton--RVCRS raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6"},i.createElement(cU.J,null))),a&&i.createElement(g7,null))}Et.displayName="ProfileMoreActionsButton";var Er=r(463033),Ea=r(239671),En=r(217288);let Ei=(0,eu.r1)(n_.cX);function El({profile:e}){let[t,r]=i.useState(!1),a=(0,es.md)(Ei),n=(0,l.wA)();if(t||a.data)return i.createElement(i.Fragment,null);let o=i.createElement("div",null,(0,k.tx)("community.profile.creator_banner.you_can_now_add_image_and_video_previews"),i.createElement(aI.L0,{href:"https://help.figma.com/hc/en-us/articles/22166943560983-Grow-your-audience-on-Community#mediapreviews",trackingProperties:{profileId:e.id},target:"_blank"},(0,k.tx)("community.learn_more"))),s={id:uB.om.CommunityResourceCreatorBanner,bannerType:uB.x1.INFO,icon:En.A,iconSize:"large",mainText:(0,k.t)("community.profile.creator_banner.lets_spruce_things_up"),description:o,dismissible:!0,positionStatic:!0};return i.createElement(aI.fu,{name:"Profile Creator Upsell Banner",properties:{name:"profile_creator_upsell_banner",profileId:e.id}},i.createElement(uM.C,{content:s,editorType:Ea.nT.Design,onDismiss:()=>{n(ek.b({[n_.cX]:!0})),r(!0),(0,nm.sx)("cmty_profile_creator_upsell_banner_dismissed",{profileId:e.id})}}))}var Eo=r(754961);function Es(){return i.createElement("div",{className:gh},i.createElement(ei.B,{svg:Eo.default,useOriginalSrcFills_DEPRECATED:!0}),i.createElement("div",{className:gy},(0,k.t)("community.profiles.nothing_published_yet")),i.createElement("div",{className:gv},(0,k.t)("community.profiles.see_whats_being_created_in_figma")),i.createElement(Er.$n,{variant:"secondary",onClick:()=>{c.Ay.redirect("/community","_blank")}},(0,k.tx)("community.profiles.explore")))}function Ec({profile:e,isActiveProfile:t}){let[r]=(0,_.IT)(fw.s.profilePublicResourceQuery({profileId:e.id})),a=r.data||[],n=((0,u.kc)().cmty_rdp_creator_nudge_email||(0,u.kc)().cmty_rdp_creator_modal)&&t,l="loading"===r.status;return i.createElement("div",{className:g_},!l&&(a&&a.length>0?i.createElement(i.Fragment,null,n&&i.createElement("div",{className:gk},i.createElement(El,{profile:e})),i.createElement(sw,{adtlClassName:sb("profile"),resources:a,viewContext:iV.e0.COMMUNITY_HUB_PROFILE})):i.createElement("div",{className:gN},i.createElement(Es,null))),l&&i.createElement("div",{className:gm},i.createElement(im.k,null)))}function Ed({profile:e,isActiveProfile:t}){let r=(0,sZ.N)(`(max-width: ${io.g8m})`),[{data:a,status:n,hasNextPage:l,isFetchingNextPage:o},{fetchNextPage:s}]=(0,_.IT)(cY.a.ResourcesPaginatedQuery({sortBy:mG.e.Browse.PUBLISHED_AT,caller:cY.z.PROFILE,profileId:e.id,pageSize:30})),c="loading"===n,d=((0,u.kc)().cmty_rdp_creator_nudge_email||(0,u.kc)().cmty_rdp_creator_modal)&&t;i.useEffect(()=>{!o&&l&&s()},[o,l,s]);let{trackResourceImpression:m}=fp();return i.createElement("div",{className:gm},i.createElement("div",{className:g_},c||a?.length!==0?i.createElement(i.Fragment,null,d&&i.createElement("div",{className:gk},i.createElement(El,{profile:e})),i.createElement(pL,{resources:a||[],maxGridDim:r?{cols:2}:{cols:3},mobileMaxGridDim:{cols:1},onIntersectionChange:(e,t)=>{t&&m(e)},isLoading:c,skipResourceLimit:!0})):i.createElement("div",{className:gN},i.createElement(Es,null)),i.createElement("div",{className:gu},(c||o)&&i.createElement(im.k,null))))}var Em=r(183297),Eu=r(708389);let E_=new class{constructor(){this.CommunityResourceLegacySavesSchemaValidator=(0,sY.ch)(),this.getCommunityLegacyResourceSaves=e=>this.CommunityResourceLegacySavesSchemaValidator.validate(({xr:t})=>t.getPaginated("/api/resource_saves",sY.td.toAPIParameters(e))),this.CommunityResourceSavesSchemaValidator=(0,sY.Rq)("CommunityResourceSavesSchemaValidator",dn.Y9,"cmty_profile_resource_platform",!0),this.PaginatedCommunityResourceSavesQuery=t1.M4.PaginatedQuery({fetch:async({pageSize:e},{pageParam:t})=>{try{let r=await this.CommunityResourceSavesSchemaValidator.validate(async({xr:r})=>await r.getPaginated("/api/community_resource_saves/current_user",sY.td.toAPIParameters({pageSize:e,cursor:t})));return{data:r.data.meta,nextPage:r.data.pagination.nextPage,prevPage:r.data.pagination.prevPage}}catch(e){throw(0,cW.$D)(af.e.COMMUNITY,e),e}}}),this.CommunityUserResourceInstallsSchemaValidator=(0,sY.ch)(),this.getCommunityUserResourceInstalls=e=>this.CommunityUserResourceInstallsSchemaValidator.validate(({xr:t})=>t.getPaginated("/api/resources/installed/user",sY.td.toAPIParameters(e))),this.PaginatedPrivateExtensionInstallsQuery=t1.M4.PaginatedQuery({fetch:async({pageSize:e},{pageParam:t})=>{try{let r=await this.CommunityUserResourceInstallsSchemaValidator.validate(async({xr:r})=>await r.getPaginated("/api/resources/installed/user",sY.td.toAPIParameters({pageSize:e,cursor:t,filterOrgPrivate:!0})));return{data:[...r.data.meta.plugins,...r.data.meta.widgets],nextPage:r.data.pagination.nextPage,prevPage:r.data.pagination.prevPage}}catch(e){throw(0,cW.$D)(af.e.COMMUNITY,e),e}}})}},Ep=Eu.f.byProperty("saved_at",Eu.f.BY_DATETIME),Ef=Eu.f.byProperty("saved_at",Eu.f.BY_DATETIME);function Eg(){let[e,t]=i.useState([]),[r,a]=i.useState([]),[n,l]=i.useState([]),[o,s]=i.useState([]),[c,m]=i.useState(void 0),[u,_]=i.useState(void 0),[p,f]=i.useState(!1),[g,E]=i.useState(!1),h=i=>{Promise.all([y(i),v(i)]).then(([o,c])=>{let d=o?.meta.hub_files||[],m=c?.meta.plugins||[],u=c?.meta.widgets||[],_=e,p=r,f=n;i?.reset&&(_=[],p=[],f=[]);let{mergedResults:g,unmergedResultsList:[E,h,y]}=(0,Em.n0)([[..._,...d],[...p,...m],[...f,...u]],Ep);i?.reset?s(g):s(e=>[...e,...g]),t(E),a(h),l(y)})},y=e=>{let t=c;if(e?.reset&&(t=void 0),null!==t&&!p)return f(!0),E_.getCommunityLegacyResourceSaves({cursor:t,pageSize:30}).then(e=>(m(e.data.pagination.nextPage),e.data)).finally(()=>{f(!1)})},v=e=>{let t=u;if(e?.reset&&(t=void 0),null!==t&&!g)return E(!0),E_.getCommunityUserResourceInstalls({cursor:t,pageSize:30}).then(e=>(_(e.data.pagination.nextPage),e.data)).finally(()=>{E(!1)})};(0,d.h)(()=>{h()});let b=p||g;return i.createElement(i.Fragment,null,i.createElement("div",{className:gm},i.createElement("div",{className:g_},b||0!==o.length?i.createElement(sw,{adtlClassName:sb("profile"),resources:o,viewContext:"ProfileSavesView",showMoreCallback:h}):i.createElement("div",{className:gN},i.createElement(Ey,null)),i.createElement("div",{className:gu},b&&i.createElement(er.kt,null)))))}function EE(){let e=(0,sZ.N)(`(max-width: ${io.g8m})`),[t,r]=i.useState(!0),[a,n]=i.useState([]),[{data:l,status:o,hasNextPage:s},{fetchNextPage:c}]=(0,_.IT)(E_.PaginatedCommunityResourceSavesQuery({pageSize:30})),[{data:d,status:m,hasNextPage:u},{fetchNextPage:p}]=(0,_.IT)(E_.PaginatedPrivateExtensionInstallsQuery({pageSize:30}));i.useEffect(()=>{"loaded"===o&&"loaded"===m&&(n([...l,...d].sort(Ef)),u&&p(),s&&c())},[l,o,s,c,d,m,u,p]),i.useEffect(()=>{t&&"loaded"===o&&"loaded"===m&&r(!1)},[t,o,m]);let{trackResourceImpression:f}=fp({extraProperties:{tab:"saves"}});return i.createElement("div",{className:gm},i.createElement("div",{className:g_},t||0!==a.length?i.createElement(pL,{resources:a??[],maxGridDim:e?{cols:2}:{cols:3},mobileMaxGridDim:{cols:1},onIntersectionChange:(e,t)=>{t&&f(e)},isLoading:t,skipResourceLimit:!0}):i.createElement("div",{className:gN},i.createElement(Ey,null)),i.createElement("div",{className:gu},("loading"===o||"loading"===m)&&i.createElement(er.kt,null))))}function Eh(){return i.createElement("svg",{width:"86",height:"126",viewBox:"0 0 86 126",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.1772 97.1417L43 94.6L39.8228 97.1417L38.5735 95.58L43 92.0388L47.4266 95.58L46.1772 97.1417ZM36.6457 99.6835L35.3963 98.1217L29.042 103.205L30.2914 104.767L36.6457 99.6835ZM27.1142 107.309L25.8648 105.747L19.5105 110.83L20.7599 112.392L27.1142 107.309ZM17.5827 114.934L16.3333 113.372L9.97901 118.456L11.2284 120.017L17.5827 114.934ZM8.05125 122.559L6.80185 120.997L3.62469 123.539C2.96993 124.063 2 123.597 2 122.758V118.933H0V122.758C0 125.274 2.90979 126.672 4.87408 125.101L8.05125 122.559ZM0 115.108H2V107.457H0V115.108ZM0 103.632H2V95.9812H0V103.632ZM0 92.156H2V84.5054H0V92.156ZM0 80.6801H2V73.0296H0V80.6801ZM0 69.2043H2V61.5538H0V69.2043ZM0 57.7285H2V50.078H0V57.7285ZM0 46.2527H2V38.6022H0V46.2527ZM0 34.7769H2V27.1263H0V34.7769ZM0 23.3011H2V15.6505H0V23.3011ZM0 11.8253H2V8C2 6.90362 2.29224 5.88157 2.80175 5.00098L1.07063 3.99936C0.389718 5.1762 0 6.54259 0 8V11.8253ZM3.99936 1.07063L5.00097 2.80175C5.88157 2.29224 6.90362 2 8 2H11.8889V0H8C6.54259 0 5.1762 0.389719 3.99936 1.07063ZM15.7778 0V2H23.5556V0H15.7778ZM27.4444 0V2H35.2222V0H27.4444ZM39.1111 0H46.8889V2H39.1111V0ZM50.7778 0V2H58.5556V0H50.7778ZM62.4444 0V2H70.2222V0H62.4444ZM74.1111 0V2H78C79.0964 2 80.1184 2.29224 80.999 2.80175L82.0006 1.07063C80.8238 0.389718 79.4574 0 78 0H74.1111ZM84.9294 3.99936L83.1983 5.00097C83.7078 5.88157 84 6.90362 84 8V11.8253H86V8C86 6.54259 85.6103 5.1762 84.9294 3.99936ZM86 15.6505H84V23.3011H86V15.6505ZM86 27.1264H84V34.7769H86V27.1264ZM86 38.6022H84V46.2527H86V38.6022ZM86 50.078H84V57.7285H86V50.078ZM86 61.5538H84V69.2043H86V61.5538ZM86 73.0296H84V80.6802H86V73.0296ZM86 84.5054H84V92.156H86V84.5054ZM86 95.9812H84V103.632H86V95.9812ZM86 107.457H84V115.108H86V107.457ZM86 118.933H84V122.758C84 123.597 83.0301 124.063 82.3753 123.539L79.1981 120.997L77.9488 122.559L81.1259 125.101C83.0902 126.672 86 125.274 86 122.758V118.933ZM74.7716 120.017L76.021 118.456L69.6667 113.372L68.4173 114.934L74.7716 120.017ZM65.2401 112.392L66.4895 110.83L60.1352 105.747L58.8858 107.309L65.2401 112.392ZM55.7086 104.767L56.958 103.205L50.6037 98.1217L49.3543 99.6835L55.7086 104.767Z",fill:"var(--color-icon-tertiary, $figmaFGBlack3Opaque)"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M42 49V60H44V49H55V47H44V36H42V47H31V49H42Z",fill:"var(--color-icon-tertiary, $figmaFGBlack3Opaque)"}))}function Ey(){return i.createElement("div",{className:N.cx.flex.itemsCenter.flexColumn.gap16.$},i.createElement(Eh,null),i.createElement("div",{className:N.cx.flex.flexColumn.gap8.alignCenter.$},i.createElement("h2",{className:N.cx.font14.fontMedium.$},(0,k.tx)("community.saves.no_saves_title")),i.createElement("p",{className:N.cx.font11.$},(0,k.tx)("community.saves.no_saves_subtitle"))),i.createElement(ee.nR,{target:"_blank",onClick:()=>{c.Ay.push("/community")}},(0,k.tx)("community.explore_resources")))}var Ev=r(348425),Eb=r(306665),Ew=r(26096),ET=r(327115);class EI extends i.Component{constructor(){super(...arguments),this.getProfileLink=()=>{if(this.props.profile&&this.props.profile.profile_handle)return`figma.com/@${this.props.profile.profile_handle}`;let e=this.props.profile.id;return`figma.com/profile/${e}`},this.getProfileLinkText=()=>{let e=this.getProfileLink(),t=i.createElement(ee.N_,{href:`https://${e}`,className:Eb.nf,trusted:!0},e);return this.props.profile.primary_user_id?(0,k.tx)("community.profiles.your_profile_is_visible_to_the_public_at",{link:t}):this.props.profile.entity_type===sT.o1.TEAM?(0,k.tx)("community.profiles.your_teams_profile_is_visible_to_the_public_at",{link:t}):this.props.profile.entity_type===sT.o1.ORG?(0,k.tx)("community.profiles.your_organizations_profile_is_visible_to_the_public_at",{link:t}):void 0}}render(){return this.props.profile?i.createElement("div",{className:this.props.className||""},i.createElement("div",{className:Eb.cI},i.createElement(Ev.t,{svg:Ew.A,fallbackSvg:ET.A,useOriginalSrcFills_DEPRECATED:!0,className:Eb.q3}),i.createElement("span",{className:Eb._M},this.getProfileLinkText()))):null}}EI.displayName="PublicProfileBanner";var EC=r(573812);let Ex=(0,nW.jz)(io.d8i),EN=(0,nW.jz)(io.wOr);function Ek(e){let{canEdit:t,canSellOnCommunity:r}=e,a=(0,z.iZ)(),n=i.useCallback(()=>{if(a)return(0,fU.tx)(a)},[a]);return a&&t?i.createElement(i.Fragment,null,r?i.createElement("div",{role:"link",tabIndex:0,onClick:n,className:gC},(0,k.tx)("community.profiles.contact_creator_support")):i.createElement("div",{className:"profile_resources_grid--sellOnCommunity--7r6cV"},i.createElement(ee.CY,{href:"https://www.figma.com/community-creators",className:gC,target:"_blank",trusted:!0},(0,k.tx)("community.profiles.interested_in_selling_your_resources")))):i.createElement(i.Fragment,null)}function ES(e){let{updateProfile:t,isViewingCurrentUserProfile:r,showFollowsModal:a}=e,n=(0,fB.t)(e.profile.id);return n?i.createElement(EL,{profile:n,updateProfile:t,isViewingCurrentUserProfile:r,showFollowsModal:a}):i.createElement(i.Fragment,null)}function EL(e){let{profile:t,updateProfile:r,isViewingCurrentUserProfile:a}=e,n=(0,nA.si)(t),l=e.profile.name,o=t.profile_handle||null,s=e=>a=>{e in t&&t[e]!==a&&r({[e]:a})},c=(n||t.description)&&i.createElement(fO,{value:t.description||"",placeholder:(0,k.t)("community.profiles.add_a_description"),className:n?gl:go,submit:s("description"),formatter:fF,readOnly:!n,maxLength:160}),d=(n||t.location)&&i.createElement(fO,{value:t.location||"",placeholder:(0,k.t)("community.profiles.add_a_location"),className:n?gl:go,submit:s("location"),readOnly:!n,maxLength:30}),m=(n||t.website)&&i.createElement(fO,{value:t.website||"",placeholder:(0,k.t)("community.profiles.add_website_url"),className:n?gl:go,submit:s("website"),formatter:fF,readOnly:!n,maxLength:100}),u=(n||t.twitter)&&i.createElement(fO,{value:t.twitter||"",placeholder:(0,k.t)("community.profiles.add_x_handle"),className:n?gl:go,submit:s("twitter"),formatter:e=>oo.HD.test(e)?fF(`https://twitter.com/${e}`):fF(e),readOnly:!n,maxLength:100}),_=(n||t.instagram)&&i.createElement(fO,{value:t.instagram||"",placeholder:(0,k.t)("community.profiles.add_instagram_handle"),className:n?gl:go,submit:s("instagram"),formatter:e=>oo.Co.test(e)?fF(`https://www.instagram.com/${e}`):fF(e),readOnly:!n,maxLength:100}),p=i.createElement(fW.W,{profile:t,followClassName:"profile_resources_grid--followButton--iTOYw text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L",followingClassName:"profile_resources_grid--followingButton--1oSba profile_resources_grid--followButton--iTOYw text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L text--fontPos11--2LvXf text--_fontBase--QdLsd",unfollowClassName:"profile_resources_grid--unfollowButton--MmYUn profile_resources_grid--followingButton--1oSba profile_resources_grid--followButton--iTOYw text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L text--fontPos11--2LvXf text--_fontBase--QdLsd",trackingProperties:{viewingProfileId:t.id}}),f=(0,dm.$M)(t.follower_count),g=(0,dm.$M)(t.following_count),E=i.createElement("div",{className:"profile_resources_grid--followsDataContainer--TnbJI"},i.createElement("div",{className:M()(gs,{[gc]:!0}),onClick:()=>e.showFollowsModal(ou.g3.FOLLOWERS)},(0,k.tx)("community.profiles.follower_count",{followerCount:f,formattedFollowerCount:i.createElement("span",{className:gd},f)})),t.primary_user_id&&i.createElement("div",{className:M()(gs,{[gc]:!0}),onClick:()=>e.showFollowsModal(ou.g3.FOLLOWING)},(0,k.tx)("community.profiles.following_count",{followingCount:i.createElement("span",{className:gd},g)}))),h=i.createElement("div",{className:"profile_resources_grid--profileDataHandleAndFollow--6kpYs"},i.createElement("div",{className:"profile_resources_grid--profileDataHandle--DB20D"},"@",o),t.current_user_is_followed&&i.createElement(dR.v_,null)),y=i.createElement(Et,{profile:t}),v=a?null:i.createElement("div",{className:"profile_resources_grid--followMoreActionsContainer--uQNdm"},p,y),b=i.createElement(Ek,{canEdit:n,canSellOnCommunity:(0,oo.kf)(t)});return i.createElement("div",null,i.createElement("h1",{className:"profile_resources_grid--profileDataName--xw46b text--fontPos24Whyte--gYiFz text--_fontBaseWhyte--efAjI"},i.createElement(fD.G,{truncate:"end",text:l,className:"profile_resources_grid--profileNameText--WdY6t"}),i.createElement(fM.l,{profile:t,tooltip:!0})),o&&h,v,c,E,d,m,u,_,b)}function EA({profile:e,tab:t}){let r=(0,u.kc)().cmty_profile_resource_platform,a=(0,l.d4)(e=>"authedActiveCommunityProfile"in e?e.authedActiveCommunityProfile?.id:null),n=(0,l.d4)(e=>"selectedView"in e?e.selectedView:null),o=(0,l.wA)(),s=a===e.id;return(i.useEffect(()=>{t!==ou.g3.SAVES||s||o(eI.$T({...n,profileTab:ou.g3.RESOURCES}))},[t,s,n,o]),t===ou.g3.METRICS)?i.createElement("div",{className:gm},i.createElement(g4,{primaryUserId:e.primary_user_id,profileId:e.id})):t===ou.g3.SAVES?r?i.createElement(EE,null):i.createElement(Eg,null):r?i.createElement(Ed,{profile:e,isActiveProfile:s}):i.createElement(Ec,{profile:e,isActiveProfile:s})}(e=>{class t extends i.Component{constructor(){super(...arguments),this.updateProfile=e=>{this.props.dispatch(pe.aP({profileId:this.props.profileId,...e}))},this.onFilesPluginsTabClick=()=>{(0,nm.sx)("Profile Resources Tab Clicked",{tabName:"resources",profileId:this.props.profileId,viewingUserId:this.props.currentUser?.id}),this.props.dispatch(eI.$T({...this.props.currentSelectedView,profileTab:ou.g3.RESOURCES}))},this.onMetricsTabClick=()=>{(0,nm.sx)("Profile Resources Tab Clicked",{tabName:"metrics",profileId:this.props.profileId,viewingUserId:this.props.currentUser?.id}),(0,ti.YQ)({id:"profile-metrics-tab-clicked"}),this.props.dispatch(eI.$T({...this.props.currentSelectedView,profileTab:ou.g3.METRICS}))},this.onSavesTabClick=()=>{(0,ti.YQ)({id:"cmty-profile-saves"}),(0,nm.sx)("Profile Resources Tab Clicked",{tabName:ou.g3.SAVES,profileId:this.props.profileId,viewingUserId:this.props.currentUser?.id}),this.props.dispatch(eI.$T({...this.props.currentSelectedView,profileTab:ou.g3.SAVES}))},this.showFollowsModal=e=>{this.props.dispatch(eI.$T({...this.props.currentSelectedView,profileTab:e}))}}render(){let e=i.createElement(EA,{tab:this.props.profileTab,profile:this.props.profile}),t=this.props.profile.primary_user_id&&this.props.authedActiveCommunityProfileId===this.props.profile.id?i.createElement(i.Fragment,null,i.createElement("button",{className:M()(gt,gr,{[gn]:this.props.profileTab===ou.g3.SAVES}),onClick:this.onSavesTabClick,tabIndex:0,"data-onboarding-key":"cmty-profile-save-tab"},(0,k.tx)("community.profiles.saved"),i.createElement(ei.B,{svg:EC.A,className:gx,"data-tooltip-type":r$.Ib.TEXT,"data-tooltip":(0,k.t)("community.only_visible_to_you")}))):i.createElement(i.Fragment,null),r=i.createElement("div",{className:"profile_resources_grid--profileDataContainer--e4QVX text--fontPos13--xW8hS text--_fontBase--QdLsd"},i.createElement(ES,{profile:this.props.profile,updateProfile:this.updateProfile,isViewingCurrentUserProfile:this.props.authedActiveCommunityProfileId===this.props.profile.id,showFollowsModal:this.showFollowsModal}),this.props.isWithinProfileScope&&this.props.communityStatusOnProfile!==fI.Cw.ADMIN_IN_DIFFERENT_WORKSPACE&&i.createElement(nH.z,{query:`(min-width: ${EN}px)`},i.createElement(EI,{profile:this.props.profile,className:gw})),!this.props.isWithinProfileScope&&i.createElement(fV.H,{profile:this.props.profile,className:gw})),a=!!(this.props.isWithinProfileScope&&(0,oo.af)(this.props.currentUser))||!!(0,u.kc)().cmty_expand_extension_m10n&&!!this.props.profile.associated_users?.find(e=>e.user_id===this.props.currentUser?.id&&!0===e.is_primary_user),n=i.createElement(fz,{user:this.props.currentUser},i.createElement("div",{className:ge},i.createElement("div",{className:M()(gt,gr,{[gn]:this.props.profileTab===ou.g3.RESOURCES}),onClick:this.onFilesPluginsTabClick,role:"button",tabIndex:0},(0,k.tx)("community.profiles.resources")),t,a&&i.createElement(aI.fu,{name:iV.e0.COMMUNITY_PROFILE_METRICS_TAB},i.createElement("div",{className:ga},i.createElement("div",{className:M()(gt,gr,gi,{[gn]:this.props.profileTab===ou.g3.METRICS}),onClick:this.onMetricsTabClick,role:"button",tabIndex:0},(0,k.tx)("community.seller.profiles.metrics"),i.createElement(ei.B,{svg:EC.A,className:gx,"data-tooltip-type":r$.Ib.TEXT,"data-tooltip":(0,k.t)("community.only_visible_to_you")})))))),l=i.createElement("div",{className:ge},i.createElement("div",{className:M()(gt,gr,{[gn]:this.props.profileTab===ou.g3.RESOURCES}),onClick:this.onFilesPluginsTabClick,role:"button",tabIndex:0},(0,k.tx)("community.profiles.resources")),t,a&&i.createElement(aI.fu,{name:iV.e0.COMMUNITY_PROFILE_METRICS_TAB},i.createElement(fq.p,null,i.createElement(fJ,{onboardingKey:f$})),i.createElement("div",{className:ga},i.createElement("div",{className:M()(gt,gr,gi,{[gn]:this.props.profileTab===ou.g3.METRICS}),onClick:this.onMetricsTabClick,role:"button",tabIndex:0},i.createElement("span",{"data-onboarding-key":f$},(0,k.tx)("community.seller.profiles.metrics")),i.createElement(ei.B,{svg:EC.A,className:gx})))));return i.createElement(i.Fragment,null,i.createElement(nH.z,{query:`(min-width: ${Ex}px)`},l,i.createElement("div",{className:gE},r,e)),i.createElement(nH.z,{query:`(max-width: ${Ex-1}px)`},i.createElement("div",{className:gE},r,n,e)))}}t.displayName="PublicProfileResourcesGridAndData",e.ConnectedPublicProfileResourcesGridAndData=(0,l.Ng)((e,t)=>{let r=t.profile,a=ou.g3.RESOURCES,n=!1;if("selectedView"in e){let t=e.selectedView?.profileTab;n=(0,nA.E1)(r,e),t&&(t!==ou.g3.METRICS||n)&&(a=t)}return{profileId:r.id,currentUser:"user"in e?e.user:null,isWithinProfileScope:n,currentSelectedView:"selectedView"in e?e.selectedView:null,profileTab:a,communityStatusOnProfile:(0,fI.kJ)(e,r),authedActiveCommunityProfileId:"authedActiveCommunityProfile"in e?e.authedActiveCommunityProfile?.id??null:null}})(t)})(n||(n={}));let ER=n.ConnectedPublicProfileResourcesGridAndData;function EP({currentUser:e,currentSelectedView:t,authedActiveCommunityProfileId:r,currentProfile:a,dispatch:n}){let l=(0,cw.S)(t?.profileTab,EO);return i.useEffect(()=>{if(a&&l)return n((0,tu.to)({type:fT.w,data:{currentSelectedView:t,profile:a,currentUserProfileId:e?.community_profile_id||null,authedActiveCommunityProfileId:r,dispatch:n}})),()=>{n(tu.Ce())}},[r,l,a,t,e?.community_profile_id,n]),i.createElement(fb.x,{className:"community_hub_public_profile--loadingContainer--GUi6s",isLoading:!a},()=>i.createElement(aI.fu,{name:iV.e0.COMMUNITY_HUB_PROFILE,properties:{handle:a.profile_handle,profileId:a.id}},i.createElement("div",{className:e?"community_hub_public_profile--signedInProfileContainer--8jWX9":"community_hub_public_profile--signedOutProfileContainer--nIxAf"},i.createElement("div",null,i.createElement(fS,{profile:a}),i.createElement(ER,{profile:a})),!(0,s.y3)()&&i.createElement("div",{className:"community_hub_public_profile--footerContainer--L38Gh"},i.createElement(s7,null)))))}EP.displayName="CommunityHubProfile";let EF=(0,l.Ng)(e=>({currentUser:"user"in e?e.user:null,currentSelectedView:"selectedView"in e?e.selectedView:null,authedActiveCommunityProfileId:"authedActiveCommunityProfile"in e?e.authedActiveCommunityProfile?.id??null:null}))(EP),EO=fv()(ou.g3,["FOLLOWERS","FOLLOWING"]),ED=t1.M4.Query({fetch:async e=>(await fw.s.getHandle({handle:e})).data.meta});function EM(){let{profileHandle:e}=(0,mj.Rd)(ou.xn),[t]=(0,t1.IT)(ED(e)),r=(0,l.wA)();return i.useEffect(()=>{"errors"===t.status&&(404===t.errors.status&&c.Ay.redirect("/404"),r(aF.s.error((0,k.t)("community.actions.error_fetching_profile_information"))))},[r,t]),i.createElement(EF,{currentProfile:t.data?.profile??null})}var EB=r(927092),EU=r(117688),EV=r(236705),EW=r(83958);let EH={files:EU.A,plugins:EV.A,widgets:EW.A,profiles:EB.A,mixed:Eo.default};function E$(e){if(e.isError)return null;let t=i.createElement("span",{className:"empty_search_state--bold--s4eFD"},e.query);switch(e.resourceType){case mq.L.SearchResourceTypes.FILES:if(e.view.price===m$.C.FREE)return(0,k.tx)("community.search.empty_state_hub_files_free",{query:t});if(e.view.price===m$.C.PAID)return(0,k.tx)("community.search.empty_state_hub_files_paid",{query:t});return(0,k.tx)("community.search.empty_state_hub_files",{query:t});case mq.L.SearchResourceTypes.PLUGINS:if(e.view.price===m$.C.FREE)return(0,k.tx)("community.search.empty_state_public_plugins_free",{query:t});if(e.view.price===m$.C.PAID)return(0,k.tx)("community.search.empty_state_public_plugins_paid",{query:t});return(0,k.tx)("community.search.empty_state_public_plugins",{query:t});case mq.L.SearchResourceTypes.WIDGETS:if(e.view.price===m$.C.FREE)return(0,k.tx)("community.search.empty_state_public_widgets_free",{query:t});if(e.view.price===m$.C.PAID)return(0,k.tx)("community.search.empty_state_public_widgets_paid",{query:t});return(0,k.tx)("community.search.empty_state_public_widgets",{query:t});case mq.L.SearchResourceTypes.PROFILES:return(0,k.tx)("community.search.empty_state_creators",{query:t});case mq.L.SearchResourceTypes.MIXED:default:if(e.view.price===m$.C.FREE)return(0,k.tx)("community.search.no_resources_matching_free",{query:t});if(e.view.price===m$.C.PAID)return(0,k.tx)("community.search.no_resources_matching_paid",{query:t});return(0,k.tx)("community.search.no_resources_matching",{query:t})}}function Ej(e){return i.createElement("div",{className:"empty_search_state--emptyState--2TAUS search_results_view--emptyState--HtHm1 tiles_view--emptyState--jfzsE text--fontPos11--2LvXf text--_fontBase--QdLsd"},i.createElement(ei.B,{className:"empty_search_state--emptyStateIllustrations--BnydB search_results_view--emptyStateIllustrations--CN9Y8",svg:EH[e.resourceType],useOriginalSrcFills_DEPRECATED:!0}),i.createElement("div",{className:"empty_search_state--emptyStateTextWrapper--n2j3d search_results_view--emptyStateTextWrapper--zg-Cu"},i.createElement("div",{className:"empty_search_state--emptyStateText--Bv9hN search_results_view--emptyStateText---YT8b ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},i.createElement(E$,{...e}))))}let EG=(e,t)=>{switch(e){case mq.L.SearchResourceTypes.MIXED:return(0,k.tx)("community.landing_page.query_header__mixed",{query:t});case mq.L.SearchResourceTypes.PLUGINS:return(0,k.tx)("community.landing_page.query_header__plugins",{query:t});case mq.L.SearchResourceTypes.FILES:return(0,k.tx)("community.landing_page.query_header__files",{query:t});case mq.L.SearchResourceTypes.WIDGETS:return(0,k.tx)("community.landing_page.query_header__widgets",{query:t});case mq.L.SearchResourceTypes.PROFILES:return(0,k.tx)("community.landing_page.query_header__profiles",{query:t});default:return(0,k.tx)("community.landing_page.query_header",{query:t})}};function EY({query:e,resourceType:t,error:r}){return i.createElement("div",{className:M()({"search_page_header--searchHeaderContainer---Qlx3 text--fontPos16--oMC-G text--_fontBase--QdLsd":!0,"search_page_header--mobileSearchHeaderContainer--C0vFW":f.Ay.mobile})},i.createElement("h1",{className:"search_page_header--searchHeaderInnerWrapper--wbW6U"},r?(0,k.tx)("community.error.could_not_complete_search",{error:i.createElement("strong",null,r)}):EG(t,i.createElement("strong",null,e))))}function Ez({profiles:e}){let t=(0,l.d4)(e=>e.authedActiveCommunityProfile);return i.createElement("div",{className:"search_profile_list--profilesList--unQSY"},e.map((e,r)=>i.createElement(sh.Yw,{index:r,key:`profileRow-${e.model.id}`,resource:e,authedActiveCommunityProfile:t})))}var Eq=r(395900),EQ=r(508567);function EK(e){return 0===e.length?[]:e.map(e=>e.model)}function EX(){return{resources:[],totalHits:0}}let EZ=e=>{let t=EK(e.data.meta.results);return{resources:t,totalHits:e.data.meta.total_hits??t.length}},EJ=e=>{let t=function(e){return 0===e.length?[]:e.map(e=>e.model.content.plugin)}(e.data.meta.results);return{resources:t,totalHits:e.data.meta.total_hits??t.length}},E0=(e,t)=>{e(tO.F.enqueue({message:t.message||(0,k.t)("community.error.search_request_failed"),error:!0,type:"community-search-error",timeoutOverride:2e3}))},E1=(e,t)=>{"unattributed"!==t&&e((0,_N.pY)())},E2=async(e,t,r,a,n)=>{try{let i={...t,resource_type:e,session_id:r,query_id:(0,_N.MZ)(),include_content_for_plugins:n},l=EQ.$W.getResources(i);return E1(a,r),await l}catch(e){throw e}},E4=async(e,t,r)=>{let a=new Eq.jk("searchResourcesAndProfiles",{}),n=(0,_N.MZ)(),i=null;a.start();try{let a=await Promise.all([E2(mq.L.SearchResourceTypes.MIXED,e,t,r),EQ.$W.getHubProfiles({query:e.query,sessionId:t,queryId:n,maxNumResults:50})]);i={resourcesResponse:a[0],profilesResponse:a[1]}}catch(e){E0(r,e)}finally{let t=a.stop();(0,nm.sx)(dN.M5.SEARCH_QUERY_RESULT,{elapsedMs:t,resourceResultCount:i?.resourcesResponse.data.meta.results.length,profileResultCount:i?.resourcesResponse.data.meta.results.length,query:e.query,isPreview:!1},{forwardToDatadog:!0})}return i},E8=async(e,t,r)=>{try{let[a,n,i]=await Promise.all([E2(mq.L.SearchResourceTypes.FILES,e,t,r),E2(mq.L.SearchResourceTypes.PLUGINS,e,t,r,!0),E2(mq.L.SearchResourceTypes.WIDGETS,e,t,r)]);return{filesResponse:a,pluginsResponse:n,widgetsResponse:i}}catch(e){return E0(r,e),null}};var E5=r(675551),E3=r.n(E5);let E9={All:({active:e})=>i.createElement("svg",{width:"19",height:"19",viewBox:"-1 -1 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e?i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6V2H6V6H2ZM0 1C0 0.447715 0.447715 0 1 0H7C7.55228 0 8 0.447715 8 1V7C8 7.55228 7.55228 8 7 8H1C0.447715 8 0 7.55228 0 7V1ZM2 17V13H6V17H2ZM0 12C0 11.4477 0.447715 11 1 11H7C7.55228 11 8 11.4477 8 12V18C8 18.5523 7.55228 19 7 19H1C0.447715 19 0 18.5523 0 18V12ZM13 13V17H17V13H13ZM12 11C11.4477 11 11 11.4477 11 12V18C11 18.5523 11.4477 19 12 19H18C18.5523 19 19 18.5523 19 18V12C19 11.4477 18.5523 11 18 11H12ZM12 0C11.4477 0 11 0.447715 11 1V7C11 7.55228 11.4477 8 12 8H18C18.5523 8 19 7.55228 19 7V1C19 0.447715 18.5523 0 18 0H12Z",fill:"var(--color-icon-selected, #0D99FF)"}):i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6V2H6V6H2ZM0 1C0 0.447715 0.447715 0 1 0H7C7.55228 0 8 0.447715 8 1V7C8 7.55228 7.55228 8 7 8H1C0.447715 8 0 7.55228 0 7V1ZM2 17V13H6V17H2ZM0 12C0 11.4477 0.447715 11 1 11H7C7.55228 11 8 11.4477 8 12V18C8 18.5523 7.55228 19 7 19H1C0.447715 19 0 18.5523 0 18V12ZM13 13V17H17V13H13ZM12 11C11.4477 11 11 11.4477 11 12V18C11 18.5523 11.4477 19 12 19H18C18.5523 19 19 18.5523 19 18V12C19 11.4477 18.5523 11 18 11H12ZM13 6V2H17V6H13ZM11 1C11 0.447715 11.4477 0 12 0H18C18.5523 0 19 0.447715 19 1V7C19 7.55228 18.5523 8 18 8H12C11.4477 8 11 7.55228 11 7V1Z",fill:"var(--color-icon, rgba(0, 0, 0, 0.8))"})),Files:e=>i.createElement("svg",{width:"18",height:"23",viewBox:"0 0 18 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M-0.000976562 0.00390625H11.4132L17.999 6.58969V22.0039H-0.000976562V0.00390625ZM1.99902 2.00391V20.0039H15.999V8.00391H9.99902V2.00391H1.99902ZM11.999 3.41812L14.5848 6.00391H11.999V3.41812Z",fill:"var(--color-icon, rgba(0, 0, 0, 0.8))"})),Plugins:e=>i.createElement("svg",{width:"18",height:"24",viewBox:"0 0 18 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 2C7.12831 2 6 3.10615 6 4.29412C6 4.80364 6.18423 5.32346 6.52975 5.77907C6.86869 6.22599 6.8635 6.76903 6.69667 7.1662C6.52648 7.57138 6.10414 8 5.46502 8H1.99902V21.9961H16V19.6417C15.4694 19.8705 14.8924 20 14.2942 20C11.6161 20 10 17.5466 10 15C10 12.4534 11.6161 10 14.2942 10C14.8924 10 15.4694 10.1295 16 10.3583V8H12.535C11.8959 8 11.4735 7.57138 11.3033 7.1662C11.1365 6.76903 11.1313 6.22599 11.4703 5.77907C11.8158 5.32346 12 4.80364 12 4.29412C12 3.10615 10.8717 2 9 2ZM4 4.29412C4 1.61609 6.45341 0 9 0C11.5466 0 14 1.61609 14 4.29412C14 4.89237 13.8705 5.46938 13.6417 6H16.125C17.1605 6 18 6.83947 18 7.875V11.465C18 12.1041 17.5714 12.5264 17.1662 12.6966C16.769 12.8635 16.226 12.8687 15.7791 12.5297C15.3235 12.1842 14.8037 12 14.2942 12C13.1062 12 12 13.1283 12 15C12 16.8717 13.1062 18 14.2942 18C14.8037 18 15.3235 17.8158 15.7791 17.4703C16.226 17.1313 16.769 17.1365 17.1662 17.3034C17.5714 17.4736 18 17.8959 18 18.535V22.1211C18 23.1566 17.1605 23.9961 16.125 23.9961H1.87402C0.838488 23.9961 -0.000976562 23.1566 -0.000976562 22.1211V7.875C-0.000976562 6.83947 0.838488 6 1.87402 6H4.35834C4.12951 5.46938 4 4.89237 4 4.29412Z",fill:"var(--color-icon, rgba(0, 0, 0, 0.8))"})),Widgets:e=>i.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.41421 10.5854L3.5146 8.485V5.51451V3.51451H5.5146H8.48509L10.5854 1.41421L11.9996 0L13.4138 1.41421L15.5141 3.51451H18.4846H20.4846V5.51451V8.485L22.585 10.5854L23.9992 11.9996L22.585 13.4138L20.4846 15.5142V18.4845V20.4845H18.4846H15.5143L13.4138 22.585L11.9996 23.9992L10.5854 22.585L8.48491 20.4845H5.5146H3.5146V18.4845V15.5142L1.41421 13.4138L0 11.9996L1.41421 10.5854ZM5.5146 8.485V5.51451H8.48509H9.31352L9.8993 4.92872L11.9996 2.82843L14.0999 4.92872L14.6857 5.51451H15.5141H18.4846V8.485V9.31343L19.0704 9.89921L21.1708 11.9996L19.0704 14.1L18.4846 14.6858V15.5142V18.4845H15.5143H14.6859L14.1001 19.0703L11.9996 21.1708L9.89912 19.0703L9.31334 18.4845H8.48491H5.5146V15.5142V14.6858L4.92882 14.1L2.82843 11.9996L4.92882 9.89921L5.5146 9.31343V8.485ZM13.2526 8.65802L13.9111 7.90544L12.4059 6.58843L11.7474 7.34101L8.24742 11.341L6.79623 12.9995H9H12.7962L10.7474 15.341L10.0889 16.0936L11.5941 17.4106L12.2526 16.658L15.7526 12.658L17.2038 10.9995H15H11.2038L13.2526 8.65802Z",fill:"var(--color-icon, rgba(0, 0, 0, 0.8))"})),Union:e=>i.createElement("svg",{width:"20",height:"24",viewBox:"0 0 20 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 6C14 8.20914 12.2091 10 10 10C7.79086 10 6 8.20914 6 6C6 3.79086 7.79086 2 10 2C12.2091 2 14 3.79086 14 6ZM16 6C16 9.31371 13.3137 12 10 12C6.68629 12 4 9.31371 4 6C4 2.68629 6.68629 0 10 0C13.3137 0 16 2.68629 16 6ZM2.25203 22C3.14012 18.5495 6.27232 16 10 16C13.7277 16 16.8599 18.5495 17.748 22H2.25203ZM10 14C14.8379 14 18.8734 17.4355 19.8 22C19.9311 22.6462 20 23.3151 20 24H18H2H0C0 23.3151 0.0688605 22.6462 0.200036 22C1.12658 17.4355 5.16208 14 10 14Z",fill:"var(--color-icon, rgba(0, 0, 0, 0.8))"}))};function E6({selectedResourceType:e,resultsByType:t}){(0,u.kc)().statsig_aa_flag_web_cmtysidebar;let r=(0,mj.vw)(mQ),a=E3()(t,e=>"resources"in e?{count:e.resources.length,hasMore:e.totalHits>e.resources.length}:{count:e.length,hasMore:!1}),n=[[mq.L.SearchResourceTypes.MIXED,(0,k.t)("community.view_bar.all"),E9.All],[mq.L.SearchResourceTypes.FILES,(0,k.t)("community.view_bar.files_and_templates"),E9.Files],[mq.L.SearchResourceTypes.PLUGINS,(0,k.t)("community.view_bar.plugins"),E9.Plugins],[mq.L.SearchResourceTypes.WIDGETS,(0,k.t)("community.view_bar.widgets"),E9.Widgets],[mq.L.SearchResourceTypes.PROFILES,(0,k.t)("community.view_bar.creators"),E9.Union]];return i.createElement("div",{className:"search_sidebar--sidebar--PZz8B"},i.createElement("ul",{className:"search_sidebar--sidebarList--abBb8"},n.map(([t,n,l])=>{let o=e===t,s=r.copyWith({},{resource_type:t}),{count:d,hasMore:m}=a[t];return i.createElement("a",{key:t,className:"search_sidebar--sidebarListLink--Nx39c",href:s.href,onClick:r=>{r.preventDefault(),c.Ay.push(s.href),(0,nm.sx)("resource_type_filter_changed",{resource_type:t,from:e})}},i.createElement("li",{className:M()({"search_sidebar--sidebarListItemActive--fmMkX":o},"search_sidebar--sidebarListItem--eursr text--fontPos14--OL9Hp text--_fontBase--QdLsd")},i.createElement(l,{active:o}),i.createElement("span",{className:"search_sidebar--resourceName--NpWFB"},n),i.createElement("span",{className:"search_sidebar--numSearchResults--ficC3"},`${d??0}${m?"+":""}`)))})))}let E7={resourceType:"resource_type",editorType:"editor_type",price:"price",creators:"creators",sortBy:"sort_by"},he=e=>({query:e.search.query??"",editor_type:e.search.editor_type??mz.k.Editors.ALL,price:e.search.price??m$.C.Price.ALL,sort_by:e.search.sort_by??(0,mG.H)(),creators:e.search.creators??mY.Z.Browse.ALL,resource_type:e.search.resource_type??mq.L.SearchResourceTypes.MIXED});function ht(){let e;let t=(0,l.d4)(e=>!!(e.authedActiveCommunityProfile?.team_id||e.authedActiveCommunityProfile?.org_id)),r=(0,sZ.N)(`(max-width: ${io.ial})`),a=(0,sZ.N)(`(max-width: ${io.cVr})`),n=(0,sZ.N)(`(max-width: ${io.N6X})`),o=(0,mj.vw)(mQ),d=he(o);(0,i.useEffect)(()=>{0===d.query.trim().length&&c.Ay.replace("/community")},[d.query]);let m=(0,i.useMemo)(()=>({resourceType:d.resource_type,editorType:d.editor_type,price:d.price,creators:d.creators,sortBy:d.sort_by}),[d]),u=(0,i.useRef)(null),_=(0,i.useRef)(null),{trackResourceImpression:p,flushAndResetResourceImpressions:f}=fp({extraProperties:{sort:d.sort_by,resourceType:d.resource_type}});i.useEffect(()=>{f()},[d.resource_type,d.query,d.editor_type,d.price,d.creators,d.sort_by,f]);let{resultsByType:g,isLoading:E,isLoadingAdditionalResources:h}=function(e){let[t,r]=(0,i.useState)({mixed:EX(),files:EX(),plugins:EX(),widgets:EX(),profiles:[]}),[a,n]=(0,i.useState)(!0),[o,s]=(0,i.useState)(!0),c=(0,ol.J)()??"unattributed",d=(0,l.wA)(),[m,u]=(0,i.useState)(null);return(0,i.useEffect)(()=>{(async()=>{let t=new URLSearchParams(e).toString();if(m&&m===t)return;u(t),n(!0),s(!0);let a=await E4(e,c,d),i=EX(),l=[];a&&(i=EZ(a.resourcesResponse),l=a.profilesResponse.data.meta.results),r(e=>({...e,[mq.L.SearchResourceTypes.MIXED]:i,[mq.L.SearchResourceTypes.PROFILES]:l})),n(!1);let o=await E8(e,c,d),_=EX(),p=EX(),f=EX();o&&(i=function(e,...t){let r=new Set(e.resources.map(e=>`${e.id}`)),a=[],n=0;for(let e of t)n+=e.total_hits??e.results.length,e.results.forEach(e=>{r.has(e.model.id)?n-=1:a.push(e)});let i=a.sort((e,t)=>t.score-e.score);return{resources:[...e.resources,...EK(i)],totalHits:e.totalHits+n}}(i,o.filesResponse.data.meta,o.pluginsResponse.data.meta,o.widgetsResponse.data.meta),_=EZ(o.filesResponse),p=EJ(o.pluginsResponse),f=EZ(o.widgetsResponse)),r(e=>({...e,[mq.L.SearchResourceTypes.MIXED]:i,[mq.L.SearchResourceTypes.FILES]:_,[mq.L.SearchResourceTypes.PLUGINS]:p,[mq.L.SearchResourceTypes.WIDGETS]:f})),s(!1),(0,nm.sx)(dN.M5.SEARCH_QUERY_RESULT,{query:e.query,responseCounts:i.resources.length,scope:"community",entry_point:"community",context:"searchView",searchSessionId:c,files:_.resources.length,plugins:p.resources.length,widgets:f.resources.length,projects:0,teams:0,users:0})})()},[e,d,c,m]),{resultsByType:t,isLoading:a,isLoadingAdditionalResources:o}}((0,i.useMemo)(()=>({query:d.query,editor_type:d.editor_type,price:d.price,creators:d.creators,sort_by:d.sort_by}),[d.query,d.editor_type,d.price,d.creators,d.sort_by])),y=()=>{let e=(_.current?.getBoundingClientRect().top||0)-(u.current?u.current.getBoundingClientRect().top+u.current.getBoundingClientRect().height:0);e<0&&window.scrollTo({top:window.scrollY+e,behavior:"smooth"})},v=g[d.resource_type]??EX(),b="resources"in v?v.resources:v,w=E;(d.resource_type===mq.L.SearchResourceTypes.FILES||d.resource_type===mq.L.SearchResourceTypes.WIDGETS||d.resource_type===mq.L.SearchResourceTypes.PLUGINS)&&(w=h);let T=4;return r&&(T=3),a&&(T=2),e=w||0!==b.length?d.resource_type===mq.L.SearchResourceTypes.PLUGINS?i.createElement(pv,{plugins:b,onIntersectionChange:(e,t)=>{t&&p(e)},isLoading:w,isOrgTeamBrowsing:t}):d.resource_type===mq.L.SearchResourceTypes.PROFILES?i.createElement(Ez,{profiles:b}):i.createElement(pL,{resources:b,maxGridDim:{cols:T},onIntersectionChange:(e,t)=>{t&&p(e)},isLoading:w,skipResourceLimit:!0,mobileBreakpoint:"850px",mobileMaxGridDim:{cols:1}}):i.createElement(Ej,{resourceType:d.resource_type,query:d.query,view:d}),i.createElement("div",null,i.createElement(EY,{query:d.query,resourceType:d.resource_type}),i.createElement("div",{className:"search_page--searchBody--SMGyq"},!n&&i.createElement(E6,{selectedResourceType:d.resource_type,resultsByType:g}),i.createElement("div",{className:"search_page--searchResources--GIbNR"},i.createElement(pE,{containerRef:u,filterState:m,onUpdate:e=>{let t=o.copyWith({},Object.fromEntries(e.map(e=>[E7[e.key],e.value])));c.Ay.replace(t.href),y()},context:"search"}),i.createElement("div",{ref:_,className:"search_page--contentContainer--sQFpL"},e),!(0,s.y3)()&&i.createElement("div",{className:"search_page--footerContainer--QV2xJ"},i.createElement(s7,null)))))}var hr=r(30970);function ha({category:e,rdpImpressionId:t}){let r=(0,sZ.N)(`(max-width: ${io._C6})`),{parent_category:a}=e||{parent_category:null},n=(0,cw.S)(a?.url_slug,s8.LJ),l=(0,cw.S)(e.url_slug,s8.LJ),o=!!t,s=[a&&n&&{text:(0,k.Yd)(a.i18n_meta?.title,a.title),linkProps:{to:new s5.IE({categorySlug:n}).to,trackingEventName:"cmty_category",trackingProperties:{name:"category_breadcrumb_clicked",category_slug:n,category_text:a.title,rdpImpressionId:t,is_mobile:r}}},l&&{text:(0,k.Yd)(e.i18n_meta?.title,e.title),linkProps:{to:new s5.IE({categorySlug:l}).to,trackingEventName:"cmty_category",trackingProperties:{name:"category_breadcrumb_clicked",category_slug:l,category_text:e.title,rdpImpressionId:t,is_mobile:r}}}].filter(Boolean);return i.createElement(s1,{breadcrumbs:s,surface:o?"resource":"category"})}function hn({category:e,showTags:t=!1}){let r=(0,cw.S)(e.url_slug,s8.LJ);if(!r||e.selected_tag)return null;let a=t?e.tags.map(e=>({to:new s5.IE({categorySlug:r}).href+`/${e.url_slug}`,title:e.text,translatedTitle:(0,k.Yd)(e.i18n_meta?.text,e.text),urlSlug:e.text})):e.child_categories?e.child_categories.filter(e=>(0,cw.N)(e.url_slug,s8.LJ)&&"other"!==e.title.toLowerCase()).map(e=>({to:new s5.IE({categorySlug:e.url_slug}).href,title:e.title,translatedTitle:(0,k.Yd)(e.i18n_meta?.title,e.title),urlSlug:e.url_slug})):[];return 0===a.length?null:i.createElement("div",{className:"category_links_container--subcategoriesContainer--6e1tK"},a.map(({to:e,title:r,translatedTitle:a,urlSlug:n})=>i.createElement(aI.o3,{key:e,trackingEventName:"cmty_category",trackingProperties:{name:t?"tag_link_clicked":"subcategory_link_clicked",category_slug:n,text:r,to:e},to:e,className:"category_links_container--subcategory--Wzmn3 text--fontPos13--xW8hS text--_fontBase--QdLsd"},a)))}var hi=r(890710);function hl({categorySlug:e,category:t,isTagsEnabled:r,isFeedPage:a=!1}){let n=(0,sZ.N)(`(max-width: ${io._C6})`),{parent_category:l}=t||{parent_category:null},o=(0,cw.S)(l?.url_slug,s8.LJ),s=a&&l&&o;return t?i.createElement("div",{className:"category_banner--categoryBannerRedesign--Ri6Fg"},i.createElement("div",{className:M()("category_banner--headerContainer--Wysim","category_banner--breadcrumbsPadding--o8hp4")},i.createElement(ha,{category:t}),i.createElement("div",{className:M()("category_banner--categoryHeaderRedesign--NN5On text--fontPos24Whyte--gYiFz text--_fontBaseWhyte--efAjI",{[N.cx.flexColumn.$]:n})},s&&i.createElement(i.Fragment,null,i.createElement(aI.o3,{to:new s5.IE({categorySlug:o}).to,trackingEventName:"cmty_category",trackingProperties:{name:"category_breadcrumb_clicked",category_slug:l.url_slug,from_category_slug:e,is_mobile:n},className:"category_banner--categoryBannerParent--bx7AV"},n?i.createElement("div",{className:"category_banner--mobileBackButton--hZ3hI"},i.createElement(ei.B,{svg:hi.A,style:{fill:(0,u9.TD)("default")}})):(0,k.Yd)(l.i18n_meta?.title,l.title)),!n&&i.createElement(ei.B,{svg:fi.A,style:{fill:(0,u9.TD)("default")}})),i.createElement("h1",null,(0,_f.uD)(t))),i.createElement("p",{className:"category_banner--categoryDescriptionRedesign--chvSi text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,_f.J7)(t))),i.createElement(hn,{category:t,showTags:r&&!!t.tags.length}),(0,u.kc)().piper_cmty_home_banner&&e===s8.LJ.presentations&&i.createElement("div",{className:"category_banner--categorySlidesPromoBanner--itNB4"},i.createElement(fd,null))):null}function ho({category:e}){return e&&e.extended_description?i.createElement("div",{className:"category_extended_description--extendedDescriptionContainer--TTPGo"},i.createElement("div",{className:"category_extended_description--title--hucIj text--fontPos24--YppUD text--_fontBase--QdLsd"},(0,k.tx)("categories.about")),i.createElement("p",{className:"category_extended_description--extendedDescription--KngAg text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,_f.If)(e))):null}let hs="category_page--feedContainer--9f3SB text--fontPos15--IR8IB text--_fontBase--QdLsd",hc="category_page--feed--j1AWz text--fontPos13--xW8hS text--_fontBase--QdLsd",hd="category_page--footerContainer--RNpoP";function hm(e,t){return t===s8.LJ.presentations&&void 0===e.resource_type&&(e.editor_type=mz.k.Editors.SLIDES,e.resource_type=mq.L.BrowseResourceTypes.FILES),{resourceType:e.resource_type??mq.L.BrowseResourceTypes.MIXED,editorType:e.editor_type??mz.k.Editors.ALL,price:e.price??m$.C.ALL,sortBy:e.sort_by??(0,mG.H)()}}function hu(){var e;let t;let r=(0,os.YQ)()(),{categorySlug:a,tagSlug:n}=(0,mj.Rd)(s5.IE),o=(0,mj.vA)(s5.IE),d=(0,i.useMemo)(()=>hm(o,a),[o,a]),{trackResourceImpression:m,flushAndResetResourceImpressions:u}=fp({extraProperties:{sort:o.sort_by,resourceType:o.resource_type}}),[_,p]=(0,i.useState)(!0),[f,g]=(0,i.useState)(!1),E=(0,sZ.N)(`(max-width: ${io.d8i})`),h=(0,sZ.N)(`(max-width: ${io.g8m})`),[y]=(0,t1.IT)((0,mW.Zp)({categorySlug:a,tagSlug:n})),[v]=(0,t1.IT)((0,mW.R5)(a));i.useEffect(()=>{u()},[a,u]);let b="loaded"!==y.status?null:y.data,w=n||"loaded"!==v.status?null:v.data,{resources:T,loadMore:I,canLoadMore:C,loading:x}=pR((e=b?.editor_types[0],{...d,category:a,tags:n,editorType:e||d.editorType,limit:48}),"loaded"===y.status),k=(0,i.useMemo)(()=>{let e=new Set;return w&&w.shelf_content.forEach(t=>{e.add(t.id)}),e},[w]),S=(0,i.useMemo)(()=>T.filter(e=>!k.has(e.id)),[T,k]),L=(0,i.useMemo)(()=>{let e=(w?.shelf_content??[]).filter(e=>"viewer_mode"in e||"is_widget"in e);return(0,oo.o7)(e,{editor_type:d.editorType,price:d.price,resourceType:d.resourceType})},[w,d.editorType,d.price,d.resourceType]),A=(0,i.useMemo)(()=>[...L,...S],[L,S]),R=(0,i.useRef)(null),P=(0,l.d4)(e=>!!(e.authedActiveCommunityProfile?.team_id||e.authedActiveCommunityProfile?.org_id));(0,i.useEffect)(()=>{x||(_&&p(!1),g(!1))},[_,x]);let F=b?.selected_tag?.meta_title||b?.meta_title;if((0,i.useEffect)(()=>{F&&(document.title=F+" | Figma")},[F]),!b)return null;if(_&&(x||"loading"===y.status||"loading"===v.status))return i.createElement("div",{className:N.cx.p10.$},i.createElement(ce.y$,null));let O=!x&&0===A.length,D=x&&!f,M=d.resourceType===mq.L.BrowseResourceTypes.PLUGINS&&(D||A.every(o_.I0));return t=O?i.createElement(Ej,{resourceType:d.resourceType,query:a,view:d}):M?i.createElement(pv,{plugins:A,onIntersectionChange:(e,t)=>{t&&m(e)},isOrgTeamBrowsing:P,isLoading:D}):i.createElement(pL,{resources:A,maxGridDim:{cols:h?2:E?3:4},mobileMaxGridDim:{cols:1},onIntersectionChange:(e,t)=>{t&&m(e)},isLoading:D,loadingTileCount:8}),i.createElement(i.Fragment,null,i.createElement(hl,{category:b,categorySlug:a,isTagsEnabled:r}),i.createElement("div",{className:hs},i.createElement(pE,{allowedEditorTypes:b.editor_types,containerRef:R,filterState:d,onUpdate:e=>{let t={};e.forEach(({key:e,value:r})=>{t[e]=r});let r={...d,...t};b.editor_types[0]&&(r.editorType=b.editor_types[0]),c.Ay.replace(new s5.IE({categorySlug:a,tagSlug:n},{resource_type:r.resourceType,editor_type:r.editorType,price:r.price}).href)},context:"category"}),i.createElement("div",{className:hc},t,C&&i.createElement(cr,{onClick:e=>{e.preventDefault(),I(),g(!0)},isLoading:f,isMoreToFetch:C}),i.createElement(ho,{category:b}),!(0,s.y3)()&&i.createElement("div",{className:hd},i.createElement(s7,null)))))}function h_(){let e;let t=(0,os.YQ)()(),{categorySlug:r,tagSlug:a}=(0,mj.Rd)(s5.IE),n=(0,mj.vA)(s5.IE),o=(0,i.useMemo)(()=>hm(n,r),[n,r]),{trackResourceImpression:d,flushAndResetResourceImpressions:m}=fp({extraProperties:{sort:n.sort_by,resourceType:n.resource_type}}),u=(0,sZ.N)(`(max-width: ${io.d8i})`),_=(0,sZ.N)(`(max-width: ${io.g8m})`),[{data:p,status:f}]=(0,t1.IT)((0,mW.Zp)({categorySlug:r,tagSlug:a})),g="loaded"!==f?null:p;i.useEffect(()=>{m()},[r,m]);let[{data:E,status:h,hasNextPage:y,isFetchingNextPage:v},{fetchNextPage:b}]=(0,t1.IT)(cY.a.ResourcesPaginatedQuery({...pO(o),caller:cY.z.CATEGORY,pageSize:48,category:r,tags:a?[a]:void 0})),[{data:w,status:T}]=(0,t1.IT)((0,mW.R5)(r)),I=a||"loaded"!==T?null:w,C=(I?.shelf_content??[]).filter(e=>"viewer_mode"in e||"is_widget"in e),x=(0,i.useMemo)(()=>{let e=new Set(C.map(e=>e.id));return(E??[]).filter(t=>!e.has(t.rdp_url.split("/").pop()??""))},[E,C]),k=(0,i.useMemo)(()=>(0,oo.o7)(C,{editor_type:o.editorType,price:o.price,resourceType:o.resourceType}),[C,o.editorType,o.price,o.resourceType]),S=(0,i.useMemo)(()=>[...k,...x],[k,x]),L="loading"===h||"loading"===T,A=(0,i.useRef)(null),R=(0,l.d4)(e=>!!(e.authedActiveCommunityProfile?.team_id||e.authedActiveCommunityProfile?.org_id)),P=g?.selected_tag?.meta_title||g?.meta_title;if((0,i.useEffect)(()=>{P&&(document.title=P+" | Figma")},[P]),"loading"===f||!g)return i.createElement("div",{className:N.cx.p10.$},i.createElement(ce.y$,null));let F=!L&&E?.length===0,O=o.resourceType===mq.L.BrowseResourceTypes.PLUGINS&&(L||(S??[]).every(e=>(0,oC.ws)(e)?e.resource_type===dn.vt.PLUGIN:(0,o_.I0)(e))),D=[];return O&&(D=(S??[]).map(e=>(0,oC.ws)(e)?e.content?.plugin:e).filter(e=>void 0!==e)),e=F?i.createElement(Ej,{resourceType:o.resourceType,query:r,view:o}):O?i.createElement(pv,{plugins:D,onIntersectionChange:(e,t)=>{t&&d(e)},isOrgTeamBrowsing:R,isLoading:L}):i.createElement(pL,{resources:S??[],maxGridDim:{cols:_?2:u?3:4},mobileMaxGridDim:{cols:1},onIntersectionChange:(e,t)=>{t&&d(e)},isLoading:L,loadingTileCount:8}),i.createElement(i.Fragment,null,i.createElement(hl,{category:g,categorySlug:r,isTagsEnabled:t}),i.createElement("div",{className:hs},i.createElement(pE,{allowedEditorTypes:g.editor_types,containerRef:A,filterState:o,onUpdate:e=>{let t={};e.forEach(({key:e,value:r})=>{t[e]=r});let n={...o,...t};g.editor_types[0]&&(n.editorType=g.editor_types[0]),c.Ay.replace(new s5.IE({categorySlug:r,tagSlug:a},{resource_type:n.resourceType,editor_type:n.editorType,price:n.price}).href)},context:"category"}),i.createElement("div",{className:hc},e,y&&i.createElement(cr,{onClick:e=>{e.preventDefault(),b()},isLoading:v,isMoreToFetch:y}),i.createElement(ho,{category:g}),!(0,s.y3)()&&i.createElement("div",{className:hd},i.createElement(s7,null)))))}function hp(){let{categorySlug:e,tagSlug:t}=(0,mj.Rd)(s5.IE);return i.createElement(aI.fu,{name:iV.e0.COMMUNITY_HUB_CATEGORY,properties:{category:e,tag:t}},(0,u.kc)().cmty_feed_resource_platform?i.createElement(h_,null):i.createElement(hu,null))}let hf={resourceType:"resourceType",editorType:"editor_type",price:"price",creators:"creators",sortBy:"sort_by"},hg=e=>({resourceType:e.resourceType,editorType:e.editor_type,price:e.price,creators:e.creators,sortBy:e.sort_by}),hE=(e,t)=>{let r=t.getBoundingClientRect(),a=t.closest(`.${sy.pz}`).getBoundingClientRect();e.style.width=r.width+"px",e.style.height=r.height+"px",e.style.top=r.y-a.y+"px"};function hh({view:e,resultsByType:t}){(0,u.kc)().statsig_aa_flag_web_cmtysidebar;let r=E3()(t,e=>"resources"in e?{count:e.resources.length,hasMore:e.totalHits>e.resources.length}:{count:e.length,hasMore:!1}),a=[E9.All,E9.Files,E9.Plugins,E9.Widgets,E9.Union],n=i.useRef(null);i.useEffect(()=>{if(n.current&&e.resourceType){let e=n.current.parentNode.querySelector(`.${sy.vu}`);hE(n.current,e)}},[e.resourceType]);let l=[[mq.L.BrowseResourceTypes.MIXED,(0,k.t)("community.view_bar.all")],[mq.L.BrowseResourceTypes.FILES,(0,k.t)("community.view_bar.files_and_templates")],[mq.L.BrowseResourceTypes.PLUGINS,(0,k.t)("community.view_bar.plugins")],[mq.L.BrowseResourceTypes.WIDGETS,(0,k.t)("community.view_bar.widgets")]];return"string"==typeof e.query&&l.push(["profiles",(0,k.t)("community.view_bar.creators")]),i.createElement("div",{className:sy.pz},i.createElement("div",{className:sy.w,ref:n}),i.createElement("ul",null,l.map(([t,n],l)=>{let o=(0,nu.MU)({...(0,nu.wl)(),resourceType:t}),s=a[l],{count:d,hasMore:m}=r[t],u="query"in e?i.createElement("span",{className:sy.fw},`${d??0}${m?"+":""}`):null;return i.createElement("a",{key:t,href:o,onClick:r=>{r.preventDefault(),c.Ay.push(o),(0,nm.sx)("resource_type_filter_changed",{resource_type:t,from:e.resourceType})}},i.createElement("li",{className:e.resourceType===t?sy.vu:""},i.createElement(s,{active:e.resourceType===t}),i.createElement("span",{className:sy.rt},n),u))})))}function hy(e,t){let r=e[t];return"resources"in r?r.resources:r}let hv=function(){let e=[],t={};return{push:(r,a)=>{let n=r.pathname+r.search,i=t[n];if(i||e.push(n),t[n]={...i||{},state:a},e.length>10){let r=e.shift();delete t[r]}},get:e=>{let r=t[e.pathname+e.search];if(r)return r}}}();function hb({onClick:e,isLoading:t,isMoreToFetch:r}){return t?i.createElement("div",{className:sy.V3},i.createElement(ce.y$,null)):i.createElement(cr,{onClick:e,isLoading:!1,isMoreToFetch:r})}function hw(e){return`${e.id}-${(0,oC.Vm)(e)}`}function hT(e){return e.map(e=>{let t=e.model;return(0,o_.xQ)(t)||(0,o_.I0)(t)?(0,_B.I$)(t):t})}function hI(){return{resources:[],totalHits:0}}function hC(){return{mixed:hI(),files:hI(),plugins:hI(),widgets:hI(),profiles:[]}}let hx=class e extends i.Component{constructor(e){super(e),this.feedAppWrapper=null,this.hasLoadedFirstTimeForView=!1,this.impressedResourcesForView=new Set,this.impressedResourcesLoggingBuffer=[],this.state={results:[],searchError:void 0,pagination:void 0,isActivelyLoadingRequest:!1},this.feedContentRef=i.createRef(),this.filterControlsRef=i.createRef(),document.title=(0,oo.vC)(this.props.view),this.sendResourceImpressions=(0,fm.s)(()=>{if(0===this.impressedResourcesLoggingBuffer.length)return;let{view:e}=this.props,{trackingContext:t,properties:r}=this.getTrackingProps();(0,nm.sx)("hub_impressed_resources",{impressedItems:this.impressedResourcesLoggingBuffer.map(({id:e})=>e),impressedItemTypes:this.impressedResourcesLoggingBuffer.map(({type:e})=>e),sort:e.sort_by,resourceType:e.resourceType,trackingContext:t,...r}),this.impressedResourcesLoggingBuffer=[]},1e3)}componentDidMount(){this.resetScrollPosition(),this.queryWithParamsAndUpdateState(void 0),(0,s8.OE)(this.props.view)&&this.props.dispatch(_N.Dy({entryPoint:"community"}))}showFeedAsTable(){return this.props.view?.resourceType===mq.L.BrowseResourceTypes.PLUGINS||this.props.view?.resourceType===mq.L.SearchResourceTypes.PROFILES}componentDidUpdate(e){(0,l.bN)(this.props.view,e.view)?hv.push(this.props.location,this.state):(this.hasLoadedFirstTimeForView=!1,this.queryWithParamsAndUpdateState(e.view),document.title=(0,oo.vC)(this.props.view),this.sendAndResetResourceImpressions())}componentWillUnmount(){(0,s8.OE)(this.props.view)&&this.props.dispatch(_N.ky()),this.sendAndResetResourceImpressions()}isMoreToFetch(){return!this.hasLoadedFirstTimeForView||(0,_D.nC)().filter(this.props.view).isMoreToFetch(this.state.pagination)}asyncFetchAdditionalSearchResources(){let{dispatch:e,view:t,searchSessionId:r}=this.props;Promise.all([e((0,_D.nC)().filter(t).searchResources({resourceType:"files"})),e((0,_D.nC)().filter(t).searchResources({resourceType:"plugins"})),e((0,_D.nC)().filter(t).searchResources({resourceType:"widgets"}))]).then(([e,a,n])=>{let{resultsByType:i}=this.state;if(!i)return;let l=hT(e.data.meta.results),o=e.data.meta.total_hits??l.length,s=hT(a.data.meta.results),c=a.data.meta.total_hits??s.length,d=hT(n.data.meta.results),m=n.data.meta.total_hits??d.length,u={...i,mixed:function(e,...t){let r=new Set(e.resources.map(hw)),a=[],n=0;for(let e of t)n+=e.total_hits??e.results.length,e.results.forEach(e=>{r.has(hw(e.model))?n-=1:a.push(e)});let i=a.sort((e,t)=>t.score-e.score);return{resources:[...e.resources,...hT(i)],totalHits:e.totalHits+n}}(i.mixed,e.data.meta,a.data.meta,n.data.meta),files:{resources:l,totalHits:o},plugins:{resources:s,totalHits:c},widgets:{resources:d,totalHits:m}},_=s.filter(e=>(0,o_.mr)(e)&&e.roles?.is_public),p=d.filter(e=>(0,o_.mr)(e)&&e.roles?.is_public);(0,nm.sx)("search_query_result",{query:t.query,responseCounts:u.mixed.resources.length,scope:"community",entry_point:"community",context:"searchView",searchSessionId:r,files:l.length,private_plugins:s.length-_.length,private_widgets:d.length-p.length,public_plugins:_.length,public_widgets:p.length,projects:0,teams:0,users:0}),this.setState({results:hy(u,t.resourceType),resultsByType:u})}).catch(()=>{})}querySearchMixedAndProfiles(){let{view:e,dispatch:t}=this.props;return this.feedAppWrapper?.setAttribute("data-hide","true"),t((0,_D.nC)().filter(e).searchResourcesAndProfiles({resourceType:"mixed"})).then(t=>{let[r,a]=[t[0].data.meta.results,t[1].data.meta.results],n=hT(r),i=t[0].data.meta.total_hits??n.length;this.asyncFetchAdditionalSearchResources();let l={...this.state.resultsByType??hC(),mixed:{resources:n,totalHits:i},profiles:a};this.setState({searchError:void 0,results:hy(l,e.resourceType),resultsByType:l},()=>{this.feedAppWrapper?.removeAttribute("data-hide")})}).catch(e=>{(0,s8.OE)(this.props.view)&&this.setState({searchError:e.message||(0,k.t)("community.error.search_request_failed"),results:[]})})}queryBrowse(){let e;let{view:t}=this.props,r=(0,_D.nC)().filter(t),a=this.hasLoadedFirstTimeForView&&this.state.pagination?.next_page;return a?e=(0,sj.k9)(this.state.pagination?.next_page):(this.feedAppWrapper?.setAttribute("data-hide","true"),e=r.browse(t.resourceType,48)),Promise.all([e]).then(e=>{let[t]=e;if(!t)throw Error("Error handling response");let{data:r}=t,{meta:n,pagination:i}=r,{resources:l}=n;this.setState({results:a?[...this.state.results,...l]:l,pagination:i,searchError:void 0},()=>{this.feedAppWrapper?.removeAttribute("data-hide")})}).catch(e=>{(0,cW.$D)(af.e.COMMUNITY,e)})}static shouldSearch(e,t){return!(0,s8.OE)(e)||e.resourceType===t.resourceType||(0,nu.Mc)({...e,resourceType:"profiles"})!==(0,nu.Mc)({...t,resourceType:"profiles"})}async queryWithParamsAndUpdateState(t){let{view:r,location:a}=this.props;if(!r||this.state.isActivelyLoadingRequest||!this.isMoreToFetch())return;if(!(this.hasLoadedFirstTimeForView&&this.state.pagination?.next_page)){let e=hv.get(a);if(e){this.setState(e.state),this.feedAppWrapper?.removeAttribute("data-hide"),this.hasLoadedFirstTimeForView=!0;return}}this.setState({isActivelyLoadingRequest:!0});let n=(0,s8.OE)(r);try{n?t&&!e.shouldSearch(t,r)&&this.state.resultsByType?this.setState({results:hy(this.state.resultsByType,r.resourceType),searchError:void 0}):await this.querySearchMixedAndProfiles():await this.queryBrowse(),this.hasLoadedFirstTimeForView=!0}catch(e){}this.setState({isActivelyLoadingRequest:!1})}resetScrollPosition(){let e=(this.feedContentRef.current?.getBoundingClientRect().top||0)-(this.filterControlsRef.current?this.filterControlsRef.current.getBoundingClientRect().top+this.filterControlsRef.current.getBoundingClientRect().height:0);e<0&&window.scrollTo({top:window.scrollY+e,behavior:"smooth"})}addResourceImpression(e){let t=e.id,r=(0,oC.Vm)(e),a=`${t}-${r}`;this.impressedResourcesForView.has(a)||(this.impressedResourcesForView.add(a),this.impressedResourcesLoggingBuffer.push({id:e.id,type:(0,oC.Vm)(e)}),this.sendResourceImpressions())}sendAndResetResourceImpressions(){this.sendResourceImpressions.flush(),this.impressedResourcesForView.clear()}getTrackingProps(){let{view:e}=this.props,t=e.tags,r=!!t?.length,a=e.query;return"string"==typeof a?{trackingContext:iV.e0.COMMUNITY_HUB_SEARCH,properties:{searchQuery:a}}:r?{trackingContext:iV.e0.COMMUNITY_HUB_TAG,properties:{tags:t.join(",")}}:{trackingContext:iV.e0.COMMUNITY_HUB,properties:{}}}render(){let{view:e}=this.props;if(!e)return i.createElement(i.Fragment,null);let t=e.tags,r=!!t?.length,a=e.query,n="string"==typeof a,{resourceType:l}=e,o=(r||n)&&this.hasLoadedFirstTimeForView&&0===this.state.results.length,d="";o&&(d=a||t.join(", ")||"");let{trackingContext:m,properties:u}=this.getTrackingProps();return i.createElement(aI.fu,{name:m,properties:u},i.createElement(oe.S,null),i.createElement("div",{ref:e=>this.feedAppWrapper=e},(0,s8.OE)(e)&&i.createElement(EY,{query:e.query,resourceType:e.resourceType,error:this.state.searchError}),i.createElement("div",{className:sy.IB},i.createElement(hh,{view:e,resultsByType:this.state.resultsByType??hC()}),i.createElement("div",{className:sy.hm},i.createElement(pE,{containerRef:this.filterControlsRef,filterState:hg(e),onUpdate:e=>{let t={};e.forEach(({key:e,value:r})=>{t[hf[e]]=r}),c.Ay.replace((0,nu.MU)({...(0,nu.wl)(),...t})),this.resetScrollPosition()},context:"search"}),i.createElement("div",{ref:this.feedContentRef},o?i.createElement(Ej,{resourceType:l,query:d,view:e,isError:!!this.state.searchError}):i.createElement("div",{className:sy.E9},i.createElement(sw,{onIntersectionChange:(e,t)=>{t.isIntersecting&&this.addResourceImpression(e)},adtlClassName:sb(this.showFeedAsTable()?"rows":"compact"),resources:this.state.results,showAsTable:this.showFeedAsTable(),showMoreCallback:p.lQ,viewContext:"communityFeed"}))),i.createElement(hb,{onClick:e=>{e.preventDefault(),this.queryWithParamsAndUpdateState()},isLoading:this.state.isActivelyLoadingRequest,isMoreToFetch:this.isMoreToFetch()}),!(0,s.y3)()&&i.createElement("div",{className:sy.xQ},i.createElement(s7,null))))))}};function hN(){let e=(0,l0.zy)(),t=(0,nu.UH)(),r=(0,l.wA)(),a=(0,ol.J)();return t?i.createElement(hx,{view:t,location:e,dispatch:r,searchSessionId:a}):(oV.k.warn("This shouldn't happen: Community view is undefined in '<FeedView />'."),c.Ay.replace("/community"),null)}hx.displayName="FeedPage";var hk=r(843540);let hS=r(210448).u;var hL=r(84336),hA=r(776397),hR=r(410424);let hP=(0,f0.nF)((e,{pluginId:t,isWidget:r})=>sj.Ay.post(`/api/${r?"widgets":"plugins"}/${t}/view`,{pluginId:t}));var hF=r(941448),hO=r(323434);let hD="mobile_media_carousel--carouselItem--k7rAE",hM=(e,t)=>Math.abs(e)*t,hB=(e,t)=>{let r=[];return e===t[0]-1||e===t[1]+1?r.push("scale(0.6)"):e===t[0]-2||e===t[1]+2?r.push("scale(0.4)"):(e===t[0]-3||e===t[1]+3)&&r.push("scale(0)"),r},hU={enter:e=>({x:e>0?300:-300,opacity:0}),center:{zIndex:1,x:0,opacity:1},exit:e=>({zIndex:0,x:e<0?300:-300,opacity:0})};function hV({resource:e,resourceContent:t}){let r=(0,ol.J)(),[a,n]=i.useState(0),[l,o]=i.useState(0),s=(0,oo.N6)(e),c=s.length>1,d=s[a],[m,u]=(0,i.useState)([0,2]),[_,p]=(0,i.useState)(0);if(!c||!d)return i.createElement(hW,{resource:e,resourceContent:t,selectedMedium:d});let[f,g]=oL(d),E=e=>{let t=(0,lR.qE)(a+e,0,s.length-1);n(t),t>m[1]?(u(e=>[e[0]+1,e[1]+1]),p(_-10)):t<m[0]&&(u(e=>[e[0]-1,e[1]-1]),p(_+10))};return i.createElement(aI.fu,{name:iV.e0.COMMUNITY_MOBILE_RDP_CAROUSEL,properties:{resource_type:(0,oC.Vm)(t),resource_id:e.id,searchSessionId:r}},i.createElement("div",{className:"mobile_media_carousel--mobileMediaCarousel--AIpoz",onMouseDown:e=>{e.stopPropagation(),e.preventDefault()},role:"grid",tabIndex:0},i.createElement(hO.N,{mode:"popLayout",initial:!1,custom:l},i.createElement(pB.P.div,{key:a,custom:l,variants:hU,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.05}},whileDrag:{cursor:"grabbing"},drag:"x",dragDirectionLock:!0,dragConstraints:{left:0,right:0},dragElastic:.5,onDragEnd:(n,{offset:i,velocity:l})=>{let s=hM(i.x,l.x);s<-500?(E(1),o(1),(0,nm.sx)("community_mobile_rdp",{name:"mobile_rdp_carousel_swipe",community_resource_id:e.id,resource_type:(0,oC.Vm)(t),selectedIndex:a,searchSessionId:r})):s>500&&(E(-1),o(-1),(0,nm.sx)("community_mobile_rdp",{name:"mobile_rdp_carousel_swipe",community_resource_id:e.id,resource_type:(0,oC.Vm)(t),selectedIndex:a,searchSessionId:r}))}},i.createElement("div",{className:hD},"video"===d.type?i.createElement(oJ,{src:oP(d,e),fallbackSrc:d.url,useHLS:!0,autoPlay:!0,muted:!0,onEnded:()=>{(0,nm.sx)("community_mobile_rdp",{name:"mobile_rdp_video_ended",community_resource_id:e.id,resource_type:(0,oC.Vm)(t),searchSessionId:r})}}):i.createElement(oA,{thumbnailUrl:f,resourceId:e.id,altText:(0,od.K2)(e)+" preview",thumbnailContext:oN.O7.DETAIL,resizedThumbnailUrls:g,isMobileCarousel:!0})))),i.createElement("div",{className:"mobile_media_carousel--carouselIndicator--etWE0",style:{transform:`translateX(${-_}px)`}},(0,lR.y1)(s.length).filter(e=>e<=m[1]+3&&e>=m[0]-3).map(e=>{let t=[`translateX(${_}px)`,...hB(e,m)].join(" ");return i.createElement("div",{key:e,className:M()("mobile_media_carousel--carouselDot--kqCx2",{"mobile_media_carousel--activeCarouselDot--dBLJE":e===a}),style:{transform:t}})}))))}function hW({resource:e,resourceContent:t,selectedMedium:r}){let a=(0,ol.J)();if(r&&"video"===r.type)return i.createElement("div",{className:hD},i.createElement(oJ,{src:oP(r,e),fallbackSrc:r.url,useHLS:!0,autoPlay:!0,muted:!0,onEnded:()=>{(0,nm.sx)("community_mobile_rdp",{name:"mobile_rdp_video_ended",community_resource_id:e.id,resource_type:(0,oC.Vm)(t),searchSessionId:a})}}));let n=(0,oC.XW)(e)?e.thumbnail_src_set:(0,o_.U)(e)&&e.resized_thumbnail_urls;return i.createElement("div",{className:hD},i.createElement(oA,{thumbnailUrl:e.thumbnail_url||"",resourceId:e.id,altText:(0,od.K2)(e)+" preview",thumbnailContext:oN.O7.DETAIL,resizedThumbnailUrls:n||void 0,isMobileCarousel:!0}))}var hH=r(700886);let h$=(0,eu.r1)(n_.Xt);function hj(){let e=(0,es.md)(h$),t=(0,z.iZ)(),r=(0,l.d4)(e=>e.authedActiveCommunityProfile),a=(0,sZ.N)(`(max-width: ${dN.YW-1}px)`),{show:n,isShowing:o,complete:s}=(0,em.e)({overlay:eE.cJy,priority:ep.N.DEFAULT_MODAL},[e]);return(0,d.h)(()=>{!a&&r&&r.has_published&&n({canShow:e=>!e})}),i.createElement(hH._l,{isShowing:o,title:(0,k.tx)("community.modal.creator_carousel_nux.add_image_and_video_previews"),description:(0,k.tx)("community.modal.creator_carousel_nux.drive_eyeballs_and_engagement"),media:i.createElement(hH.B$,{width:400,src:(0,u.ck)("02d9c70dd6cacb66d38819ec23ce6f1b6202e13d"),alt:"An illustration of a carousel of images and videos",aspectRatio:.82}),primaryCta:{type:"link",label:(0,k.tx)("community.modal.creator_carousel_nux.update_my_resources"),href:r?.profile_handle?new ou.xn({profileHandle:r.profile_handle}).href:"",ctaTrackingDescriptor:ed.c.UPDATE_MY_RESOURCES,trackingProperties:{userId:t?.id}},secondaryCta:{type:"link",label:(0,k.tx)("community.learn_more"),href:"https://help.figma.com/hc/en-us/articles/22166943560983-Grow-your-audience-on-Community#mediapreviews",ctaTrackingDescriptor:ed.c.LEARN_MORE,trackingProperties:{userId:t?.id,profileId:r?.id}},trackingContextName:"community_creator_carousel_media_nux",userFlagOnShow:n_.Xt,clickOutsideToHide:!0,onClose:s,closeButtonColor:"dark"})}function hG({resource:e}){return(0,fI.RB)(e)?null:i.createElement(i.Fragment,null,i.createElement(fq.p,{featureFlag:"cmty_rdp_creator_modal"},i.createElement(hj,null)))}function hY({resource:e,resourceContent:t,rdpImpressionId:r,category:a}){let[n,l]=i.useState(!1),o=(0,oa.C)(e);return i.createElement("div",{className:"two_column_resource_page--autoLayoutContainer--odI-S"},a&&i.createElement(ha,{category:a,rdpImpressionId:r}),i.createElement(aq.Y,{width:"100%",direction:"horizontal",height:"hug-contents",verticalAlignItems:"center",horizontalAlignItems:"center",spacing:"auto"},i.createElement("div",{className:uP},i.createElement("div",{className:N.cx.relative.$},i.createElement(uu,{resource:e,resourceContent:t,hasScrolled:n}))),i.createElement("div",{className:o?uF:uO},i.createElement(uS,{resource:e,resourceContent:t,is16to9AspectRatio:o}),i.createElement(en.a,{className:"two_column_resource_page--scrollSentinel--B3rnT",onIntersectionChange:e=>l(!e.isIntersecting)}))))}function hz({resource:e,resourceContent:t,rdpImpressionId:r,category:a}){return i.createElement(i.Fragment,null,i.createElement(hG,{resource:t}),i.createElement(hS,{resource:t}),i.createElement(hY,{resource:e,resourceContent:t,rdpImpressionId:r,category:a}),i.createElement(uc,{resource:e,resourceContent:t,rdpImpressionId:r}))}function hq({resource:e,resourceContent:t,rdpImpressionId:r,isMobileSize:a,category:n}){let[l,o]=i.useState(!1);return i.createElement(i.Fragment,null,n&&i.createElement(ha,{category:n,rdpImpressionId:r}),i.createElement(hV,{resource:e,resourceContent:t}),i.createElement(up,{resource:e,resourceContent:t,hasScrolled:l}),i.createElement("div",{className:"resource_page--mobileScrollSentinelContainer--AkI9N"},i.createElement(en.a,{className:"resource_page--scrollSentinel--yWuQV",onIntersectionChange:e=>o(!e.isIntersecting)})),i.createElement(uc,{resource:e,resourceContent:t,rdpImpressionId:r,isMobileSize:a}))}function hQ(){let[{apiResourceType:e,resourceId:t},r]=i.useState({apiResourceType:(0,oo.eD)()[0],resourceId:(0,oo.eD)()[1]}),a=(0,l.wA)(),n=(0,sZ.N)(`(max-width: ${dN.YW-1}px)`);i.useEffect(()=>{let e=c.Ay.listen(()=>{let[e,t]=(0,oo.eD)();cC.S.hasOwnProperty(e)&&(r(r=>r.apiResourceType===e&&r.resourceId===t?r:{apiResourceType:e,resourceId:t}),setTimeout(()=>window.scrollTo(0,0),100))});return()=>{e(),document.body.removeAttribute("data-hide")}},[]);let o=(0,os.Tg)(),[d]=(0,_.IT)((0,hA.m)({apiResourceType:e,id:t}),{enabled:!o}),[m]=(0,_.IT)((0,hA.Z)({apiResourceType:e,id:t}),{enabled:o}),u=o?m.data:d.data,p=u&&(0,oC.XW)(u)?(0,oC.qY)(u):u,f=!!u?.category_slug,[g]=(0,_.IT)((0,mW.Zp)({categorySlug:u?.category_slug??""}),{enabled:f}),E=g.data??void 0;i.useEffect(()=>{e&&t&&u&&p&&((0,o_.U)(p)?a((0,hR.Sb)({hubFiles:[p],src:"resourcePage"})):a((0,hL.Qi)({publishedPlugins:[p],src:"resourcePage"})),document.title=(0,od.K2)(u)+"\xa0| Figma",document.body.removeAttribute("data-hide"))},[e,t,a,u,p]);let[h,y]=(0,es.fp)(cx);i.useEffect(()=>{y(cC.$O.DescriptionView)},[e,t,y]);let v=i.useRef(null),b=i.useCallback(()=>{v.current&&v.current.scrollIntoView({behavior:"smooth"})},[v]),w=(0,o_.U)(p),T=(0,o_.I0)(p),I=(0,o_.xQ)(p);if(i.useEffect(()=>{w&&a((0,hR.vr)({hubFileId:p.id})),(T||I)&&a(hP({pluginId:p.id,isWidget:I}))},[a,w,I,T,p?.id]),!u||!p)return i.createElement(i.Fragment,null);let C=(0,hF.Ay)(p),x=(0,cH.g)();return i.createElement("div",{className:"resource_page--resourcePage--n6Aio text--fontPos14--OL9Hp text--_fontBase--QdLsd"},i.createElement(aI.fu,{name:C.name,properties:C.properties},i.createElement(dx.H.Provider,{value:{onScrollToRatings:b,externalCommentScrollRef:v}},i.createElement(om.Ay,{mediaQuery:`(min-width: ${dN.EX}px)`},i.createElement(hz,{resource:u,resourceContent:p,rdpImpressionId:x,category:E})),i.createElement(om.Ay,{mediaQuery:`(min-width: ${dN.YW}px) and (max-width: ${dN.EX-1}px)`},i.createElement(hz,{resource:u,resourceContent:p,rdpImpressionId:x,category:E})),i.createElement(om.Ay,{mediaQuery:`(max-width: ${dN.YW-1}px)`},i.createElement(hq,{resource:u,resourceContent:p,rdpImpressionId:x,category:E,isMobileSize:n}))),!(0,s.y3)()&&i.createElement("div",{className:"resource_page--footerContainer--bAm54"},i.createElement(s7,null))))}function hK(){return i.useEffect(()=>{hr.X.initialRenderDurationMs=Math.round(window.performance.now()-hr.X.domContentLoadedMs),hr.X.timeToLoadMs=Math.round(performance.now()),hr.X.report(nm.sx),(0,H.qD)({name:"Community Hub"})},[]),i.createElement("div",{"data-testid":"community-app",className:"community_app--communityApp--kXC00"},i.createElement(pc,null),i.createElement(l0.dO,null,i.createElement(l0.qh,{path:uK.path},i.createElement(uG,null)),i.createElement(l0.qh,{path:uX.path},i.createElement(c_,null)),i.createElement(l0.qh,{path:oh.ax.path},i.createElement(uz,null),i.createElement(hQ,null)),i.createElement(l0.qh,{path:"/community/tag/"},i.createElement(hN,null)),i.createElement(l0.qh,{path:"/community/search"},i.createElement(uz,null),(0,u.kc)().cmty_search_page_migration?i.createElement(ht,null):i.createElement(hN,null)),i.createElement(l0.qh,{path:s5.m5},i.createElement(hp,null)),i.createElement(l0.qh,{path:"/community*"},i.createElement(l0.rd,{to:"/community",from:"/community*"}),i.createElement(uq,null),i.createElement(ff,null)),i.createElement(l0.qh,{path:ou.xn.path},i.createElement(EM,null))),i.createElement(l7,null),!1,i.createElement(cj.Ay,null))}function hX(e){return"communityHub"!==e.view||"plugin"===e.subView||"widget"===e.subView||"hubFile"===e.subView||"landing"===e.subView||"searchAndBrowse"===e.subView||"handle"===e.subView?{content:i.createElement(hK,null),key:"searchAndBrowse"}:"hubFileEmbed"===e.subView||"monetizationRedirectView"===e.subView?{content:null,key:void 0}:(0,C.xb)(e)}function hZ(e){return i.createElement("div",{className:"community_layout--communityPageViewContainer--aBk-9"},e.children,i.createElement(hk.Ay,null))}hr.X.domContentLoadedMs=Math.round(window.performance.now());var hJ=r(763223),h0=r(147206),h1=r(945020),h2=r(567088),h4=r(935938),h8=r(967409),h5=r(954387),h3=r(813539),h9=r(261076),h6=r(729064),h7=r(569172);let ye=new class{markFeedVisited(e){return sj.Ay.post(`/api/feed_visited/${e.currentOrgId}`)}};var yt=r(679736),yr=r(461839),ya=r(52678),yn=r(934480),yi=r(235092),yl=r(654034),yo=r(416822),ys=r(988771),yc=r(400333),yd=r(227795),ym=r(527429),yu=r(126674),y_=r(160156),yp=r(339617),yf=r(531398),yg=r(430811);let yE="feed_tile--commentPillText--goQ26",yh="feed_tile--feedPostHoverContainerSelectable--rhPI9";var yy=r(122975);function yv(e){let t=(0,l.wA)(),r=i.useRef(null),[a,n]=(0,lD.M)(),[o,s]=(0,lD.M)(),{requestToOpenPostByFeedIdx:c}=e,d=i.useCallback((r,a)=>{r?.stopPropagation();let n=e.itemIdx+1;(0,nm.sx)("Team Feed Tile Clicked",{postUuid:e.post.publicUuid,feedRank:n}),t((0,tu.to)({type:ya.K,data:{postUuid:e.post.publicUuid,initialPreloadedPost:e.post,feedIdx:e.feedIdx,requestToOpenPostByFeedIdx:c,autofocusCommentInput:a?.autofocusCommentInput,selectedContentIdx:a?.selectedContentIdx,onSetSelectedContentIdx:a?.onSetSelectedContentIdx}}))},[e.itemIdx,e.post,t,e.feedIdx,c]),m=i.useCallback(()=>{t((0,tu.to)({type:(0,yt.t1)(),data:{preloadedFeedPost:e.post,entryPoint:yt.M2.FEED}}))},[t,e.post]),{refSetter:u}=function(e){let t=i.useRef(null),r=i.useRef(e);r.current=e;let a=i.useMemo(()=>new ResizeObserver(()=>{r.current(t.current)}),[]);return i.useEffect(()=>()=>{a.disconnect()},[a]),{refSetter:i.useCallback(e=>{null!==t.current&&a.unobserve(t.current),t.current=e,null!==t.current&&a.observe(t.current)},[a])}}(e.virtualRowItem.measureRef),_={position:"absolute",top:e.virtualRowItem.start,left:0,right:0},p=e.feedListRef.current?.getBoundingClientRect().left??0,f=Math.max(0,(r.current?.getBoundingClientRect().left??0)-p),g=i.createElement("div",{className:"feed_tile--caughtUpContainer--5uyiy"},i.createElement("div",{className:"feed_tile--caughtUpTitle--PVabL"},(0,k.t)("fig_feed.youre_all_caught_up")),i.createElement("div",{className:"feed_tile--caughtUpSubtitle--j2qKn"},(0,k.t)("fig_feed.come_back_later_for_more_posts")));return i.createElement("div",{className:"feed_tile--postContainer--jD-OA",ref:e=>{u(e),e&&(r.current=e,a(e))},style:_},i.createElement("div",{className:"feed_tile--hoverExtension--aYeAh",ref:o}),i.createElement("div",{className:"feed_tile--tileContainer---NbBK"},i.createElement(yb,{feedPost:e.post,feedIdx:e.feedIdx,onTileMouseDown:d,onEditClick:m,horizontalMargin:f,isHovered:n||s}),e.mostRecentUnviewed&&g))}function yb(e){let t=parseInt(e.feedPost.numComments,10),r=(0,yl.o8)(e.feedPost.descriptionMeta),a=[...new Map(e.feedPost.comments.map(e=>[e.user.id,e.user])).values()],n=i.createElement("div",{className:"feed_tile--commentPill--ZWfdc feed_reactions_section--reactionPill--qE8nJ reactions--reaction--BGfYE text--fontPos11--2LvXf text--_fontBase--QdLsd",onMouseDown:t=>e.onTileMouseDown(t,{autofocusCommentInput:!0}),role:"button",tabIndex:0},t>0?i.createElement(i.Fragment,null,i.createElement(yi.u,{users:a,totalNum:a.length,numAvatarsToDisplay:4}),i.createElement("div",{className:yE},(0,k.tx)("fig_feed.num_comments",{numComments:t}))):i.createElement("div",{className:yE},(0,k.tx)("fig_feed.add_comment"))),[l,o]=i.useState(!1),s=i.useRef(null);i.useEffect(()=>{let e=s.current;e&&o(e.scrollHeight>e.offsetHeight)},[]);let c=i.useMemo(()=>(r.length>0&&(r[0].t=r[0].t?.trimStart(),r[r.length-1].t=r[r.length-1].t?.trimEnd()),r),[r]),d=(0,yo.q)(),m=i.useCallback((e=[],t)=>e?e.map((e,r)=>{let a=(e.user_annotated?e.user_annotated.handle:e.t)||"",n=(0,lM.F)(a),l=null,o=e.link&&(0,yc.xT)(e.link);if(e.user_annotated&&n)l=i.createElement("span",{onMouseDown:e=>e.stopPropagation(),role:"link",tabIndex:0},i.createElement(yc.E4,{href:`/files${d}/user/${e.user_id}`,userId:e.user_annotated.id,handle:n,imgUrl:e.user_annotated.img_url}));else if(o&&n&&(0,ym.$)(o))l=i.createElement("span",{onMouseDown:e=>e.stopPropagation(),role:"link",tabIndex:0},i.createElement(yc.Rk,{text:n,hyperlink:o}));else{let e=(0,yn.x6)(n?.replace(/\n\s*\n/g,"\n").split("\n").join(" ")||"");l=i.createElement("span",null,e)}return i.createElement(i.Fragment,{key:`${t}-${r}`},l,e.children?.length&&e.styles?.length&&e.children.map((a,n)=>i.createElement(i.Fragment,{key:`${t}-${r}-${n}`}," ",e.styles.includes("ol")?`${n+1}. `:"\u2022 ",m(a.children,`${t}-${r}-${n}`)," ")))}):[i.createElement(i.Fragment,null)],[d]),u=i.useMemo(()=>m(c,e.feedPost.id),[c,m,e.feedPost.id]),{onTileMouseDown:_}=e,p=i.useMemo(()=>i.createElement("div",{className:"feed_tile--postDescriptionContainer--xP5Fz",onMouseDown:_,role:"button",tabIndex:0},i.createElement("div",{className:"feed_tile--postTitle--DY-Hh"},e.feedPost.title),i.createElement("div",{className:"feed_tile--postDescription--PiaCx","data-testid":"feed-post-description",ref:s},i.createElement("div",{className:M()("feed_tile--postDescriptionMessage--6ThT1 comment_message--commentMessage--kZCzD","feed_tile--collapsed--ruER6",l&&"feed_tile--hasShowMore--6Nm-e")},u),l&&i.createElement("div",{onMouseDown:e=>{e.stopPropagation(),_()},className:"feed_tile--viewMore--o-NxF",role:"button",tabIndex:0},i.createElement("div",{className:"feed_tile--viewMoreEllipsis--k1nCe"},"..."),i.createElement("div",{className:"feed_tile--viewMoreText--WpL2K"},(0,k.t)("fig_feed.see_more"))))),[l,s,e.feedPost,_,u]),f=(0,yu.DG)(e.feedPost.publicUuid,yu.dy.TILE),g=(0,g5.Um)(),E=e.isHovered||g?.type===(0,yg.j8)(yg.Hx.USER,e.feedPost.publicUuid,yu.Zp.TILE);return i.createElement(i.Fragment,null,i.createElement("div",{className:"feed_tile--topRowUGC--oWJxs"},i.createElement("div",{className:"feed_tile--avatarFloat--h-EFM"},i.createElement(yp.A,{user:e.feedPost.creator,size:rm.Pf.LARGE,noHandle:!0})),i.createElement(yp.B,{user:e.feedPost.creator,date:e.feedPost.createdAt,onTileMouseDown:e.onTileMouseDown,noAvatar:!0}),i.createElement("div",{className:N.cx.flex.flexRow.$},i.createElement(yg.Wu,{hideTarget:!E,feedPost:e.feedPost,source:yu.Zp.TILE,onEditClick:e.onEditClick}),E&&i.createElement(yd.K0,{"data-tooltip-type":r$.Ib.TEXT,"data-tooltip":(0,k.t)("fig_feed.copy_link_to_post"),onClick:f},i.createElement(ew.In,{icon:"hyperlink-32"})))),p,i.createElement(yw,{feedPost:e.feedPost,feedIdx:e.feedIdx,backgroundColor:e.feedPost.backgroundColor,onTileMouseDown:e.onTileMouseDown,horizontalMargin:e.horizontalMargin}),i.createElement("div",{className:"feed_tile--bottomRow--CTXwC"},i.createElement(yf.Q$,{type:yf.Us.FULL,source:yf.zY.TILE_POST,postUuid:e.feedPost.publicUuid,postId:e.feedPost.id,feedReactions:e.feedPost.reactions,prependToList:[n]})))}function yw(e){let t=i.useRef(null),r=e.feedPost.content.map(e=>JSON.parse(e)),[a,n]=i.useState(!1),[l,o]=i.useState(!1),[s,c]=i.useState(0);i.useEffect(()=>{0!==s&&ys.Y.markFeedViewed({publicUuid:e.feedPost.publicUuid})},[s,e.feedPost.publicUuid]);let d=(0,yf.mz)({type:"post",id:e.feedPost.publicUuid},yf.zY.TILE_CONTENT),m=r.length>1,u=M()(m?"feed_tile--feedPostHoverContainerWithThumbnails--pAnNB feed_tile--feedPostHoverContainer--238j6":"feed_tile--feedPostHoverContainer--238j6",!(a||l||d)&&"feed_tile--hidden--9bafI"),_={selectedContentIdx:s,onSetSelectedContentIdx:c},{fileData:p,fileIcon:f,fileLoaded:g,openFile:E}=(0,yu.rS)(e.feedPost.publicUuid,r,e.feedPost.fileKey);return i.createElement("div",{ref:e=>{e&&(t.current=e)},className:M()("feed_tile--fullHeightContentSection--qE0UO feed_tile--contentSection--1-urk",m&&"feed_tile--fullHeightContentSection_WithThumbnails--l-If7")},i.createElement(y_.xT,{contentItems:r,staticContent:!0,selectedContentIdx:s,setSelectedContentIdx:c,pageBackgroundColor:e.backgroundColor||void 0,onSelectedTileMouseDown:t=>e.onTileMouseDown(t,_),feedPostUuid:e.feedPost.publicUuid,feedPostIdx:e.feedIdx,source:yu.Zp.TILE,onContentHover:e=>n(e)}),g&&i.createElement("button",{className:M()(u,yh,"feed_tile--hoverTopLeft--zVWFQ"),onClick:E,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1)},i.createElement(ry.MW,{type:f,size:ry.LE.SMALL}),i.createElement("div",null,p.name)),i.createElement("button",{className:M()(u,yh,"feed_tile--hoverTopRight---lyoe"),onMouseDown:t=>e.onTileMouseDown(t,_),onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1)},i.createElement(ei.B,{svg:yy.A})))}let yT=(0,nr.eU)(!0),yI=(0,nr.eU)(!1);function yC(e){let t=(0,l.wA)(),r=i.useRef(null),a=(0,z.iZ)(),n=(0,l.d4)(e=>e.teamFeedRefreshNonce),{setHasLoaded:o}=e,[s,c]=i.useState(null),d=(0,eC._6)(),u="teamFeed"===d.view,_="user"===d.view;i.useEffect(()=>{u&&(ye.markFeedVisited({currentOrgId:e.currentOrgId}).then(e=>{c(e.data.meta?new Date(e.data.meta):null)}),t(ek.b({has_visited_feed:!0})))},[e.currentOrgId,n,t,u]);let p=(0,ag.Rs)(av.KhA,{orgId:e.currentOrgId,firstPageSize:50,feedFilter:JSON.stringify({creator_id:e.selectedUser?.id??null}),refreshNonce:n}),f=(0,m.ZC)(n);f&&f!==n&&r.current&&(r.current.scrollTop=0),i.useEffect(()=>{"errors"===p.status&&t(tO.F.enqueue({message:(0,k.t)("general.an_error_occurred"),error:!0}))},[t,p.status]);let g=i.useMemo(()=>"loaded"===p.status?{isLoadingNextPage:p.data.feedPosts.isLoadingNextPage,hasNextPage:p.data.feedPosts.hasNextPage,loadNext:p.data.feedPosts.loadNext}:null,[p]),E=i.useMemo(()=>"loaded"===p.status?{...p,data:p.data.feedPosts.filter(e=>!!e.feedPost)}:p,[p]),h="loaded"===E.status&&"loaded"===p.status;i.useEffect(()=>{o?.(h)},[h,o]);let y=i.useCallback(()=>512,[]),v=E.data?E.data.length:0,b=(0,h6.z)({size:v,parentRef:r,estimateSize:y,overscan:15,paddingStart:0}),w=i.useRef(0);i.useEffect(()=>{w.current=E.data?.length??0},[h,E.data?.length]),i.useEffect(()=>{h&&(0,nm.sx)("Team Feed Posts Rendered",{numPosts:w.current,view:d.view,selectedUserId:e.selectedUser?.id},{forwardToDatadog:!0})},[e.selectedUser,w,h,d.view]);let[T,I]=i.useState(!1),[C,x]=i.useState(null),S=(0,pU.Xr)(yI),L=i.useCallback((e,t)=>{e>0&&!T&&((0,nm.sx)("Team Feed User Scrolled Down"),I(!0));let r=v/50,a=e+t.trackHeight,n=t.scrollHeight;1-(n-a)/(n/r)>=.5&&g&&!g.isLoadingNextPage&&g.hasNextPage()&&g.loadNext(50),x(t)},[T,g,v]);i.useEffect(()=>{if(!C)return;let{scrollTop:e}=C;e>=72?S(!0):S(!1)},[C,S]);let A=i.useMemo(()=>{let e={};return E.data&&E.data.forEach((t,r)=>{e[t.publicUuid]=r}),e},[E]),[R,P]=i.useState(void 0),F=i.useCallback(e=>{P(e)},[]);i.useEffect(()=>{if(void 0===R||(P(void 0),R<0)||(R>=.5*v&&g&&g.loadNext(50),R>=v))return;let e=E.data[R];t(tu.hm({type:ya.K.type,data:{postUuid:e.publicUuid,initialPreloadedPost:e.feedPost,feedIdx:R,requestToOpenPostByFeedIdx:F}}))},[R,t,E,F,g,v]);let O=i.useMemo(()=>{if(!s||!E.data)return null;let e=0,t=E.data.length-1,r=-1,n=0;for(;e<=t;){let a=Math.floor((e+t)/2);if(new Date(E.data[a].createdAt)>s?(r=a,e=a+1):t=a-1,(n+=1)>50)break}for(;r>=0&&a&&E.data[r].feedPost?.creator.id===a.id;)r-=1;return r},[s,E.data,a]),D=h&&E.data&&0===E.data.length&&e.selectedUser;return i.createElement(ea.P,{scrollContainerRef:r,className:"feed_list_view--scrollContainer--84INP main_feed_view--scrollContainer--BunJg",innerClassName:M()("feed_list_view--scrollContainerInner--8Le-r",_&&"feed_list_view--scrollContainerInnerProfile--izApr"),onScroll:L},i.createElement("div",{className:"feed_list_view--feedListContainer--2BMds"},e.scrollHeaders,D?i.createElement("div",{className:"feed_list_view--noPostsFound--COpgM"},i.createElement("div",{className:N.cx.fontMedium.$},(0,k.tx)("fig_feed.no_posts_found_title")),i.createElement("div",{className:N.cx.colorTextSecondary.$},(0,k.tx)("fig_feed.no_posts_found_description"))):i.createElement("div",{style:{margin:"0 8px",height:`${b.totalSize}px`,position:"relative"}},b.virtualItems.map(e=>{let t=e.index;if(!E.data||!E.data[t].feedPost)return null;let a=E.data[t].feedPost;return i.createElement(yv,{post:a,key:e.key,virtualRowItem:e,feedListRef:r,itemIdx:t,feedIdx:A[a.publicUuid],requestToOpenPostByFeedIdx:F,mostRecentUnviewed:u&&A[a.publicUuid]===O})}))))}function yx(e){let t=(0,l.wA)(),[r,a]=(0,es.fp)(yT),[n,o]=i.useState(!1),s=(0,l.d4)(e=>e.teamFeedRefreshNonce);i.useEffect(()=>{t(h7.yu({orgId:e.currentOrgId,bellActive:!1}))},[t,s,e.currentOrgId]);let c=i.createElement(i.Fragment,null,i.createElement(yr.CreateFeedPostContent,{entryPoint:yt.My.FEED_HEADER,onSubmitSuccess:e.onNewPostSubmitSuccess,disabled:!n,minimized:r,setMinimized:a,uploadInfo:e.uploadInfo}));return i.createElement(yC,{...e,scrollHeaders:c,setHasLoaded:o})}var yN=r(238472),yk=r(740998);function yS(){let e=(0,es.md)(h9.T),t=(0,es.md)(yI),r=(0,pU.Xr)(yT),[a,n]=i.useState(!1);return(i.useEffect(()=>{t&&n(!0)},[t]),a)?i.createElement(r0.$$,{className:M()("create_feed_post_button--container--gokzc",t?"create_feed_post_button--fadeInOnMount--QLi5F":"create_feed_post_button--fadeOut--D6C6X"),onMouseDown:()=>r(!1)},i.createElement(ei.B,{svg:yk.A,className:"create_feed_post_button--plusIcon--DCzT2"}),(0,k.t)("fig_feed.new_post"),e&&i.createElement(ei.B,{svg:yN.A})):null}var yL=r(43325);let yA="new_post_indicator--icon--uvRMg";var yR=r(884114);function yP(e){return i.createElement("div",{className:"new_post_indicator--notification--NxIRJ text--_negText--j9g-L _overlayBase--_overlayBase--Rkj8l"},i.createElement("div",{className:"new_post_indicator--leftSide--Y7k6-",onClick:e.onRefresh,role:"button",tabIndex:0},i.createElement(ei.B,{svg:yR.A,className:yA}),(0,k.tx)("fig_feed.new_posts")),i.createElement("div",{className:"new_post_indicator--dismiss--BAIvc",onClick:e.onDismiss,role:"button",tabIndex:0},i.createElement(ei.B,{svg:nx.default,className:yA})))}function yF(e){let t=(0,l.wA)();i.useEffect(()=>((0,nm.sx)("Team Feed Posts List View Visited"),t(h7.yu({orgId:e.currentOrgId,bellActive:!1})),()=>{(0,nm.sx)("Team Feed List View Closed")}),[t,e.currentOrgId]);let r=i.useCallback(()=>t(h7.Y9()),[t]),a=i.useCallback(e=>{e||r()},[r]),n=i.useCallback(()=>{r()},[r]),o=(0,l.d4)(t=>t.teamFeedBellStates[e.currentOrgId]),[s,c]=i.useState(!1),d=(0,m.ZC)(o);i.useEffect(()=>{o&&!1===d?c(!0):d&&!1===o&&c(!1)},[o,d,t]),i.useEffect(()=>{e.initialPostUuidToShow&&t((0,tu.to)({type:ya.K,data:{postUuid:e.initialPostUuidToShow}}))},[t,e.initialPostUuidToShow]);let[u,_]=i.useState(!1),[p,f]=i.useState(null),[g,E]=(0,es.fp)(yT),h=i.useCallback(e=>{g&&(f(e.files),_(!1))},[g]);return i.createElement(i.Fragment,null,i.createElement(tn.Y,{isDragTarget:()=>!0,onTargetDragEnter:()=>_(!0),onTargetDragLeave:()=>_(!1),onTargetDrop:h,className:"main_feed_view--contentLayout--HPUlv"},s&&i.createElement(yP,{onRefresh:n,onDismiss:()=>c(!1)}),i.createElement(yx,{currentOrgId:e.currentOrgId,onNewPostSubmitSuccess:a,uploadInfo:p??void 0}),g&&u&&i.createElement("div",{className:"main_feed_view--dragOverlay--e78e2"})),i.createElement(yL.cx,null))}function yO(e){let t=(0,l.d4)(e=>e.currentUserOrgId),r=i.useRef(new Eq.M4);return(i.useEffect(()=>{r.current.start()},[]),t)?i.createElement(yF,{currentOrgId:t,initialPostUuidToShow:e.postUuid,creatorId:e.creatorId,feedViewTimer:r.current}):null}var yD=r(886653),yM=r(841563),yB=r.n(yM),yU=r(72608);function yV(e){let t=(0,l.d4)(nF.hK),r=(0,l.wA)(),a=e.tabs?i.createElement(yU.f,{tabs:e.tabs.map(e=>i.createElement(yU.r,{key:e.tabName,tab:null,onClick:()=>r(eI.$T(e.view)),tabName:e.tabName,isSelected:yB()(t,e.view),ariaLabel:e.ariaLabel}))}):i.createElement(i.Fragment,null);return i.createElement(ng.g2,{leftSide:a,rightSide:e.viewbarActions||[]})}var yW=r(439466);let yH=e=>({tileSortFilterConfig:e.deletedFiles,sortKeys:(0,u.kc)().trashed_files_paginated_view?[lx.C0.TRASHED_AT]:[lx.C0.TRASHED_AT,lx.C0.NAME]}),y$=e=>({tileSortFilterConfig:e.trashedFolders,sortKeys:[lx.C0.TRASHED_AT,lx.C0.NAME]}),yj=(e,t,r)=>{let a=(0,yD.xx)(yH)(t),n=[i.createElement(ng.gr,{key:0,dispatch:e,options:a,selectedView:r}),i.createElement(ng.ye,{key:1,config:a.tileSortFilterConfig}),i.createElement(ng.mc,{key:2,dispatch:e,options:a,selectedView:r})];return(0,u.kc)().file_browser_ia_overhaul_remove_list_view||n.push(i.createElement(ng.$c,{key:3,initialViewMode:a.tileSortFilterConfig.viewMode,onViewModeChange:t=>{(0,nm.sx)("file view toggle",{viewType:t===lx.XU.GRID?"grid":"list"}),e(eI.JF({selectedView:r,config:{...a.tileSortFilterConfig,viewMode:t}}))}})),n},yG=(e,t,r)=>{let a=(0,yD.xx)(y$)(t),n=[i.createElement(ng.KH,{key:6,dispatch:e,options:a,selectedView:r}),i.createElement(ng.mc,{key:4,dispatch:e,options:a,selectedView:r})];return(0,u.kc)().file_browser_ia_overhaul_remove_list_view||n.push(i.createElement(ng.$c,{key:5,initialViewMode:a.tileSortFilterConfig.viewMode,onViewModeChange:t=>{(0,nm.sx)("folder view toggle",{viewType:t===lx.XU.GRID?"grid":"list"}),e(eI.JF({selectedView:r,config:{...a.tileSortFilterConfig,viewMode:t}})),e(eI.uV({viewId:yW.l,viewMode:t}))}})),n};function yY(){let e=(0,l.wA)(),t=(0,l.d4)(e=>e.tileSortFilterStateByView),r=(0,eC._6)(),a=yj(e,t,r),n=yG(e,t,r);return i.createElement(yV,{tabs:[{tabName:(0,k.t)("file_browser.tool_bar.trashed_files"),view:{view:"deletedFiles"},ariaLabel:(0,k.t)("file_browser.tool_bar.trashed_files.aria_label")},{tabName:(0,k.t)("file_browser.tool_bar.trashed_projects"),view:{view:"trashedFolders"},ariaLabel:(0,k.t)("file_browser.tool_bar.trashed_projects.aria_label")}],viewbarActions:"deletedFiles"===r.view?a:n})}var yz=r(406941),yq=r(344780),yQ=r(716475),yK=r(44948),yX=r(964389),yZ=r(305928);function yJ(){let e=i.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 311 213",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{x:"0",y:"0",width:"310",height:"212",rx:"5.5",stroke:"#E5E5E5",strokeDasharray:"5 6"}),i.createElement("rect",{width:"100%",height:"100%",fill:"url(#paint0_linear_1701_4654)"}),i.createElement("defs",null,i.createElement("linearGradient",{id:"paint0_linear_1701_4654",x1:"0",y1:"0",x2:"0",y2:"100%",gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:"var(--color-bg, white)",stopOpacity:"0"}),i.createElement("stop",{offset:"0.661458",stopColor:"var(--color-bg, white)"}))));return i.createElement("div",{className:yZ.kL},i.createElement("div",{className:yZ.yl},i.createElement("div",{className:yZ._h},e)))}function y0({text:e,tooltipText:t,currentProgress:r,totalProgress:a}){return i.createElement(aq.Y,{direction:"vertical",height:"hug-contents",spacing:"7px"},i.createElement(aq.Y,{horizontalAlignItems:"space-between"},i.createElement(aq.Y,{spacing:4},i.createElement(S.E,{fontSize:13,fontWeight:"medium"},e),i.createElement("div",{"data-tooltip-type":r$.Ib.TEXT,"data-tooltip":t,"data-tooltip-show-above":!0,"data-tooltip-show-immediately":!0,"data-tooltip-tip-align-left":!0,"data-tooltip-text-left":!0},i.createElement(ew.In,{icon:"info-16",fill:"secondary"}))),i.createElement(S.E,{fontSize:13,fontWeight:"medium"},r,"/",a)),i.createElement("div",{className:N.cx.relative.wFull.$},i.createElement("div",{className:N.cx.absolute.wFull.$},i.createElement(aq.Y,{cornerRadius:5,height:5,backgroundColor:"disabled"})),i.createElement("div",{className:N.cx.absolute.wFull.$},i.createElement(aq.Y,{cornerRadius:5,height:5,width:`${Math.min(r/a*100,100)}%`,backgroundColor:r>=a?"warning":"brand"}))))}function y1({canEditTeam:e,isDraftsFolder:t}){let r=(0,l.wA)(),a=(0,nt.ol)(),n=(0,eC._6)(),o=(0,W.PP)();return t||!a||(0,am.w5)(a)||"folder"!==n.view||!o()?null:i.createElement(y2,{folderId:n.folderId,showPlanComparisonModal:()=>{r((0,tu.to)({type:aE.V,data:{upsellSource:ab.b.STARTER_LIMIT_OVERVIEW,teamId:a.id}}))},canEditTeam:e})}function y2({folderId:e,showPlanComparisonModal:t,canEditTeam:r}){let a=(0,ag.Rs)(av.yU5,{projectId:e}),n=aG.h.useTrackingContext({trigger:ab.b.STARTER_LIMIT_OVERVIEW}),l=(0,W.Gm)();if("loaded"!==a.status)return null;let o=a.data.project?.team?.projectsCount.status==="loaded"?a.data.project?.team?.projectsCount.data??1:1,s=a.data.project?.team?.teamFileCounts?.designFileCount??0,c=a.data.project?.team?.teamFileCounts?.whiteboardFileCount??0,d=a.data.project?.team?.teamFileCounts?.slideFileCount,m=d?parseInt(d,10):0,u=s>=am.WW||c>=am.WW;return i.createElement(aI.fu,{name:"Starter Limit Overview",properties:n},i.createElement("div",{className:M()(N.cx.cursorDefault.mr32.maxW300.colorBg.$,"starter_limit_overview--responsiveHide--tahPL"),style:el.sx.sticky.add({alignSelf:"flex-start",top:"128px"}).$},i.createElement(aq.Y,{direction:"vertical",padding:32,spacing:24,cornerRadius:8,strokeWidth:1,strokeColor:"default",height:"hug-contents"},i.createElement(S.E,{fontSize:14,fontWeight:"semi-bold"},(0,k.tx)("file_browser.starter_limit.your_starter_team_overview")),i.createElement(y4,{numProjects:o,numFigmaFilesUsed:s,numFigjamFilesUsed:c,numSlidesFilesUsed:m,isSlidesFilesDisplayed:l}),r?i.createElement(aq.Y,{direction:"vertical",spacing:"12px"},i.createElement(S.E,{fontSize:13},(0,k.tx)(u?"file_browser.starter_limit.running_out_of_files":"file_browser.starter_limit.enough_for_you_to_get_started")),i.createElement(r0.vd,{onClick:t,trackingProperties:{trackingDescriptor:ed.c.VIEW_PLANS}},(0,k.tx)("upgrade.view_plans"))):i.createElement(S.E,{fontSize:13},(0,k.tx)("file_browser.starter_limit.trying_things_out")))))}function y4({numProjects:e,numFigmaFilesUsed:t,numFigjamFilesUsed:r,numSlidesFilesUsed:a,isSlidesFilesDisplayed:n}){return i.createElement(aq.Y,{direction:"vertical",spacing:24,width:234},i.createElement(y0,{text:(0,k.t)("file_browser.starter_limit.projects"),tooltipText:(0,k.t)("file_browser.starter_limit.projects.tooltip"),currentProgress:e,totalProgress:am.Wf}),i.createElement(y0,{text:(0,k.t)("file_browser.starter_limit.design_files"),tooltipText:(0,k.t)("file_browser.starter_limit.design_files.tooltip"),currentProgress:t,totalProgress:am.WW}),i.createElement(y0,{text:(0,k.t)("file_browser.starter_limit.figjam_boards"),tooltipText:(0,k.t)("file_browser.starter_limit.figjam_boards.tooltip"),currentProgress:r,totalProgress:am.WW}),n&&i.createElement(y0,{text:(0,k.t)("file_browser.starter_limit.slides"),tooltipText:(0,k.t)("file_browser.starter_limit.slides.tooltip"),currentProgress:a,totalProgress:am.WW}))}var y8=r(377900),y5=r(38703),y3=r(119198),y9=r(296559),y6=r(835156),y7=r(974105),ve=r(420576),vt=r(779709),vr=r(707465),va=r(565167),vn=r(723127),vi=r(201140),vl=r(880112);let vo="open_invoice_reminder_card--icon--gcN35";function vs(e){let t=(0,l.wA)(),r=e.team.restrictions_list?.includes(eA.P4.LOCKED),a=e.canAdminTeam?r?(0,k.t)("billing.open_invoice_reminder.title"):(0,k.t)("billing.open_invoice_reminder.grace_period_title"):(0,k.t)("billing.open_invoice_reminder.title_viewer"),n=e.canAdminTeam?r?(0,k.t)("billing.open_invoice_reminder.locked_admin_description"):(0,k.t)("billing.open_invoice_reminder.grace_period_admin_description"):(0,k.t)("billing.open_invoice_reminder.locked_viewer_description"),o=e.canAdminTeam?(0,k.t)("billing.open_invoice_reminder.cta"):null,s={"data-tooltip-type":r$.Ib.TEXT,"data-tooltip":(0,k.t)("billing.open_invoice_reminder.button_tooltip"),"data-tooltip-show-immediately":!0};return i.createElement(aq.Y,{direction:"vertical",padding:e.noPaddingOrBorder?0:20,spacing:24,width:288,cornerRadius:e.noPaddingOrBorder?void 0:8,strokeWidth:e.noPaddingOrBorder?void 0:1,strokeColor:"default",height:"hug-contents"},i.createElement("div",{className:N.cx.flex.justifyBetween.wFull.$},i.createElement("div",{className:N.cx.flex.itemsCenter.justifyCenter.w32.h32.bRadius5.colorBgWarning.$},r?i.createElement(vi.s,{className:vo}):i.createElement(vl.R,{className:vo}))),i.createElement("div",{className:N.cx.font14.fontSemiBold.lh24.$},a),i.createElement("div",{className:N.cx.font13.lh24.$},n),!!o&&i.createElement("div",{className:N.cx.flex.justifyEnd.wFull.$},i.createElement(Er.IK,{onClick:()=>t(eI.$T({view:"teamAdminConsole",teamId:e.team.id,teamAdminConsoleViewTab:au.Iv.BILLING})),variant:"primary",htmlAttributes:(0,W.kF)()?s:void 0},o)))}function vc(e){return e.team.restrictions_list?.includes(eA.P4.LOCKED)||e.canAdminTeam?i.createElement(aI.fu,{name:"Open Invoice Reminder Card",properties:{teamId:e.team.id}},i.createElement(vs,{...e})):null}var vd=r(828702);let vm="tiles_view--tilesGrid--gtDcv tiles_view--tiles--PQRwh",vu="tiles_view--container--u00AG",v_="tiles_view--emptyStateContainer--eoExf",vp="tiles_view--emptyState--jfzsE text--fontPos11--2LvXf text--_fontBase--QdLsd",vf={metaContainer:320,sidebar:241,tileGridOuterPadding:32,singleTile:272,singleTileWithPadding:304},vg=256/192;function vE({tile:e,index:t,dispatch:r,selectedView:a,currentPlanFilter:n,currentSharedByFilter:i,isListView:l}){e.type===tQ.nb.FILE&&(r(eX.UN({fileKey:e.fileLG.key,entrypoint:"file tile",currentPlanFilter:n,currentSharedByFilter:i,viewMode:void 0!==l?l?"list":"grid":void 0})),(0,vr.K)(a)&&r(eX.T5({index:t})),s.eD&&(0,nm.sx)("Open File Click",{fileKey:e.fileLG.key,fileRepoId:e.fileLG.fileRepoId,uiSelectedView:JSON.stringify(a)}))}let vh=()=>Math.max(Math.floor((window.innerWidth-vf.sidebar-vf.metaContainer-vf.tileGridOuterPadding)/vf.singleTileWithPadding),0),vy=(e,t)=>{let r=tQ.Tf.getName(e)||"",a=tQ.Tf.getName(t)||"";return ta.Tt.compare(r,a)},vv=(e,t)=>{let r=(tQ.Tf.getName(e)||"").toLowerCase(),a=(tQ.Tf.getName(t)||"").toLowerCase();return r===a?0:r<a?-1:1},vb=(e,t)=>{if(e.type!==tQ.nb.FILE||t.type!==tQ.nb.FILE)return 0;let r=e.fileLG,a=t.fileLG;return r.createdAt<a.createdAt?1:-1},vw=(e,t)=>e.type!==tQ.nb.PROTOTYPE||t.type!==tQ.nb.PROTOTYPE?0:e.prototype.file_key<t.prototype.file_key?-1:1,vT=(e,t)=>{let r=tQ.Tf.getAccessedAt(e),a=tQ.Tf.getAccessedAt(t);return r&&a?r>a?1:-1:a?-1:r?1:0},vI=(e,t)=>tQ.Tf.getCreatedAt(e)>tQ.Tf.getCreatedAt(t)?1:-1,vC=(e,t)=>{let r=tQ.Tf.getTouchedAt(e),a=tQ.Tf.getTouchedAt(t);return null===r||null===a?0:r>a?1:-1},vx=(e,t)=>e.type!==tQ.nb.FILE&&e.type!==tQ.nb.REPO||t.type!==tQ.nb.FILE&&t.type!==tQ.nb.REPO?0:(e.type===tQ.nb.FILE?e.fileLG.trashedAt:e.repo.trashed_at)>(t.type===tQ.nb.FILE?t.fileLG.trashedAt:t.repo.trashed_at)?1:-1;function vN({currentPlanFilter:e,currentSharedByFilter:t,eligibleForLockedStateRedesign:r,emptyStateContent:a,emptyStateText:n,hideSorter:o,isDataPartial:d,isFolder:m,isInLockedProTeamRevampExp:_,newFileTile:p,overFilteredText:g,sharedWithYouFilters:E,sortFilterOptions:h,tileActions:y,tiles:v}){let b=i.useRef(null),w=i.useRef(null),T=(0,z.iZ)(),I=(0,eC._6)(),x="folder"===I.view?I.folderId:null,S=t1.M4.Folder.useValue(x).data,L=[T?.drafts_folder_id,T?.personal_drafts_folder_id].includes(S?.id),{showing:A,show:R,data:P}=(0,lT.L)();i.useEffect(()=>{let e="page_selected_view",t=yq.sn.get(e);if(t&&t.isRunning&&!t.isUnreliable){let t=yq.sn.tryStop(e);t&&(0,nm.sx)("File Browser Tab Switch Page Load Time",{elapsedMs:t,selectedView:I.view},{forwardToDatadog:!0,batchRequest:!0})}},[I.view,x]);let F=(0,eL.FC)(),{userStateLoaded:O,userExternallyRestricted:D,selectedBranchKeyByRepoId:B,upsellData:U}=(0,a9.R)(e=>{let t=null,r=(0,y7.e9)(e),a=r&&r.team_id&&e.teams[r.team_id];return r&&a&&(0,tU.canEditTeam)(a.id,e)&&(t={team:a,folderId:r.id,isAtFileLimit:[eA.P4.FILES_LIMITED,eA.P4.FILES_LIMITED_LEGACY,eA.P4.WHITEBOARD_FILES_LIMITED,eA.P4.WHITEBOARD_FILES_LIMITED_BETA,eA.P4.SLIDE_FILES_LIMITED,eA.P4.SLIDE_FILES_LIMITED_BETA].some(e=>!!a.restrictions_list?.includes(e))}),{userFlags:e.userFlags,userStateLoaded:e.userStateLoaded,userExternallyRestricted:(0,tU.isOrgUserExternallyRestrictedFromState)(F),selectedBranchKeyByRepoId:e.selectedBranchKeyByRepoId,upsellData:t}}),V=(0,l.wA)(),H=(0,W.PP)(),$=(0,nt.ol)(),j=!!$&&!!r,G=!!$&&!!_,[Y,q]=i.useState(()=>vh()),Q=h.tileSortFilterConfig.viewMode===lx.XU.LIST,K="recentsAndSharing"===I.view&&I.tab===h4.G.SHARED_FILES,X=(e,t,r)=>e===lx.rJ.ANY||e===lx.rJ.SELF&&r.type===tQ.nb.FILE&&r.fileLG.creatorId===t||e===lx.rJ.SELF&&r.type===tQ.nb.REPO&&r.branches[0].creator_id===t||e===lx.rJ.OTHER&&r.type===tQ.nb.FILE&&r.fileLG.creatorId!==t||e===lx.rJ.OTHER&&r.type===tQ.nb.REPO&&r.branches[0].creator_id!==t,Z=(e,t)=>{let r="design";switch(t.type===tQ.nb.FILE?r=t.fileLG.editorType:t.type===tQ.nb.PINNED_FILE?r=t.file.editorType:t.type===tQ.nb.OFFLINE_FILE&&(r=t.file.editorType),e){case lx.t2.ANY:return!0;case lx.t2.DESIGN:if(t.type===tQ.nb.FILE||t.type===tQ.nb.REPO||t.type===tQ.nb.PINNED_FILE||t.type===tQ.nb.OFFLINE_FILE)return"design"===r;return!1;case lx.t2.FIGJAM:if(t.type===tQ.nb.FILE||t.type===tQ.nb.PINNED_FILE||t.type===tQ.nb.OFFLINE_FILE)return"whiteboard"===r;return!1;case lx.t2.PROTOTYPE:return t.type===tQ.nb.PROTOTYPE;case lx.t2.SLIDES:if(t.type===tQ.nb.FILE||t.type===tQ.nb.PINNED_FILE||t.type===tQ.nb.OFFLINE_FILE)return"slides"===r;return!1;case lx.t2.SITES:if(t.type===tQ.nb.FILE||t.type===tQ.nb.PINNED_FILE||t.type===tQ.nb.OFFLINE_FILE)return"sites"===r;return!1;default:(0,C.xb)(e)}},J=(e,t)=>!e||e===`${tQ.Tf.getSharedBy(t)}`,ee=i.useCallback((e,t)=>{if("sharedWithYou"===I.view||"recentsAndSharing"===I.view&&I.tab===h4.G.SHARED_FILES||!e||!e.planId)return!0;let r=e.planId;switch(t.type){case tQ.nb.FILE:return("org"===e.planType?t.fileLG.parentOrgId:t.fileLG.teamId)===r;case tQ.nb.REPO:return("org"===e.planType?t.repo.parent_org_id:t.repo.team_id)===r;case tQ.nb.PROTOTYPE:return("org"===e.planType?t.prototype.parent_org?.id:t.prototype.parent_team?.id)===r;case tQ.nb.OFFLINE_FILE:return"org"===e.planType&&t.file.orgId===r;default:return!1}},[I]),et=i.useCallback((e,t)=>{let r,a,n;let i=e.filter(e=>J(t.filters.sharedBy,e)&&Z(t.filters.fileType,e)&&X(t.filters.creator,F.user?.id,e)&&ee(t.filters.plan,e));if(r=K?i.filter(e=>e.type===tQ.nb.FILE||e.type===tQ.nb.PROTOTYPE||e.type===tQ.nb.REPO):i.filter(e=>e.type===tQ.nb.FILE||e.type===tQ.nb.REPO||e.type===tQ.nb.OFFLINE_FILE),"recentsAndSharing"===I.view&&I.tab===h4.G.SHARED_FILES)return i;let l=t.sort.dir===lx.ue.DESC;switch(t.sort.key){case lx.C0.SEARCH_RELEVANCE:return e;case lx.C0.ACCESSED_AT:a=Eu.f.byComparators(vT),n=i;break;case lx.C0.CREATED_AT:a=Eu.f.byComparators(vI),n=i;break;case lx.C0.TOUCHED_AT:a=Eu.f.byComparators(vC),n=r;break;case lx.C0.NAME:if(L){a=Eu.f.byComparators(vy,Eu.f.byProperty("type")),n=i;break}let o=i.length<ta.Tw;a=Eu.f.byComparators(o?vy:vv,Eu.f.byProperty("type"),vb,vw),n=i;break;case lx.C0.TRASHED_AT:a=Eu.f.byComparators(vx),n=r;break;case lx.C0.SHARED_AT:return i;default:return console.error("Unknown sort key",t.sort.key),[]}if(a=l?Eu.f.reverse(a):a,n.sort(a),d)for(;n[n.length-1]?.type===tQ.nb.OFFLINE_FILE;)n.pop();return n},[K,ee,d,L,I,F.user?.id]),er=i.useMemo(()=>et(v,h.tileSortFilterConfig),[et,v,h.tileSortFilterConfig]);!function(e){let t=(0,eC._6)(),r=(0,l.wA)(),a=(0,yK.k9)(()=>{if("deletedFiles"===t.view)return[];let r=[];return e.forEach(e=>{switch(e.type){case tQ.nb.FILE:r.push({fileKey:e.fileLG.key});break;case tQ.nb.REPO:r.push(...e.branches.map(e=>({fileKey:e.key})))}}),r},[t.view,e]),n=(0,ag.p)(av.hqi,a);i.useEffect(()=>{for(let{result:e,args:t}of n)if("loaded"===e.status&&e.data){let a=(0,y6.ZF)(e.data);r(tH.Lk({fileKey:t.fileKey,users:a}))}},[n,r])}(er);let ea=(0,es.md)(tQ.Y6),en=i.useCallback((r,a,n)=>{vE({tile:r,index:n,dispatch:V,selectedView:I,currentPlanFilter:e,currentSharedByFilter:t,isListView:Q}),function({tile:e,e:t,dispatch:r,selectedView:a,permissionsState:n,selectedBranchKeyByRepoId:i,renamingItem:l}){if(tQ.Tf.isRenaming(e,l)||e.type===tQ.nb.FILE&&e.fileLG.trashedAt||e.type===tQ.nb.REPO&&e.repo.trashed_at){t.preventDefault(),t.stopPropagation();return}let o=f.Ay.mac?t.metaKey:t.ctrlKey,d=null;o&&t.shiftKey?d=s.aw.FOCAL_TAB:o?d=s.aw.BACKGROUND_TAB:t.shiftKey&&(d=s.aw.NEW_WINDOW);let m=n.user;if(s.eD){let a;switch(d=d??s.aw.FOCAL_TAB,t.preventDefault(),t.stopPropagation(),e.type){case tQ.nb.FILE:a=!!(e.fileLG.isTeamTemplate&&(0,eS.LQ)(n)),s.eD.openFile({fileKey:e.fileLG.key,title:e.fileLG.name||"Untitled",fileEditorType:e.fileLG.editorType,target:d,isBranch:(0,ve.Kz)(e.fileLG),isLibrary:!!e.fileLG.lastPublishedAt,isTeamTemplate:a,userId:m?.id});break;case tQ.nb.PINNED_FILE:a=!!(e.file.isTeamTemplate&&(0,eS.LQ)(n)),s.eD.openFile({fileKey:e.file.key,title:e.file.name||"Untitled",fileEditorType:e.file.editorType,isTeamTemplate:a,target:d,userId:m?.id});break;case tQ.nb.PROTOTYPE:s.eD.openPrototype(e.prototype.file_key,e.prototype.page_id,e.prototype.fig_file.name||"",d,m?.id);break;case tQ.nb.REPO:let l=(0,ve.mr)(e.repo,e.branches,i);s.eD.openFile({fileKey:l.key,title:l.name,fileEditorType:l.editor_type,target:d,isBranch:(0,ve.Xm)(l),isLibrary:!!l.last_published_at,userId:m?.id});break;case tQ.nb.OFFLINE_FILE:r(y3.NA({file:e.file,openNewFileIn:h1.ai.NEW_TAB,source:va.U.OFFLINE_FILE_TILE}));break;default:(0,C.xb)(e)}return}if(null!=d){if(r(eI.oB()),e.type===tQ.nb.OFFLINE_FILE){r(y3.NA({file:e.file,openNewFileIn:h1.ai.NEW_TAB,source:va.U.OFFLINE_FILE_TILE})),t.preventDefault(),t.stopPropagation();return}if(t instanceof KeyboardEvent){let r=tQ.Tf.getUrl(e,i);c.Ay.redirect(r,"_blank"),t.preventDefault(),t.stopPropagation()}return}t.preventDefault(),t.stopPropagation();let _=n.currentUserOrgId,p=n.currentTeamId,g="recentsAndSharing"===a.view||"folder"===a.view?a:void 0,E=(0,u.kc)().ps_benchmark;r(E?y9.c5({planId:_||p,planType:_?h2.O.ORG:h2.O.TEAM}):y9.p4({planId:_||vn.P}));let h={user:m,teamId:E?p:null,orgId:_,selectedView:a};switch(e.type){case tQ.nb.FILE:(0,lO.N7)(_,e.fileLG.parentOrgId,p,e.fileLG.teamId)?(0,lO.QV)({file:{key:e.fileLG.key,editorType:e.fileLG.editorType||void 0}},h):r(eI.$T({view:"fullscreen",fileKey:e.fileLG.key,editorType:vt.z4.getIsExtension()?Ea.nT.DevHandoff:e.fileLG.editorType?(0,Ea.wN)(e.fileLG.editorType):Ea.nT.Design,prevSelectedView:g}));break;case tQ.nb.PINNED_FILE:(0,lO.N7)(_,e.file.parentOrgId,p,e.file.teamId)?(0,lO.QV)({file:{key:e.file.key,editorType:e.file.editorType}},h):r(eI.$T({view:"fullscreen",fileKey:e.file.key,editorType:e.file.editorType?(0,Ea.wN)(e.file.editorType):Ea.nT.Design,prevSelectedView:g}));break;case tQ.nb.PROTOTYPE:let y=e.prototype.fig_file;(0,lO.N7)(_,y.parent_org_id,p,y.team_id)?(0,lO.QV)({base:"proto",file:{key:y.key,editorType:y.editor_type||void 0},nodeId:e.prototype.page_id},h):r(eI.$T({view:"prototype",file:y,nodeId:e.prototype.page_id,prevSelectedView:g}));break;case tQ.nb.REPO:{let t=(0,ve.mr)(e.repo,e.branches,i);if(!t)throw Error(`Branch not found for repo ${e.repo.id}`);let a=t.key;(0,lO.N7)(_,t.parent_org_id,p,t.team_id)?(0,lO.QV)({file:{key:a}},h):r(eI.$T({view:"fullscreen",fileKey:a,editorType:Ea.nT.Design,prevSelectedView:g}));break}case tQ.nb.OFFLINE_FILE:r(y3.NA({file:e.file,openNewFileIn:h1.ai.SAME_TAB,source:va.U.OFFLINE_FILE_TILE}));break;default:(0,C.xb)(e)}}({tile:r,e:a,dispatch:V,selectedView:I,permissionsState:F,selectedBranchKeyByRepoId:B,renamingItem:ea})},[Q,e,t,V,F,B,I,ea]),ei=i.useCallback((r,a,n)=>{vE({tile:r,index:n,dispatch:V,selectedView:I,currentPlanFilter:e,currentSharedByFilter:t,isListView:Q})},[Q,e,t,I,V]),el=i.useCallback((e,t,r)=>{let a=tQ.Tf.getId(e);y8.$.start(a),R({data:{tile:e,targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:r}})},[R]),eo=(0,tQ.nw)(v);i.useEffect(()=>{let e=()=>{q(vh())};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),i.useEffect(()=>{if(f.Ay.mobile&&f.Ay.safari&&b.current){let e=b.current.className,t=()=>{b.current&&(b.current.className=""),setTimeout(()=>{b.current&&(b.current.className=e)},500)};return window.addEventListener("load",t),()=>window.removeEventListener("load",t)}},[]);let ec=i.createElement("div",{className:N.cx.flex.alignCenter.$},i.createElement(ng.$c,{initialViewMode:h.tileSortFilterConfig.viewMode,onViewModeChange:e=>{(0,nm.sx)("file view toggle",{viewType:e===lx.XU.GRID?"grid":"list"}),V(eI.JF({selectedView:I,config:{...h.tileSortFilterConfig,viewMode:e}}))}})),em=(0,tU.canEditTeam)(S?.team_id||$?.id||"",F),eu=(0,ag.Rs)(av.TNJ,{id:S?.team_id||$?.id||""},{enabled:!!(S?.team_id||$?.id)}),e_=!!eu.unwrapOr({team:{hasPermission:!1}})?.team?.hasPermission,ep=i.createElement("div",null),ef=i.createElement(ng.$f,{options:h,selectedView:I,dispatch:V}),eg=i.createElement("div",{className:N.cx.flex.$},ef,!(0,u.kc)().file_browser_ia_overhaul_remove_list_view&&ec),eE=i.createElement(ng.C9,{options:h,selectedView:I,dispatch:V,sharedWithYouFilters:E});ep=i.createElement("div",{className:M()(!m||em?"tiles_view--viewBarWrapper--AR2zB":"tiles_view--viewBarWrapperWithTopPadding--4zGHb","tiles_view--viewBarWrapperNoExtraLeftPadding--L4Ueu")},i.createElement(ng.lU,{leftSide:eE,rightSide:eg}));let[eh,ey]=i.useState([]);if((0,yQ.Cm)(eh),0===er.length){let e=(()=>{if(v.length>0&&""!==g){let e=g??(0,k.t)("file_browser.tiles_view.default_overfiltered_text");return i.createElement("div",{className:vp,"data-test-id":"over-filtered-state-text"},e)}let e="";return(n?e=n:(f.Ay.mobile||f.Ay.tablet)&&(e=(0,k.t)("file_browser.folder.this_project_is_empty")),e)?i.createElement("div",{className:vp,"data-test-id":"empty-state-text"},e):null})();if(e)return i.createElement("div",{className:v_},!o&&ep,i.createElement("div",{className:N.cx.flex.$},e,j&&i.createElement("div",{className:N.cx.mr32.$},i.createElement(vd.R,{teamId:$.id,canEditTeam:em})),G&&i.createElement("div",{className:N.cx.mr32.$},i.createElement(vc,{team:$,canAdminTeam:e_}))));if(a)return i.createElement("div",{className:v_},a)}let ev=vu+(Q?` ${yZ._O} `:` ${yZ.CK} `),eb=v.length>0;if(!O&&!(0,u.kc)().stop_rendering_tiles_view_loading_spinner)return i.createElement("div",{className:"tiles_view--loading--6rn3X"},i.createElement(im.k,null));let ew=!Q&&Y>0&&U?.isAtFileLimit&&!H(),eT=ew?(()=>{if(0===Y)return 0;let e=window.innerWidth-vf.sidebar-vf.metaContainer,t=vf.singleTileWithPadding-vf.singleTile;return Math.max((e-vf.tileGridOuterPadding-Y*t)/Y/vg+vf.tileGridOuterPadding,0)})():void 0,ex=!!$?.restrictions_list?.includes(eA.P4.LOCKED),eN=j||ex&&G;return i.createElement("div",{className:vu,ref:b},i.createElement("div",{className:ev,ref:w},!o&&ep,i.createElement("div",{className:N.cx.flex.$},eb&&i.createElement(y5.d,{sortConfig:h.tileSortFilterConfig.sort,handleOpenTile:ei,items:er,sortBy:e=>{let t=h.tileSortFilterConfig,r=t.sort.dir===lx.ue.DESC?lx.ue.ASC:lx.ue.DESC;V(eI.JF({selectedView:I,config:{...t,sort:{key:e,dir:e===t.sort.key?r:t.sort.dir}},tab:"recentsAndSharing"===I.view?I.tab:void 0}))},viewType:Q?lx.XU.LIST:lx.XU.GRID,updateRenderedItems:ey,handleOpenDropdown:el,checksForViewOnlyLabels:eN?{teamId:$.id,isLockedTeam:!0}:void 0,interactiveThumbnailsEnabled:!!(0,u.kc)().scrub_file_browser_search_results}),eb&&(j?i.createElement("div",{className:N.cx.mr32.$},i.createElement(vd.R,{teamId:$.id,canEditTeam:em})):G?i.createElement("div",{className:N.cx.mr32.$},i.createElement(vc,{team:$,canAdminTeam:e_})):i.createElement(y1,{canEditTeam:em,isDraftsFolder:L}))),ew&&i.createElement(aI.fu,{name:"Tiles View Upsell",properties:{buttonColor:"blue"}},i.createElement("div",{className:vm},[...Array(Y)].map((e,t)=>i.createElement(yJ,{key:t}))),i.createElement("div",{className:"tiles_view--upgradeOverlay--ZwyMN",style:{marginTop:`-${eT}px`,height:`${eT}px`}},i.createElement("p",{className:"tiles_view--upgradeTitle--PFF3i text--fontPos20--Bcz97 text--_fontBase--QdLsd"},(0,k.tx)("file_browser.folder.ready_for_an_upgrade")),i.createElement("p",{className:"tiles_view--upgradeText--ApEbY text--fontPos14--OL9Hp text--_fontBase--QdLsd"},(0,k.tx)("file_browser.folder.do_more_paid_plan",{lineBreak:i.createElement("br",null)})),i.createElement(yX.$z,{onClick:()=>{if(U){let e=ab.b.TILES_VIEW_UPSELL;V((0,tu.to)({type:aE.V,data:{upsellSource:e,teamId:U.team.id}}))}},trackingProperties:{trackingDescriptor:ed.c.VIEW_PLANS},variant:"primary"},(0,k.tx)("file_browser.folder.view_plans")))),!(f.Ay.mobile||f.Ay.tablet)&&p&&!D&&!eb&&!ew&&i.createElement("div",{className:N.cx.flex.$},i.createElement("div",{className:"tiles_view--importPrompt--srrJn"},i.createElement("div",{className:vp},i.createElement("div",{className:"tiles_view--emptyTitle--3Vwmu"},m?(0,k.t)("file_browser.folder.this_project_doesn_t_have_any_files"):(0,k.t)("file_browser.folder.no_files_yet")),(0,k.tx)("file_browser.folder.create_a_new_file_to_start_from_scratch",{lineBreak:i.createElement("br",null)}))),j?i.createElement("div",{className:N.cx.mr32.$},i.createElement(vd.R,{teamId:$.id,canEditTeam:em})):G?i.createElement("div",{className:N.cx.mr32.$},i.createElement(vc,{team:$,canAdminTeam:e_})):i.createElement(y1,{canEditTeam:em,isDraftsFolder:L}))),(()=>{let e=P?.tile??null,t=P?.index;return i.createElement(aI.fu,{name:m?iV.e0.PROJECT_TILES_VIEW_DROPDOWN:iV.e0.TILES_VIEW_DROP_DOWN,enabled:A,properties:{tileType:e?.type,tileFileId:e?.type===tQ.nb.FILE?e?.fileLG.key:void 0}},i.createElement(lI.i,{tileActions:y,tile:e,selectedTiles:eo,openTile:r=>{e&&en(e,r,t)},dropdownVisible:A}))})())}function vk({emptyStateText:e,onClaimClick:t}){return i.createElement("div",{className:v_},i.createElement("div",{className:vp},e,i.createElement("span",{className:"tiles_view--emptyButton--oAaGe"},i.createElement(Er.$n,{onClick:t,variant:"secondary"},i.createElement("div",{style:{fontWeight:400}},(0,k.tx)("tile.empty.join_as_owner"))))))}var vS=r(791435),vL=r(847269);function vA(){let e=(0,Q.d)(),t=(0,l.d4)(e=>e.currentTeamId),r=(0,l.d4)(e=>e.tileSortFilterStateByView),a=(0,Z.vt)(),n=(0,W.Yz)(),o=(0,K.R)(t),s=(0,W.Xs)(),c=(0,yD.xx)(e=>({tileSortFilterConfig:e,sortKeys:[lx.C0.TRASHED_AT,lx.C0.NAME,lx.C0.CREATED_AT,lx.C0.TOUCHED_AT]})),d=(0,u.kc)().trashed_files_paginated_view?vP:vR;return i.createElement(d,{sortFilterOptions:c(r.deletedFiles),tileActions:{restore:!0,restoreToOtherFolders:!0,deleteForever:!0,duplicateToDrafts:!e},isTeamLockedDueToStarterLimits:a,isEligibleForLockedRedesign:n,isInLockedProTeamRevampExp:s,isEligbileForProTeamLockedRevampUI:o})}function vR({sortFilterOptions:e,tileActions:t,isTeamLockedDueToStarterLimits:r,isEligibleForLockedRedesign:a,isInLockedProTeamRevampExp:n,isEligbileForProTeamLockedRevampUI:o}){let s=(0,u.kc)().trashed_files_your_files_filter&&e.tileSortFilterConfig.filters.creator===lx.rJ.SELF?"your_files":null,c=(0,l.d4)(e=>e.currentUserOrgId),d=(0,l.d4)(e=>e.currentTeamId),[{data:m,status:p}]=(0,_.IT)((0,eX.Uk)({orgId:c,teamId:d,creatorFilter:s})),f=m?.repos||[],g=[...i.useMemo(()=>m?.files.map(tQ.fA)||[],[m]),...f.map(e=>({type:tQ.nb.REPO,repo:e.repo,branches:[e.main_file],selectedBranchKey:e.main_file.key}))];return i.createElement(et.A,{loadingElementId:"loading-content-pane",loaded:"loading"!==p,loadingElementClassName:N.cx.pr32.$},i.createElement(vF,{tiles:g,tileActions:t,sortFilterOptions:e,isEligibleForLockedRedesign:a,isInLockedProTeamRevampExp:n,isTeamLockedDueToStarterLimits:r,isEligbileForProTeamLockedRevampUI:o}),i.createElement(yL.cx,null))}function vP({sortFilterOptions:e,tileActions:t,isTeamLockedDueToStarterLimits:r,isEligibleForLockedRedesign:a,isInLockedProTeamRevampExp:n,isEligbileForProTeamLockedRevampUI:o}){let{creatorFilter:s,fileTypeFilter:c}=function(e){let t="your_files";switch(e.tileSortFilterConfig.filters.creator){case lx.rJ.SELF:t="your_files";break;case lx.rJ.OTHER:t="other_files";break;case lx.rJ.ANY:t="all";break;default:(0,C.xb)(e.tileSortFilterConfig.filters.creator)}let r="";switch(e.tileSortFilterConfig.filters.fileType){case lx.t2.DESIGN:r="design";break;case lx.t2.FIGJAM:r="whiteboard";break;case lx.t2.PROTOTYPE:r="prototype";break;case lx.t2.SLIDES:r="slides";break;case lx.t2.SITES:r="sites";break;case lx.t2.ANY:r="";break;default:(0,C.xb)(e.tileSortFilterConfig.filters.fileType)}return{creatorFilter:t,fileTypeFilter:r}}(e),d=(0,e3.tJ)({unwrapResult:!0}),{subscription:m,fetchNextPage:u,isFetchingNextPage:_}=function(e){let t=(0,ag.Rs)(av.R89,{...e,firstPageSize:55}),r=(0,i.useCallback)(()=>{let e=(0,J.oA)(t.data?.trashedResources);"loaded"===t.status&&e&&e.hasNextPage()&&e.loadNext(55)},[t,55]),a="loaded"===t.status&&J.oA(t.data.trashedResources)?.isLoadingNextPage,n=(0,i.useMemo)(()=>t.transform(e=>{let t=(0,J.oA)(e.trashedResources);return t?t.reduce((e,t)=>{if(t.file)e.push(function(e){let t=tZ.F.toSinatra(e);return{type:tQ.nb.FILE,file:t,fileLG:{...e,signedPreviewThumbnailUrls:e.previewThumbnailUrls}}}(t.file));else if(t.repo){let r=function(e){if(!e.sourceFile)return null;let t=vL.H.toSinatra(e);return{type:tQ.nb.REPO,repo:t,branches:[tZ.F.toSinatra(e.sourceFile)],selectedBranchKey:e.sourceFile.key}}(t.repo);r&&e.push(r)}return e},[]):[]}),[t]),o=(0,l.wA)();return(0,i.useEffect)(()=>{if(n.data){let e=n.data?.filter(e=>e.type===tQ.nb.FILE).map(e=>tZ.F.toSinatra(e.fileLG))||[],t=n.data?.filter(e=>e.type===tQ.nb.REPO).map(e=>e.repo)||[];o(tH.uo({files:e})),o(tG.uo({repos:t}))}},[n.data,o]),{subscription:n,fetchNextPage:r,isFetchingNextPage:a}}({cursor:null,creatorFilter:s,fileTypeFilter:c,sortType:e.tileSortFilterConfig.sort.key===lx.C0.TRASHED_AT?"trashed_at":"name",sortDirection:e.tileSortFilterConfig.sort.dir===lx.ue.ASC?"asc":"desc",planId:d?.key.parentId??null,planType:d?.key.type??null,queryParams:null}),p=(0,i.useMemo)(()=>m.unwrapOr([]),[m]),{trackPerformanceEvent:f}=(0,vS.S)("trashed_resources_pagination_performance","livegraph");(0,i.useEffect)(()=>{f("fetch_end")},[f,p.length]),(0,i.useEffect)(()=>{"errors"===m.status&&f("fetch_error",{errors:JSON.stringify(m.errors??{})})},[f,m.status,m.errors]),(0,i.useEffect)(()=>(f("fetch_start"),()=>{f("fetch_cancel")}),[f]);let g=i.useCallback(()=>{_||(f("fetch_next"),u())},[_,u,f]),E=e.tileSortFilterConfig.filters,h=e.tileSortFilterConfig.sort;return i.createElement(et.A,{loadingElementId:"loading-content-pane",loaded:"loading"!==m.status,loadingElementClassName:N.cx.pr32.$},i.createElement(yz.B,{key:`${s}-${E.fileType}-${h.key}-${h.dir}`,onShouldFetchNextPage:g,isFetchingNextPage:_},i.createElement(vF,{tiles:p,tileActions:t,sortFilterOptions:e,isEligibleForLockedRedesign:a,isInLockedProTeamRevampExp:n,isTeamLockedDueToStarterLimits:r,isEligbileForProTeamLockedRevampUI:o})),i.createElement(yL.cx,null))}function vF({tiles:e,tileActions:t,sortFilterOptions:r,isEligibleForLockedRedesign:a,isInLockedProTeamRevampExp:n,isTeamLockedDueToStarterLimits:l,isEligbileForProTeamLockedRevampUI:o}){return i.createElement(vN,{tiles:e,newFileTile:!1,tileActions:t,sortFilterOptions:r,hideSorter:!0,emptyStateText:(0,k.t)("file_browser.tool_bar.trashed_empty_state"),eligibleForLockedStateRedesign:a(l),isInLockedProTeamRevampExp:n(o)})}var vO=r(455057),vD=r(418993),vM=r(426887),vB=r(712775),vU=r(396226),vV=r(300874),vW=r(449731);function vH(e,t,r){return e&&t&&!(0,am.w5)(e)&&"recentsAndSharing"!==r&&"trashedFolders"!==r}function v$({canEditTeam:e}){let t=(0,l.wA)(),r=(0,nt.ol)(),a=(0,eC.z3)(),n=(0,g.I7)("exp_fbg_project_limit_upsell"),o=aG.h.useTrackingContext({trigger:ab.b.FOLDER_UPSELL_CARD});if(!(0,e3.yN)({component:"FolderUpsellCard",attribute:"canShowUpsellValue",legacy:t=>!!vH(t,e,a),migrated:t=>!!t&&!!e&&t.tier===eA.Ag.STARTER&&"recentsAndSharing"!==a&&"trashedFolders"!==a})||!n.getConfig().getValue("show_upsell",!1))return null;let s=i.createElement(ee.Us,{className:N.cx.noWrap.cursorDefault.$,onClick:e=>{e.stopPropagation(),t((0,tu.to)({type:aE.V,data:{upsellSource:ab.b.FOLDER_UPSELL_CARD,teamId:r?.id}}))},trackingProperties:{trackingDescriptor:ed.c.PROFESSIONAL_PLAN,...o},trusted:!0},(0,k.tx)("team_view.folder_upsell.professional_plan"));return i.createElement(aI.fu,{name:"Folder Upsell Card",properties:o},i.createElement(aI.$z,{className:M()(N.cx.flex.flexColumn.alignLeft.p24.$,"folder_upsell--card--m7-Lh"),onClick:()=>{t((0,tu.to)({type:vW.DV,data:{team:r,resource:vV.vL.FOLDER,action:t4.ZN.CREATE_FOLDER,currentPlan:vU.F.Plan.STARTER,upsellPlan:vU.F.Plan.PRO,editorType:null,upsellSource:ab.b.FOLDER_UPSELL_CARD}}))},trackingProperties:{trackingDescriptor:ed.c.FOLDER_UPSELL_CARD},dataTestId:"folder_upsell_button"},i.createElement("div",{className:N.cx.relative.wFull.$},i.createElement(vB.X,{FileThumbnailComponent:vj}),i.createElement("div",{style:el.sx.absolute.topHalf.leftHalf.add({transform:"translate(-50%, -50%)"}).$},i.createElement(aq.Y,{cornerRadius:20,backgroundColor:"brand",height:40,width:40},i.createElement(ew.In,{icon:"new-40",fill:"onbrand"})))),i.createElement(aq.Y,{direction:"vertical",padding:{top:16},spacing:0,height:"hug-contents"},i.createElement(S.E,{fontSize:13,fontWeight:"medium"},(0,k.tx)("team_view.folder_upsell.upgrade_to_create_more_projects")),i.createElement(S.E,{fontSize:11,color:"secondary"},(0,k.tx)("team_view.folder_upsell.get_unlimited_everything",{professionalPlanLink:s})))))}function vj(){return i.createElement("div",{className:N.cx.wFull.hFull.colorBg.$})}function vG({canEditTeam:e}){let t=(0,l.wA)(),r=(0,nt.ol)(),a=(0,eC.z3)(),n=aG.h.useTrackingContext({trigger:ab.b.FOLDER_UPSELL_CARD}),o=(0,g.I7)("exp_fbg_project_limit_upsell");if(!vH(r,e,a)||!o.getConfig().getValue("show_upsell",!1))return null;let s=i.createElement(ee.Us,{className:N.cx.noWrap.cursorDefault.$,onClick:e=>{e.stopPropagation(),t((0,tu.to)({type:aE.V,data:{upsellSource:ab.b.FOLDER_UPSELL_CARD,teamId:r?.id}}))},trackingProperties:{trackingDescriptor:ed.c.PROFESSIONAL_PLAN,...n},trusted:!0},(0,k.tx)("team_view.folder_upsell.professional_plan"));return i.createElement(aI.fu,{name:"Folder Upsell List",properties:n},i.createElement("div",{className:N.cx.flex.mt16.bRadius8.b1.colorBorder.$,style:el.sx.add({borderStyle:"dashed",marginLeft:"-16px"}).$},i.createElement(aI.$z,{className:M()(N.cx.flex.alignLeft.gap12.py24.px16.bRadius8.wFull.$,"folder_upsell--list--2Higk"),onClick:()=>{t((0,tu.to)({type:vW.DV,data:{team:r,resource:vV.vL.FOLDER,action:t4.ZN.CREATE_FOLDER,currentPlan:vU.F.Plan.STARTER,upsellPlan:vU.F.Plan.PRO,editorType:null,upsellSource:ab.b.FOLDER_UPSELL_CARD}}))},trackingProperties:{trackingDescriptor:ed.c.FOLDER_UPSELL_CARD},dataTestId:"folder_upsell_button"},i.createElement("div",{className:M()(N.cx.relative.flexShrink0.h40.w64.py4.px8.colorBgSecondary.bRadius4.$,"folder_upsell--listCard--qnkxf")},i.createElement("div",{style:el.sx.absolute.topHalf.leftHalf.add({transform:"translate(-50%, -50%)"}).$},i.createElement(aq.Y,{cornerRadius:12,backgroundColor:"brand",height:24,width:24,horizontalAlignItems:"center",verticalAlignItems:"center"},i.createElement(ew.In,{icon:"plus-32",fill:"onbrand"}))),i.createElement(aq.Y,{direction:"vertical",spacing:4},i.createElement(aq.Y,{direction:"horizontal",spacing:4},i.createElement(aq.Y,{cornerRadius:2,backgroundColor:"default"}),i.createElement(aq.Y,{cornerRadius:2,backgroundColor:"default"})),i.createElement(aq.Y,{direction:"horizontal",spacing:4},i.createElement(aq.Y,{cornerRadius:2,backgroundColor:"default"}),i.createElement(aq.Y,{cornerRadius:2,backgroundColor:"default"})))),i.createElement(aq.Y,{direction:"vertical",spacing:0},i.createElement(S.E,{fontSize:13},(0,k.tx)("team_view.folder_upsell.upgrade_to_create_more_projects")),i.createElement(S.E,{fontSize:11,color:"secondary"},(0,k.tx)("team_view.folder_upsell.get_unlimited_everything",{professionalPlanLink:s}))))))}var vY=r(90898),vz=r(328184),vq=r(676485),vQ=r(28895),vK=r(234242),vX=r(167480),vZ=r(750486);let vJ="folder_list_view--emptyState--8vmgw tiles_view--emptyState--jfzsE text--fontPos11--2LvXf text--_fontBase--QdLsd text--fontPos11--2LvXf text--_fontBase--QdLsd";var v0=r(444173);let v1="project-card";function v2(e){let t=(0,l.wA)(),r=(0,l.d4)(e=>e.dropdownShown),a=(0,l.d4)(e=>e.folders),n=(0,l.d4)(e=>e.currentUserOrgId),o=(0,ts.S)(),s=(0,l.d4)(e=>e.user),c=(0,eL.FC)(),d=(0,eR.wA)(c),m=e.folderList.map(e=>({...e,canView:(0,tU.canViewFolder_DEPRECATED)(e.id,c),hideSubtitle:!!(d&&!(0,tU.canMemberOrg)(d.id,c))})),_=()=>e.viewMode===lx.XU.LIST,p=!!e.teamId&&!!e.eligibleForLockedStateRedesign,f=!!e.teamId&&!!e.isInLockedProTeamRevampExp,g=(0,K.jn)()&&!!e.isInLockedProTeamRevampExp,E=e.teamId?{teamId:e.teamId,isLockedTeam:!!e.eligibleForLockedStateRedesign||g}:void 0,h=o?(0,vY.H)(r):void 0,y=(t,r)=>{let{hideSubtitle:a,...n}=t,l=!a&&e.showTeamNameOrAuthor;return i.createElement(vQ.Z,{key:t.id,showTeamNameOrAuthor:l,folder:n,dataOnboardingKey:r,isSharerInfoIncluded:e.isSharerInfoIncluded,currentPlanFilter:e.currentPlanFilter,checksForViewOnlyLabels:E,inItemsView:!1})};return 0===m.length?i.createElement(i.Fragment,null,e.onCreateNewFolder&&!(0,h0.R$)(s,n)?i.createElement("div",{className:vJ},e.canEditTeamContents?i.createElement(i.Fragment,null,i.createElement("div",{className:"folder_list_view--emptyTitle--t1u0a tiles_view--emptyTitle--3Vwmu"},(0,k.tx)("team_view.folder_empty_view.no_projects_yet")),(0,k.tx)("team_view.folder_empty_view.projects_help_you_organize"),i.createElement(ee.cw,{className:"folder_list_view--emptyButton--g-yAA tiles_view--emptyButton--oAaGe",onClick:e.onCreateNewFolder},i.createElement(ei.B,{svg:v0.A,className:"folder_list_view--newProjectIcon--O3wnv tiles_view--newFileIcon--LR1sm"}),(0,k.tx)("team_view.folder_empty_view.new_project"))):(0,k.tx)("team_view.folder_empty_view.this_team_does_not_have_any_projects_yet")):null!=e.emptyStateText?i.createElement("div",{className:N.cx.flex.gap32.$},i.createElement("div",{className:vJ},e.emptyStateText),p&&i.createElement(vd.R,{teamId:e.teamId,canEditTeam:!!e.canEditTeamContents}),e.team&&f&&i.createElement(vc,{team:e.team,canAdminTeam:!!e.canAdminTeam})):(0,k.tx)("team_view.folder_empty_view.no_projects")):i.createElement(i.Fragment,null,(()=>{let t=m.length>=2?1:1===m.length?0:void 0,r=_()+m.map(e=>e.id).join(",");return _()||(0,u.kc)().projects_in_items_view?i.createElement("div",{className:N.cx.gap36.flex.flexRow.wFull.$},i.createElement("div",{className:N.cx.wFull.$},i.createElement(vz.m,{folderList:m,onChangeSortOptions:e.onChangeSortOptions,dataOnboardingKey:v1,dataOnboardingKeyIndex:t,checksForViewOnlyLabels:E,viewType:e.viewMode,isSharerInfoIncluded:e.isSharerInfoIncluded,currentPlanFilter:e.currentPlanFilter,showTeamNameOrAuthor:e.showTeamNameOrAuthor,hideSubtitleInGrid:!!(d&&!(0,tU.canMemberOrg)(d.id,c)),trailingGridElements:p&&f?i.createElement(i.Fragment,null):i.createElement(v$,{canEditTeam:e.canEditTeamContents})}),(!p||!f)&&_()&&i.createElement(vG,{canEditTeam:e.canEditTeamContents})),p&&i.createElement(vd.R,{teamId:e.teamId,canEditTeam:!!e.canEditTeamContents}),e.team&&f&&i.createElement(vc,{team:e.team,canAdminTeam:!!e.canAdminTeam})):i.createElement("div",{className:N.cx.flex.gap36.wFull.$},i.createElement(vD.o,{chunkSize:e.chunkSize??30,className:_()?"folder_list_view--foldersContainerList--JrOTO":"folder_list_view--foldersContainerGrid--TRHq7",listKey:r},i.createElement(vq.X,{containerClassName:"folder_list_view--tileGrid--hEswM",tileSize:vq.o.Medium,emptyView:i.createElement(i.Fragment,null)},m.map((e,r)=>r===t?y(e,v1):y(e,"")),(!p||!f)&&i.createElement(v$,{canEditTeam:e.canEditTeamContents}))),p&&i.createElement(vd.R,{teamId:e.teamId,canEditTeam:!!e.canEditTeamContents}),e.team&&f&&i.createElement(vc,{team:e.team,canAdminTeam:!!e.canAdminTeam}))})(),h&&i.createElement(vK.p,{folder:h,onRenameClick:()=>{if(!h||!h.canEdit)return;let e=a[h?.id];e&&(t((0,tj.WC)()),t((0,tu.to)({type:(0,vM.y)(),data:{folder:e}})))}}))}let v4=[t2.Dq.NAME,t2.Dq.TEAM,t2.Dq.OWNER,t2.Dq.LAST_MODIFIED],v8=[t2.Dq.SHARED_AT],v5=[t2.Dq.NAME,t2.Dq.TEAM,t2.Dq.OWNER,t2.Dq.LAST_MODIFIED,t2.Dq.SHARED_AT],v3=[t2.Dq.NAME,t2.Dq.LAST_MODIFIED],v9={[t2.Dq.NAME]:lx.ue.ASC,[t2.Dq.TEAM]:lx.ue.ASC,[t2.Dq.OWNER]:lx.ue.ASC,[t2.Dq.LAST_MODIFIED]:lx.ue.DESC,[t2.Dq.SHARED_AT]:lx.ue.DESC},v6={[lx.XU.GRID]:{[t2.Dq.NAME]:(0,k.tx)("tile.sort_filter.sort_alphabetical"),[t2.Dq.TEAM]:(0,k.tx)("tile.sort_filter.owner"),[t2.Dq.OWNER]:(0,k.tx)("tile.sort_filter.team"),[t2.Dq.LAST_MODIFIED]:(0,k.tx)("tile.sort_filter.sort_last_modified"),[t2.Dq.SHARED_AT]:(0,k.tx)("tile.sort_filter.date_shared"),[t2.Dq.CREATED_AT]:(0,k.tx)("tile.sort_filter.sort_date_created")},[lx.XU.LIST]:{[t2.Dq.NAME]:(0,k.tx)("tile.sort_filter.sort_alphabetical"),[t2.Dq.TEAM]:(0,k.tx)("tile.sort_filter.owner"),[t2.Dq.OWNER]:(0,k.tx)("tile.sort_filter.team"),[t2.Dq.LAST_MODIFIED]:(0,k.tx)("tile.sort_filter.sort_last_modified"),[t2.Dq.SHARED_AT]:(0,k.tx)("tile.sort_filter.date_shared"),[t2.Dq.CREATED_AT]:(0,k.tx)("tile.sort_filter.sort_date_created")}},v7={viewMode:lx.XU.GRID,sortMode:{sortKey:t2.Dq.LAST_MODIFIED,sortDesc:!0}},be={...v7,sortMode:{sortKey:t2.Dq.SHARED_AT,sortDesc:!0}},bt={name:Eu.f.byProperty("name",Eu.f.LEXICOGRAPHICALLY),lastModified:Eu.f.byProperty("folderLastUpdated"),team:Eu.f.byProperty("folderTeamName",Eu.f.LEXICOGRAPHICALLY),owner:Eu.f.byProperty("folderOwnerName",Eu.f.LEXICOGRAPHICALLY),sharedAt:Eu.f.byProperty("folderSharedAt"),createdAt:Eu.f.byProperty("created_at"),trashedAt:Eu.f.byProperty("trashed_at")};function br(e){let{folderList:t,...r}=e,a="trashedFolders"===e.selectedView.view,n=(0,l.d4)(e=>e.teams),o=(0,l.d4)(e=>e.roles),s=(0,l.d4)(e=>e.viewBarViewModeOptionByView),c=(0,l.d4)(e=>e.viewBarSortOptionsByView),d=(0,l.d4)(e=>e.tileSortFilterStateByView),m=e.isSharerInfoIncluded?v8:v4,_=e.showTeamNameOrAuthor?m:v3,p=e.isSharerInfoIncluded?be:v7,f=i.useMemo(()=>({viewMode:(0,vZ.y2)(e.viewId,s,p.viewMode),sortMode:(0,vZ.bV)(e.viewId,{viewBarSortOptionsByView:c},_,p.sortMode)}),[p.sortMode,p.viewMode,e.viewId,_,c,s]),g=(0,l.wA)(),E=t=>{g(eI.ZR({viewId:e.viewId,sortMode:{sortKey:t.sortKey,sortDesc:t.sortDesc}}))},h=t=>{g(eI.uV({viewId:e.viewId,viewMode:t}))},y=e.isSharerInfoIncluded?"folder_list_view--sharedWithYouFolderColumnHeader--YBKhp folder_list_view--columns--k84Gi":"folder_list_view--allFolderColumnHeader--MGmSg folder_list_view--columns--k84Gi",v=e.showTeamNameOrAuthor?y:"folder_list_view--basicFolderColumnHeader--dZmjY folder_list_view--columns--k84Gi",b="sharedWithYou"===e.selectedView.view,w="recentsAndSharing"===e.selectedView.view,T=!b&&!w&&!a,I=i.useMemo(()=>{if("recentsAndSharing"===e.selectedView.view)return e.folderList;let t=d.trashedFolders,r=a?bt[(0,lx.jx)(t.sort.key)??"trashedAt"]:bt[f.sortMode.sortKey];if(!r)return e.folderList;let i=a?t.sort.dir===lx.ue.DESC?Eu.f.reverse(r):r:f.sortMode.sortDesc?Eu.f.reverse(r):r,l=e.folderList.map(e=>({...e,...(0,vX.Z)({teams:n,roles:o},e)}));return l.sort(i),l},[e.selectedView.view,f.sortMode.sortKey,f.sortMode.sortDesc,e.folderList,n,o,a,d.trashedFolders]),C=a&&f.viewMode===lx.XU.GRID&&(0,u.kc)().projects_in_items_view?"folder_list_view--trashedGridViewContainer--efhyK":"folder_list_view--tabContentContainer--lHQoT",x=(0,u.kc)().file_browser_ia_overhaul_remove_list_view||b||w;return i.createElement("div",{className:a&&f.viewMode===lx.XU.LIST?void 0:C},b?i.createElement(ba,{sortFilterOptions:e.sortFilterOptions,sharedWithYouFilters:e.sharedWithYouFilters,onChangeViewModeOption:h,viewBarOptions:f}):null,T?i.createElement(ng.fB,{sortKeys:_,listSortKeys:_,initialSortOrders:v9,mobileListSortKeys:_,tabletListSortKeys:_,sortKeyDescriptions:v6,listHeaderClassName:`folder_list_view--listViewHeader--kUvYs text--fontPos13--xW8hS text--_fontBase--QdLsd ${v}`,options:f,onChangeSortOptions:E,onChangeViewModeOption:h,displayColumns:b?v5:_,hideViewModeToggle:x}):null,a&&d.trashedFolders.filters.role===lx.Jh.CAN_BE_VIEWED&&i.createElement("div",{className:`${N.cx.mb16.$} ${f.viewMode===lx.XU.LIST&&N.cx.px32.$}`},i.createElement(vO._,{dataTestId:"may-not-restore-or-permanently-delete-banner",color:vO.S.INFORMATION,text:i.createElement("p",{className:N.cx.fontMedium.$},i.createElement("span",{className:N.cx.fontSemiBold.$},(0,k.tx)("file_browser.folder_list_view.may_not_restore_or_permanently_delete_banner")),"\xa0",(0,k.tx)("file_browser.folder_list_view.may_not_restore_or_permanently_delete_banner_content"))})),i.createElement(v2,{folderList:I,chunkSize:e.chunkSize,viewMode:f.viewMode,onChangeSortOptions:E,...r}))}function ba(e){let{sortFilterOptions:t,sharedWithYouFilters:r,onChangeViewModeOption:a,viewBarOptions:n}=e,o=(0,l.wA)(),s=(0,eC._6)();if("sharedWithYou"!==s.view)return null;if(null==t)return(0,C.KF)(!0,`sortFilterOptions prop is ${t}`),null;let c=i.createElement(ng.$f,{options:t,selectedView:s,dispatch:o}),d=i.createElement("div",{className:N.cx.flex.alignCenter.$},i.createElement(ng.$c,{initialViewMode:n.viewMode,onViewModeChange:a})),m=i.createElement("div",{className:N.cx.flex.$},c,!(0,u.kc)().file_browser_ia_overhaul_remove_list_view&&d),_=i.createElement(ng.C9,{options:t,selectedView:s,dispatch:o,sharedWithYouFilters:r});return i.createElement(ng.lU,{leftSide:_,rightSide:m})}function bn(){let e=(0,l.d4)(e=>e.currentUserOrgId),t=(0,nt.ol)(),r=(0,ag.Rs)(av.kQI,{id:t?t.id:""},{enabled:!!t?.id}),a=(0,ag.Rs)(av.TNJ,{id:t?t.id:""},{enabled:!!t?.id}),n=(0,l.d4)(e=>e.tileSortFilterStateByView),o=(0,eC._6)(),s=(0,W.Yz)(),c=(0,K.R)(t?.id),d=(0,W.Xs)(),m=n.trashedFolders,[{data:u,status:p}]=(0,_.IT)((0,eX.p5)({orgId:e,teamId:t?.id??null,roleFilter:m.filters.role})),f="loaded"===r.status&&!!r.data.team&&r.data.team.hasPermission,g="loaded"===a.status&&!!a.data.team&&a.data.team.hasPermission,E=(0,l.d4)(e=>!!t&&!(0,am.w5)(t)&&!!(0,am.oc)(t.id,e));return i.createElement(et.A,{loadingElementId:"loading-content-pane",delay:250,loaded:"loading"!==p,loadingElementClassName:N.cx.pr32.$},i.createElement("div",{style:el.sx.mt1.$},i.createElement(br,{viewId:yW.l,teamId:t?.id,team:t,canEditTeamContents:f,canAdminTeam:g,folderList:u?.folders||[],chunkSize:u?.folders?.length||0,showTeamNameOrAuthor:!1,isSharerInfoIncluded:!1,selectedView:o,emptyStateText:(0,k.t)("file_browser.trash_project.trashed_empty_state"),useLGPerms:!0,eligibleForLockedStateRedesign:s(E),isInLockedProTeamRevampExp:d(c)})))}var bi=(e=>(e.FILES="files",e.FOLDERS="folders",e))(bi||{});function bl(e){let t=i.createElement(yY,null),r="folders"===e.selectedTab?i.createElement(bn,null):i.createElement(vA,null);return i.createElement(iS.r,{viewBarSticky:!0,viewbar:t,content:r})}var bo=r(93484);let bs=[eE.Wb3,eE.KoA,eE.Ult,eE.kmq,eE.USq,eE.jQF,eE.Ob5,eE.s7O,eE.Qlc,eE.I$z,eE.X5_,eE.RJL,eE.LB2,eE.I5n,eE.Msu,eE.UmN,eE.nIZ,eE.Ql8,eE.pIP,eE.Q16,eE.O5v,eE.rv,eE.HaT,eE.rQs,eE.YHe,eE.tsc,eE.hxO,eE.sqw,eE.Duq,eE.yjU,eE.BTz,eE.I3H,eE._9u,eE.jVB,eE.syA,eE.tZO,eE.LPt,eE.cJy,eE.tUL,eE.zMZ,eE.tBR,eE.K69,eE.Tp6,eE.fz8,eE.XIg,eE.fQh,eE.O9D,eE.c6t,eE.uC6,eE.r3Y].map(e=>e.id);function bc({children:e}){return i.createElement(bo.A,{name:"FileBrowser",order:bs},e)}let bd=e=>{switch(e){case lx.t2.DESIGN:return"design";case lx.t2.FIGJAM:return"whiteboard";case lx.t2.PROTOTYPE:return"prototype";case lx.t2.SITES:return"sites";case lx.t2.SLIDES:return"slides";case lx.t2.ANY:return"";default:(0,C.xb)(e)}},bm=e=>{switch(e){case lx.C0.NAME:return"name";case lx.C0.CREATED_AT:return"created_at";case lx.C0.TOUCHED_AT:return"updated_at";default:return(0,cW.$D)(af.e.WAYFINDING,Error(`Attempting to sort by an unsupported sort key: ${e}`)),"created_at"}};var bu=r(788811),b_=r(439729),bp=r(553015),bf=r(995852),bg=r(802026),bE=r(986060),bh=r(668860),by=r(454984),bv=r(318327),bb=r(659969);let bw=(0,tc.Ju)(function(e){let t=(0,l.wA)(),r=(0,l.d4)(e=>e.teams)[e.teamId].subscription,a=e.paymentRequiresAction;return(0,i.useEffect)(()=>{bb.T.getHostedInvoicesPage({teamId:e.teamId}).then(({data:e})=>{(0,lO.FJ)(e.meta.hosted_invoice_url,"_blank","noopener")})},[e.teamId]),(0,i.useEffect)(()=>{a||r===eA.Qh.INCOMPLETE||t(tu.ES({type:bw.type}))},[r,t,a]),i.createElement(r8.Eo,{title:(0,k.t)("payments.pending_subscription_modal_header"),hideCancel:!0,confirmText:(0,k.t)("payments.got_it"),trackedConfirmationProperties:{trackingDescriptor:ed.c.CONFIRM_VERIFY_PAYMENT,trackingContextName:"Confirm Verify Payment"}},(0,k.tx)("payments.pending_subscription_modal_description"))},"PENDING_SUBSCRIPTION_CHANGE_MODAL");var bT=r(999394);let bI="banners--warn--bC4ke",bC="banners--primaryCtaButton--tyhCJ",bx="banners--content--ciED3",bN="banners--titleSmall--ceZgU",bk="banners--bold--qt00U",bS="banners--message--9BMLM",bL="banners--messageSmall--YT-82",bA="banners--secondaryCtaButton--uYrvi",bR="banners--ctaButtonGroup--r8cfU",bP="banners--closeButton--IXY-V",bF="banners--teamBannerWithBackground--CwS6V banners--banner--l8udl",bO="banners--teamUpgradeNotice--gqc9c",bD="banners--softWarningBanner--QK9Y5",bM="banners--softWarningBannerBlue--uQmhb";var bB=r(677050),bU=r(403262),bV=r(169321),bW=r(123243);function bH(e,t){let r;if(!e.currentUserOrgId||!(0,am.wn)(e.currentUserOrgId,e))return null;let a=e.orgById[e.currentUserOrgId],n=(0,tU.canAdminOrg)(e.currentUserOrgId,e),l=a.past_due_at&&(0,eo.A)(a.past_due_at).add(2,"weeks")>(0,eo.A)(new Date);if(!n&&l)return null;let o=(0,e_.zR)(e.orgUsersByOrgId[e.currentUserOrgId]).map(e=>i.createElement("span",{key:e.id,className:bk},e.user.handle," (",e.user.email,")"));return r=n?a.billing===bg.EZ.CHARGE_IMMEDIATELY?(0,k.tx)("payments.org_past_due_on_payment",{invoice:i.createElement("a",{onClick:()=>{t?.(eI.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:eq.J7.BILLING}))}},(0,k.tx)("payments.outstanding_invoice")),orgName:a.name}):(0,k.tx)("payments.org_past_due_on_payment_invoiced",{email:i.createElement("b",{className:bk},(0,u.W4)()),orgName:a.name}):(0,k.tx)("payments.please_reach_out_to_org_admins",{orgName:a.name,admins:(0,tU.canMemberOrg)(e.currentUserOrgId,e)&&i.createElement("span",null," ",i.createElement(b_.T,{formatType:"disjunction"},o)),numAdmins:o.length}),{severity:bT.c.WARN,title:(0,k.t)("payments.payment_not_received"),message:r,cta:null,onClickCta:null}}function b$(e,t,r,a,n){let l=r?a.teams[r]:null;if(r&&!l||"file"===e)return null;let o=a.currentTeamId,s=l&&l.subscription===eA.Qh.GRACE_PERIOD,d=a.billingSummary,m=l?.subscription===eA.Qh.INCOMPLETE,_=!!l?.org_id,p=!!l?.subscription,g=e=>e?.status==="open"&&e?.payment_intent?.status===t4.pk.REQUIRES_SOURCE_ACTION,E=(0,u.kc)().requires_action_3ds_banner&&s&&!_&&p&&(g(d?.last_monthly_invoice)||g(d?.last_annual_invoice)),h=s&&!E,y=l&&(m||E),v=l&&l.subscription===eA.Qh.PAST_DUE,b=l&&l.subscription===eA.Qh.NO_MONTHLY_SUB_EDITOR_COUNT_EXCEEDED,w=r&&(0,tU.canOwnTeam)(r,a),T=r&&(0,tU.canAdminTeam)(r,a),I=r&&(0,tU.canEditTeam)(r,a),C=l&&(0,am.oc)(l.id,a),x=l&&!(0,am.n0)(l)&&!l.student_team&&C,N=l&&(l.student_team_state===eA.kU.STUDENT_TEAM_CURRENT||l.student_team_state===eA.kU.STUDENT_TEAM_EXPIRED),S="folder"===e?t:null,L=0,A={showReminder:!1,showAccessRestricted:!1},R=r||S?.team_id,P="folder"===e&&!S,F=!!(0,u.kc)().limited_plan_spaces&&(0,u.Ay)().is_limited_team_plan&&P;if(a.user){let t=R?(0,tU.getRolesForUserAndTeam)(R,a):[],r=R&&(0,tU.hasMinRole)(t,bh.e6.EDITOR),n=["folder","team"].includes(e)&&r,{ps_benchmark:i}=(0,u.kc)(),l=(0,a6.cn)(a.user),s=a.userEduGracePeriods;P?(i&&o&&(0,a6.hP)(a.user.id,a.roles.byTeamId,a.teams[o])||!i&&(0,a6.ej)(a.user.id,a.roles.byTeamId,a.teams))&&(A=(0,a6.df)(s,l),L=(0,a6.Me)(s)):R&&n&&(A=(0,a6.GU)(s,l,R,!!a.teams[R].student_team),L=(0,a6.qS)(s,R))}let O=l&&!(0,am.n0)(l)&&!l.student_team&&S&&!(0,rT.Gi)(S),D=O&&S.is_invite_only,M=O&&S.is_view_only,B=S&&(0,rT.sp)(S),U=!B&&!l&&S&&(0,am.ZZ)(S,a),V=()=>n?.(bf.WX({teamId:l.id,selectedView:a.selectedView})),W=e=>{e.preventDefault(),n?.(tu.to({type:bv.v,data:{teamId:r}}))},H=()=>{n?.(eI.$T({view:"teamAdminConsole",teamId:r,teamAdminConsoleViewTab:au.Iv.SETTINGS}))},$=()=>c.Ay.redirect("/education/apply",f.Ay.isIpadNative?void 0:"_blank"),j=()=>n?.(bf.WX({teamId:l.id,openInNewTab:!1,selectedView:{view:"team",teamId:l.id}})),G=()=>n?.(tu.to({type:aE.V,data:{upsellSource:ab.b.BANNER}})),Y=bH(a,n);if(Y)return Y;let z=(0,am._b)(l),q=l&&l.subscription_raw!==eA.Qh.OK&&(0,am.WQ)(l)&&T&&aK.ng.getProTrialStatus(l)!==bE.a.IN_TRIAL&&z,Q=["team","folder"].includes(e)&&I&&(0,nt.cU)(l),K=I&&function(e,t){let r=e&&t[e.id]?.dismissed_legacy_team_upgrade_notice_banner;return(0,nt.zs)(e)&&!r}(l,a.userTeamFlags),X=(0,h0.R$)(a.user,a.currentUserOrgId),Z=aK.ng.canSeeExpiredProTrialBanner(a.userTeamFlags,l,a),J=l&&a.userTeamFlags[l.id]?.[aK.lg],et=Z&&(C||I&&!J),er=a.user?(0,a6.x$)(a.eduPeriodEnd,(0,a6.cn)(a.user)):1/0,ea=er>0&&er!==1/0,en=0===er,ei=l&&l.student_team_state===eA.kU.STUDENT_TEAM_CURRENT,es=l&&l.student_team_state===eA.kU.STUDENT_TEAM_EXPIRED&&C,ec=ea&&w&&ei,em=en&&w&&es,eu=ea&&I&&ei,e_=en&&!I&&ei,ep=(0,u.kc)().edu_offboarding_experience&&(ec||em||eu||e_),ef=(0,u.kc)().edu_offboarding_experience&&es,eg=!a.checks||!a.checks.isInLockedProTeamRevampExp||!a.checks.isInLockedProTeamRevampExp(!!h&&!!T),eE=!a.checks||!a.checks.isInLockedProTeamRevampExp||!a.checks.isInLockedProTeamRevampExp(!!v);if(h&&eg)return{severity:bT.c.WARN,title:(0,k.t)("payments.payment_failed"),message:(0,k.t)("payments.payment_failed_explanation"),cta:T?(0,k.t)("payments.update_payment"):(0,k.t)("payments.contact_admin"),ctaTrackingProperties:T?{trackingDescriptor:ed.c.UPDATE_PAYMENT}:void 0,onClickCta:T?H:null};if(v&&eE)return{severity:bT.c.WARN,title:(0,k.t)("payments.locked"),message:(0,k.t)("payments.locked_description",{teamName:l.name}),cta:T?(0,k.t)("payments.update_payment"):(0,k.t)("payments.contact_admin"),ctaTrackingProperties:T?{trackingDescriptor:ed.c.UPDATE_PAYMENT}:void 0,onClickCta:T?H:null};if(b)return{severity:bT.c.WARN,title:(0,k.t)("payments.locked"),message:T?i.createElement("span",null,(0,k.tx)("payments.no_monthly_sub_over_editor_limit_admin.seat_rename",{contactSupport:i.createElement("a",{href:`mailto:${(0,u.W4)()}`},(0,k.tx)("payments.contact_support"))})):i.createElement("span",null,(0,k.tx)("payments.no_monthly_sub_over_editor_limit.seat_rename")),cta:T?(0,k.t)("payments.manage_plan"):null,onClickCta:T?()=>{n?.(eI.$T({view:"teamAdminConsole",teamId:r,teamAdminConsoleViewTab:au.Iv.SETTINGS}))}:null};if(et){let e,t,a,o;return C?(e=I?(0,k.tx)("payments.pro_trial_expiry.locked_description_on_team",{teamName:l.name,lowerUsageLink:i.createElement(aI.$z,{onClick:W},(0,k.tx)("payments.pro_trial_expiry.lower_usage"))}):(0,k.tx)("payments.pro_trial_expiry.locked_description_for_viewer_on_team",{teamName:l.name}),t=I?(0,k.tx)("payments.pro_trial_upgrade_cta.upgrade"):null,a=`${bD} `,o="Pro Trial Expiry Banner Locked"):(e=l?(0,k.tx)("payments.pro_trial.trial_ended_banner_message",{teamName:l.name}):(0,k.tx)("payments.pro_trial.trial_ended_banner_message.no_name"),t=(0,k.tx)("payments.pro_trial.trial_ended_banner_upgrade_cta"),a=`${bD} ${bM}`,o="Pro Trial Expiry Banner Unlocked"),{severity:bT.c.WARN_SOFT,title:(0,k.t)("payments.pro_trial.trial_ended_banner_title"),message:e,cta:t,onClickCta:I?j:void 0,svg:bU.A,bannerClassName:a,trackingContextName:o,dismissible:!C,onClose:C?void 0:()=>{r&&n?.(aO.bE({all_team_flags:[{team_id:r,flags:{[aK.lg]:!0}}]}))}}}if(F)return{severity:bT.c.WARN_SOFT,title:(0,k.tx)("file_browser.limited_space_banner.heading"),message:(0,k.tx)("file_browser.limited_space_banner.description"),cta:null,hideIcon:!0,bannerClassName:"banners--limitedSpaceBanner--Pq6k8"};if(ep){let e=()=>n?.(tu.to({type:by.ZL,data:{team:l}}));if(ec||eu)return{severity:bT.c.WARN_SOFT,title:(0,k.tx)("edu.banner.your_education_status_is_expiring_soon"),message:(0,k.tx)("edu.banner.to_keep_collaborating_upgrade_team",{teamName:l.name,verify:i.createElement(ee.Us,{href:"/education/apply",target:"_blank",trusted:!0},(0,k.tx)("edu.banner.verify_your_education_status"))}),cta:(0,k.tx)("edu.banner.learn_more"),onClickCta:e,svg:bB.A,bannerClassName:`${bD} ${bM}`,trackingContextName:"Edu Offboarding Banner"};if(em)return{severity:bT.c.WARN_SOFT,title:(0,k.tx)("edu.banner.your_education_plan_has_expired"),message:(0,k.tx)("edu.banner.team_is_now_view_only_for_all_members",{teamName:l.name}),cta:(0,k.tx)("edu.banner.learn_more"),onClickCta:e,svg:bB.A,bannerClassName:bD,trackingContextName:"Edu Offboarding Banner"};if(e_)return{severity:bT.c.WARN_SOFT,title:(0,k.tx)("edu.banner.your_education_plan_has_expired"),message:(0,k.tx)("edu.banner.you_can_no_longer_edit_files",{teamName:l.name}),cta:(0,k.tx)("edu.banner.learn_more"),onClickCta:e,svg:bB.A,bannerClassName:bD,trackingContextName:"Edu Offboarding Banner"}}else if(ef)return{severity:bT.c.WARN_SOFT,title:(0,k.tx)("edu.banner.team_s_education_status_has_expired",{teamName:l.name}),message:(0,k.tx)("edu.banner.move_or_duplicate_files_to_another_location_to_save_your_work"),cta:null,svg:bB.A,bannerClassName:bD,trackingContextName:"Edu Offboarding Banner"};else if(!x||a.checks&&a.checks.isEligibleForLockedRedesign&&a.checks.isEligibleForLockedRedesign(!N&&x)){if(X){let e=a.user.external_restricted_org_id,t=(0,k.t)("external_collaboration_restricted.banner.restriction_description.no_org");if(e&&a.orgById[e]){let r=a.orgById[e];t=(0,k.t)("external_collaboration_restricted.banner.restriction_description",{organizationName:r.name})}return{severity:bT.c.WARN,title:(0,k.t)("external_collaboration_restricted.banner.title"),message:t,cta:null,ctaTrackingProperties:void 0,onClickCta:null}}if(a.user&&["team","folder"].includes(e)&&A.showAccessRestricted){let e,t=(0,k.t)("banner.edu_grace_period.your_education_plan_has_expired");return l?(0,a6.eB)(a.user.id,a.roles.byTeamId,l)?e=(0,k.t)("banner.edu_grace_period.team_is_now_view_only_for_all_members",{teamName:l.name}):(0,a6.QS)(a.user.id,a.roles.byTeamId,l)?e=(0,k.t)("banner.edu_grace_period.you_can_no_longer_edit_files_in_team",{teamName:l.name}):(t=(0,k.t)("banner.edu_grace_period.your_education_plan_has_expired.is_member",{teamName:l.name}),e=(0,k.t)("banner.edu_grace_period.move_or_duplicate_files_to_another_location_to_save_your_work")):e=(0,k.t)("banner.edu_grace_period.education_team_members_need_to_verify_their_education_status"),{severity:bT.c.ANNOUNCEMENT,title:t,message:e,learnMoreUrl:"/education/",cta:(0,k.t)("banner.edu_grace_period.verify_status_button"),onClickCta:$,svg:bB.A,bannerClassName:bO}}if(["team","folder"].includes(e)&&A.showReminder)return{severity:bT.c.ANNOUNCEMENT,title:(0,k.t)("banner.edu_grace_period.only_edu_grace_period_days_left",{daysLeft:L}),message:(0,k.t)("banner.edu_grace_period.to_keep_collaborating_on_figma_s_education_plan_please_verify_your_status_soon"),cta:(0,k.t)("banner.edu_grace_period.verify_status_button"),onClickCta:$,svg:bW.A};else if(D||M)return{severity:bT.c.WARN,title:(0,k.t)("payments.folder_locked"),message:(0,k.t)("payments.folder_locked_description",{projectType:"Invite"==(D?"Invite":"View")?(0,k.t)("payments.invite_only_projects"):(0,k.t)("payments.view_only_projects"),teamName:l.name}),learnMoreUrl:"/pricing",cta:I?(0,k.t)("payments.upgrade_now"):(0,k.t)("payments.contact_admin_for_details"),ctaTrackingProperties:I?{trackingDescriptor:ed.c.UPGRADE_NOW,upsellSource:ab.b.BANNER}:void 0,onClickCta:I?V:null};else if(U&&"folder"===e)return{severity:bT.c.WARN,title:(0,k.t)("payments.locked"),message:(0,k.t)("payments.projects_deprecated"),learnMoreUrl:"/pricing-faq#what-changes-for-me",cta:null,onClickCta:null};else if(B&&"folder"===e)return{severity:bT.c.WARN,title:(0,k.t)("payments.abandoned_project"),message:(0,k.t)("payments.abandoned_project_description"),cta:null,onClickCta:null};else if(K){let e=(0,k.t)("payments.file_limit_unified",{figmaFiles:am.WW,figjamFiles:am.WW});Q?K||(e=(0,k.t)("payments.file_limit_figjam",{figjamFiles:am.WW})):e=(0,k.t)("payments.file_limit_figma",{figmaFiles:am.WW});let t=()=>i.createElement("button",{type:"button",onClick:G,className:"banners--bannerInlineTextButton--GRx12"},(0,k.tx)("payments.check_out_our_paid_plans")),r=l?i.createElement("span",null,(0,k.tx)("payments.team_over_starter_team_limit_with_button.legacy_team",{fileLimitString:e,checkoutOurPlans:t(),teamName:l.name})):i.createElement("span",null,(0,k.tx)("payments.team_over_starter_team_limit_with_button.no_legacy_team_present",{fileLimitString:e,checkoutOurPlans:t()}));return{severity:bT.c.ANNOUNCEMENT,title:(0,k.t)("payments.team_over_starter_team_limit_title"),message:r,cta:(0,k.t)("payments.upgrade_now"),ctaTrackingProperties:{trackingDescriptor:ed.c.UPGRADE_NOW,upsellSource:ab.b.BANNER},onClickCta:V,svg:bV.A,bannerClassName:bO,trackingContextName:"Unified Legacy / Beta File Limit Banner"}}else if(q){let e=(0,eo.A)(l.grace_period_end).toDate(),t=(0,k.tx)("payments.pro_plan_ends_relative_time_string",{relative_time_string:i.createElement(lB.h1,{date:e})});return z||(t=(0,k.tx)("payments.pro_plan_ends_on_date",{end_date:new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(e)})),{severity:bT.c.ANNOUNCEMENT,title:t,message:(0,k.t)("payments.pro_plan_ends_for_team_description",{teamName:l.name}),cta:(0,k.t)("payments.pro_plan_ends_button"),onClickCta:j,svg:z?bV.A:bU.A,trackingContextName:"Promo Code Expiration Banner",bannerClassName:z?bO:void 0}}else if(y){let e=m?(0,k.t)("payments.complete_team_payment_description",{teamName:l.name}):(0,k.t)("payments.complete_team_renewal_payment_description");return{severity:bT.c.WARN,title:(0,k.t)("payments.complete_payment"),message:e,cta:i.createElement(bp.V,{trackingProperties:{trackingDescriptor:ed.c.VERIFY_PAYMENT,trackingContextName:"Verify Payment Banner"},onClick:()=>n?.(tu.to({type:bw,data:{teamId:r,paymentRequiresAction:!!E}}))},(0,k.tx)("payments.complete_payment_cta")),onClickCta:null}}}else{let e;return e=T||I?i.createElement("span",null,i.createElement("b",{style:el.sx.fontSemiBold.$},(0,k.tx)("payments.team_over_starter_team_limit",{teamName:l.name})," "),(0,k.tx)("payments.team_over_starter_team_limit_upgrade",{teamName:l.name,lowerYourUsage:i.createElement("a",{href:"#",onClick:W},(0,k.tx)("payments.team_over_starter_team_limit_lower_your_usage"))})):i.createElement("span",null,i.createElement("b",{style:el.sx.fontSemiBold.$},(0,k.tx)("payments.team_over_starter_team_limit",{teamName:l.name})," "),(0,k.tx)("payments.contact_admin_for_details")),{severity:bT.c.WARN,title:(0,k.t)("payments.locked"),message:e,cta:I?(0,k.t)("payments.upgrade_now"):null,ctaTrackingProperties:I?{trackingDescriptor:ed.c.UPGRADE_NOW,upsellSource:ab.b.BANNER}:void 0,onClickCta:I?V:null}}return null}function bj(e,t,r,a,n){return!!b$(t,r,a,{userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,currentOrgId:e.currentUserOrgId,selectedView:e.selectedView,userEduGracePeriods:e.userEduGracePeriods,fileKeysByFolderId:e.fileKeysByFolderId,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData,checks:n,...(0,tU.getPermissionsState)(e)},null)}function bG(e){return(0,l.d4)(t=>bj(t,e.resourceType||eA.vt.FOLDER,e.resource||null,e.teamId||null,e.checks))}function bY(e,t){let r={...e};return"string"==typeof t.title&&(r.title=t.title),"string"==typeof t.message&&(r.message=t.message),r}var bz=r(114961),bq=r(702595);let bQ=i.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M0 24C0 10.7452 10.7452 0 24 0V0C37.2548 0 48 10.7452 48 24V24C48 37.2548 37.2548 48 24 48V48C10.7452 48 0 37.2548 0 24V24Z",fill:"var(--color-bg-inverse, black)"}),i.createElement("mask",{id:"mask0_4:25",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"48",height:"48"},i.createElement("path",{d:"M0 24C0 10.7452 10.7452 0 24 0V0C37.2548 0 48 10.7452 48 24V24C48 37.2548 37.2548 48 24 48V48C10.7452 48 0 37.2548 0 24V24Z",fill:"var(--color-bg-inverse, black)"})),i.createElement("g",{mask:"url(#mask0_4:25)"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 20H17.5C16.1193 20 15 21.1193 15 22.5C15 23.8807 16.1193 25 17.5 25H20L20 20ZM21 19.9963L21 25H21.6738C23.3383 25 24.9874 25.3196 26.5314 25.9416L28 26.5333V17.7761L27.3548 18.1614C25.4287 19.3116 23.2393 19.9428 21 19.9963ZM17.5 19H20.6897C22.8561 19 24.9821 18.4135 26.8421 17.3028L28.2437 16.4658C28.5769 16.2668 29 16.507 29 16.8951V27.2737C29 27.628 28.6418 27.8699 28.3132 27.7375L26.1577 26.8692C24.7325 26.2951 23.2103 26 21.6738 26H21.3286L22.5613 29.698C22.7771 30.3455 22.2951 31.0142 21.6126 31.0142H20.4415C19.5807 31.0142 18.8164 30.4634 18.5442 29.6467L17.3333 26.0142L17.3272 25.9958C15.4745 25.9057 14 24.375 14 22.5C14 20.567 15.567 19 17.5 19ZM18.3874 26.0142L19.4928 29.3304C19.6289 29.7388 20.0111 30.0142 20.4415 30.0142H21.6126L20.2792 26.0142H18.3874Z",fill:"var(--color-icon-oninverse, white)"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.5 22C32.5 21.1716 31.8284 20.5 31 20.5V19.5C32.3807 19.5 33.5 20.6193 33.5 22C33.5 23.3807 32.3807 24.5 31 24.5V23.5C31.8284 23.5 32.5 22.8284 32.5 22Z",fill:"var(--color-icon-oninverse, white)"}));function bK(e){let{title:t,message:r,cta:a,ctaTrackingProperties:n,learnMoreUrl:l,onClickCta:o,severity:s,secondaryCTA:c,secondaryOnClickCta:d,svg:m,trackingContextName:u="Banner",contentStyles:_,reverseCtas:p,dismissible:f,onClose:g}=e;return s===bT.c.ANNOUNCEMENT?i.createElement(aI.fu,{name:u,properties:{severity:s,...e.tracking}},i.createElement("div",{className:bx},m&&i.createElement(ei.B,{svg:m,useOriginalSrcFills_DEPRECATED:!0}),i.createElement("div",{className:bS},i.createElement("div",{className:bN},t),i.createElement("div",{className:bL},r)),i.createElement(ee.e2,{reversed:p,className:bR},o&&i.createElement(ee.vd,{className:bC,onClick:o,trackingProperties:n},a),d&&i.createElement(ee.tM,{className:bA,onClick:d},c),f&&g&&i.createElement(aT.Jn,{className:bP,onClick:g})))):s===bT.c.EVENT?i.createElement(aI.fu,{name:u,properties:{severity:s,...e.tracking}},i.createElement("div",{className:`${bx} ${_}`},i.createElement("div",{className:"banners--eventMegaphoneIcon--7J3rx"},bQ),i.createElement("div",{className:bS},i.createElement("p",{className:bN},t),i.createElement("p",{className:bL},r)),i.createElement(ee.e2,{className:bR},o&&i.createElement(ee.vd,{className:bC,onClick:o,trackingProperties:n},a),d&&i.createElement(ee.tM,{className:bA,onClick:d},c),f&&g&&i.createElement(aT.Jn,{className:bP,onClick:g})))):i.createElement(aI.fu,{name:u,properties:{severity:s,...e.tracking}},i.createElement("div",{className:`${bx} ${_}`},!e.hideIcon&&i.createElement(ei.B,{svg:bq.A,className:"banners--warningIcon--A5YS-",autosize:s===bT.c.WARN_SOFT}),i.createElement("div",{className:bS},i.createElement("span",{className:"banners--title--OIA0P"},t),r,l&&i.createElement("span",null,"\xa0",i.createElement("a",{target:"_blank",rel:"noopener",href:l},(0,k.tx)("payments.learn_more")))),i.createElement(ee.e2,{reversed:p,className:bR},o&&i.createElement(ee.vd,{className:bC,onClick:o,trackingProperties:n},a),!o&&i.createElement("div",{className:"banners--ctaMessage--5MB88"},a),f&&g&&i.createElement(aT.Jn,{className:bP,onClick:g}))))}let bX=(0,l.Ng)(e=>({userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,currentOrgId:e.currentUserOrgId,selectedView:e.selectedView,userEduValidated:!!e.user?.student_validated_at,userEduGracePeriods:e.userEduGracePeriods,fileKeysByFolderId:e.fileKeysByFolderId,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData,...(0,tU.getPermissionsState)(e)}))(function(e){let t;let r=(0,ag.Rs)(av.UpR,{}),a=(0,W.Yz)(),n=(0,W.Xs)(),o=e.folderId?e.folders[e.folderId]:null,s=o?o.team_id:null,c=e.dispatch,d=s&&(0,tU.canAdminTeam)(s,e),m=s?e.teams[s]:null,_=!!m?.org_id,p=!!m?.subscription;(0,i.useEffect)(()=>{(0,u.kc)().requires_action_3ds_banner&&s&&!_&&p&&d&&c(bz.Be({teamId:s}))},[c,s,_,p,d]);let f=(0,l.d4)(e=>e.teamBilling?.summary),g=b$(eA.vt.FOLDER,o??null,s,{eduPeriodEnd:r.data?.currentUser?.eduPeriodEnd,billingSummary:f,checks:{isEligibleForLockedRedesign:a,isInLockedProTeamRevampExp:n},...e},e.dispatch);if(!g)return i.createElement("div",null);t=o?bY({resourceType:eA.vt.TEAM,teamId:s,folderId:o.id},g):bY({resourceType:"recents"},g);let E=g.severity===bT.c.WARN?bI:"",h=g.bannerClassName||"",y=`${bF} ${E} ${h}`;return i.createElement("div",{className:y},i.createElement(bK,{...g,tracking:t}))});function bZ(){let e;let t=(0,l.wA)(),r=(0,l.d4)(e=>e.currentUserOrgId),a=(0,l.d4)(e=>e.currentTeamId),n=(0,X.S)();r?e=n?.currentUser.baseOrgUser?.draftsProject:(0,u.kc)().ps_benchmark&&a&&(e=n?.currentUser.currentTeamUser?.draftsProject);let o=(0,l.d4)(e=>e.tileSortFilterStateByView),s=(0,eC._6)();if(!n||!e)return i.createElement(yV,{tabs:[],viewbarActions:[]});let c="deletedFiles"===s.view?(0,yD.xx)(yH)(o):(0,yD.xx)(rT.ZN)(e.id,o),d=["deletedFiles"===s.view?i.createElement(ng.gr,{key:3,dispatch:t,options:c,selectedView:s}):null,i.createElement(ng.ye,{key:0,config:c.tileSortFilterConfig}),i.createElement(ng.mc,{key:1,dispatch:t,options:c,selectedView:s})];return(0,u.kc)().file_browser_ia_overhaul_remove_list_view||d.push(i.createElement(ng.$c,{key:2,initialViewMode:c.tileSortFilterConfig.viewMode,onViewModeChange:e=>{(0,nm.sx)("file view toggle",{viewType:e===lx.XU.GRID?"grid":"list"}),t(eI.JF({selectedView:s,config:{...c.tileSortFilterConfig,viewMode:e}}))}})),i.createElement(yV,{viewbarActions:d})}let bJ={open:!0,openNewTab:!0,restoreFromVersion:!0,share:!0,copyLink:!0,rename:!0,duplicate:!0,delete:!0,createBranch:!0,moveFile:!0},b0=(0,yD.xx)(rT.ZN);function b1(e){let{sortFilterOptions:t,selectedBranchKeyByRepoId:r}=(0,a9.R)(t=>({sortFilterOptions:b0(e.folderId,t.tileSortFilterStateByView),selectedBranchKeyByRepoId:t.selectedBranchKeyByRepoId})),a=(0,bu.Rp)(),n=(0,l.d4)(({currentUserOrgId:e})=>e),o=(0,g.I7)("exp_aa_test_org_drafts");n&&o.getConfig();let s=()=>{},[c,d]=function(e){let t=(0,l.d4)(t=>t.tileSortFilterStateByView.folders.byId[e]??t.tileSortFilterStateByView.folders.default),r=(0,i.useMemo)(()=>({file_type:bd(t.filters.fileType),sort_order:t.sort.dir===lx.ue.ASC?"asc":"desc",sort_column:bm(t.sort.key)}),[t.filters.fileType,t.sort.dir,t.sort.key]),[a,n]=(0,_.IT)((0,j.BU)({folderId:e,...r}));return[a,(0,i.useCallback)(e=>{if("fetchNextPage"===e.type)return n.fetchNextPage();(0,C.xb)(e.type)},[n])]}(e.folderId),m=c.data?.folder,u=(0,W.Yz)(),p=(0,Z.vt)(m?.team_id),f=(0,K.R)(m?.team_id),E=(0,W.Xs)(),h=bG({resourceType:eA.vt.FOLDER,resource:m,teamId:m?.team_id||null,checks:{isEligibleForLockedRedesign:u,isInLockedProTeamRevampExp:E}});s=i.useCallback(()=>{!c.isFetchingNextPage&&c.hasNextPage&&d({type:"fetchNextPage"})},[c.isFetchingNextPage,c.hasNextPage,d]);let y=i.useMemo(()=>{let e=(c.data?.files||[]).map(tQ.fA),t=c.data?.filesByRepoId||{};return[...e,...(c.data?.repos||[]).map(e=>({type:tQ.nb.REPO,repo:e,branches:t[e.id],selectedBranchKey:r[e.id]||""})),...Object.values(a).filter(e=>e.orgId===n).map(tQ.gB)]},[n,c.data?.files,c.data?.filesByRepoId,c.data?.repos,a,r]),v=!!m&&p,b=i.createElement(i.Fragment,null,i.createElement(vN,{newFileTile:!0,tiles:y,tileActions:bJ,sortFilterOptions:t,emptyStateText:"",hideSorter:!0,isDataPartial:!!c.hasNextPage,eligibleForLockedStateRedesign:u(v),isInLockedProTeamRevampExp:E(f)}),i.createElement(yL.cx,null)),w=i.createElement(et.A,{loadingElementId:"loading-content-pane",loaded:"loaded"===c.status,loadingElementClassName:N.cx.pr32.$},i.createElement(yz.B,{key:`${t.tileSortFilterConfig.filters.fileType}`,onShouldFetchNextPage:s},b));return(0,aI.T8)(i.createElement(iS.r,{viewBarSticky:!0,banner:h?i.createElement(bX,{folderId:e.folderId}):void 0,content:w,viewbar:i.createElement(bZ,null)}),iV.e0.FILE_BROWSER,{view:"drafts"})}var b2=r(772841),b4=r(189430),b8=r(296447),b5=r(953993),b3=r(529982),b9=r(452441),b6=r(649433),b7=r(516056);let we=(0,tc.Ju)(function(e){let t,r;let a=(0,l.wA)(),[n,o]=i.useState(""),s=(0,l.d4)(e=>e.deletedReposById),c=(0,l.d4)(e=>e.fileByKey),{reposToDelete:d,draftsToDelete:m,deleteAllDraftsAsync:_,isDeleteAll:p,isPermanentDeletion:f}=e,g=m.map(e=>e.name).concat(d.map(e=>e.name)),E=g.length>1;t=f?E?(0,k.t)("file_browser.draft_delete_modal.header_multiple_files_delete",{fileCount:g.length}):(0,k.t)("file_browser.draft_delete_modal.header_single_file_delete",{fileName:g[0]}):E?(0,k.t)("file_browser.draft_delete_modal.header_multiple_files_trash",{fileCount:g.length}):(0,k.t)("file_browser.draft_delete_modal.header_single_file_trash");let h=(t,r)=>{if(t.length>0){if(f){let r=t.reduce((e,t)=>(e[t.key]=!0,e),{});a(tH.YK({fileKeys:r,userInitiated:!0,onSuccessCallback:e.onDeleteSuccess}))}else{let r=t.reduce((e,t)=>(e[t.key]=tZ.F.toSinatra(t),e),{});a(tH.VK({fileKeys:r,userInitiated:!0,onSuccessCallback:e.onDeleteSuccess,hideVisualBell:!0}))}}let n={};r.forEach(e=>{let t=s[e.id];if(t)n[e.id]=t;else{let t=e.default_file_key&&c[e.default_file_key];t&&(n[e.id]={repo:e,main_file:t})}}),r.length>0&&(f?a((0,b6.YM)({repoIds:Object.keys(n),userInitiated:!0})):a((0,b6.hT)({reposById:n,userInitiated:!0})))},y=()=>b7.k.deleteAllPersonalDrafts().then(()=>a(tO.F.enqueue({message:(0,k.t)("file_browser.draft_delete_modal.async_delete_drafts_scheduled")}))).catch(()=>a(tO.F.enqueue({message:(0,k.t)("file_browser.draft_delete_modal.async_delete_drafts_scheduled_error")}))),v=()=>{let{draftsToDelete:t,reposToDelete:r}=e;t.length+r.length>100?a(aF.s.error((0,k.t)("file_browser.draft_delete_modal.unable_to_delete",{maxSize:100}))):(e.setSynchronousFileTransferInProgress(t.length>0),h(t,r))},b=()=>{_?y():v(),e.onClose()},w=i.useMemo(()=>n.trim().toLowerCase()!==(0,k.t)("file_browser.draft_delete_modal.button_delete").toLocaleLowerCase(),[n]);r=f?E?(0,k.t)("file_browser.draft_delete_modal.permanently_delete_multiple_drafts",{fileCount:g.length}):(0,k.t)("file_browser.draft_delete_modal.permanently_delete_one_draft"):E?(0,k.t)("file_browser.draft_delete_modal.you_are_about_to_delete_multiple_drafts",{fileCount:g.length}):(0,k.t)("file_browser.draft_delete_modal.you_are_about_to_delete_single_draft",{fileName:g[0]});let T=f?i.createElement(ee.qM,{onClick:b,disabled:w,trackingProperties:{isDeletingDraftFromDTM:!0,isPermanentDeletion:f},dataTestId:"draft-delete-confirmation-button"},i.createElement("span",{"data-tooltip":(0,k.t)("file_browser.draft_delete_modal.draft_deletion_tooltip",{deletionString:(0,k.t)("file_browser.draft_delete_modal.button_delete")}),"data-tooltip-type":w?r$.Ib.TEXT:null,"data-tooltip-max-width":180,"data-tooltip-show-above":!0},(0,u.kc)().ps_trashed_drafts_enabled?(0,k.t)("file_browser.draft_delete_modal.button_permanently_delete_files",{numFiles:g.length}):(0,k.t)("file_browser.draft_delete_modal.button_delete"))):i.createElement(r0.vd,{onClick:b,"data-testid":"draft-delete-confirmation-button",trackingProperties:{isDeletingDraftFromDTM:!0,isPermanentDeletion:f}},(0,k.tx)("file_browser.draft_delete_modal.button_delete_files",{numFiles:g.length}));return i.createElement(aI.fu,{name:"draftDeleteModal",properties:{itemCount:g.length,isDeleteAsync:!!_,isDeleteAll:!!p}},i.createElement(r8.XV,{title:t,minWidth:480,maxWidth:480,onClose:e.onClose,truncateTitleText:!0,fixedCenter:!0},i.createElement("div",{className:"draft_delete_modal--modalContent--QYGIS"},i.createElement("p",null,r," ",!f&&i.createElement("p",null,i.createElement("br",null),(0,k.tx)("file_browser.draft_delete_modal.you_can_access_drafts_from_deleted_drafts_section",{fileCount:g.length}))),i.createElement("p",{className:"draft_delete_modal--confirmationTextSpacing---MQEW"},f&&(0,k.tx)("file_browser.draft_delete_modal.permanently_delete_multiple_drafts_confirmation",{deletionString:(0,k.t)("file_browser.draft_delete_modal.button_delete")})),i.createElement("form",{onSubmit:b},f&&i.createElement("div",null,i.createElement(b9.L,{className:"draft_delete_modal--deleteDraftsInput--pCTUB",type:"text",dataTestId:"draft-delete-confirmation-input",value:n,onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},onChange:e=>{o(e.currentTarget.value)},autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1})),i.createElement("div",{className:"draft_delete_modal--footer--SRSo6"},i.createElement(ee.nR,{onClick:e.onClose},(0,k.tx)("modal.cancel")),T)))))},"DraftDeleteModal");var wt=r(403223),wr=r(70964),wa=r(255533),wn=r(71048);let wi="drafts_to_move_page_view--fileCellDateSpan--xWiCm",wl="drafts_to_move_page_view--dateColumn--V3e9G drafts_to_move_page_view--column--jpRzM table--column--974RA",wo="drafts_to_move_page_view--emptyContentContainer--w1lwc",ws="drafts_to_move_page_view--emptyContentHeader--35cXt",wc=(0,nW.jz)(io.ISO),wd=(0,u.ck)("c9f2d8cbce5754a2b6e3e3e81adf5fe313429577"),wm=(0,u.ck)("6212099329ba7714b869112a09f8dfffce71edf5");var wu=(e=>(e.DRAFT_FILES="draft-files",e.DELETED_DRAFT_FILES="deleted-draft-files",e))(wu||{}),w_=(e=>(e.NONE="NONE",e.SYNCHRONOUS_DELETION_OR_MIGRATION="SYNCHRONOUS_DELETION_OR_MIGRATION",e.ASYNC_FILE_MIGRATION="ASYNC_FILE_MIGRATION",e.ASYNC_FILE_DELETION="ASYNC_FILE_DELETION ",e.TRANSFER_COMPLETED="TRANSFER_COMPLETED",e))(w_||{});function wp(e){let t=e=>{switch(e){case"draft-files":return(0,k.t)("file_browser.drafts_to_move.drafts");case"deleted-draft-files":return(0,k.t)("file_browser.drafts_to_move.deleted_drafts");default:(0,C.xb)(e)}},r=t=>{let r=wu[t].replace(/-/g,"_");(0,H.Cu)({text:r,name:"Drafts to move tab switch"},"cta_clicked"),e.setSelectedTab(wu[t])},a=Object.keys(wu).map(a=>i.createElement(yU.r,{tab:wu[a],onClick:()=>r(a),isSelected:e.selectedTab===wu[a],tabName:t(wu[a]),key:a}));return i.createElement(ng.g2,{leftSide:i.createElement(yU.f,{tabs:a}),rightSide:[]})}function wf(e){let t=(0,l.wA)(),r=(0,l.d4)(e=>e.selectedView),a=(0,lw.v)(),{item:n}=e,o=tQ.Tf.getFileKey(n)??"",s=(0,b5.Y)(o,tQ.Tf.getFavoritedResourceType(n),tQ.Tf.getOrgId(n),tQ.Tf.getFavoriteResourceTeamId(n)),c=i.useMemo(()=>"loaded"===s.status?!!s.favorite:tQ.Tf.getIsFavorited(n),[n,s]),d=e=>i=>{i.detail>1&&!tQ.Tf.getTrashedAt(n)&&(vE({tile:e,index:0,dispatch:t,selectedView:r}),a(e,i),i.stopPropagation())};return i.createElement("div",{className:N.cx.inlineFlex.minW0.$},i.createElement("button",{className:"drafts_to_move_page_view--draftThumbnail--whTtS",onClick:d(n),"data-testid":`fileTile-${o}`},i.createElement(lv.e,{tile:n,noBorder:!0}),i.createElement("div",{className:"drafts_to_move_page_view--topLeftControls--kfCRe"},i.createElement(lV.j,{tile:n,iconSize:16})),c&&i.createElement("div",{className:"drafts_to_move_page_view--topRightControls--dD-Od"},i.createElement("div",{className:"drafts_to_move_page_view--control--W49tq"},i.createElement(rb.r,{setFavorite:p.lQ,favoriteType:(0,$.UL)(n.type),resourceId:o,noHoverState:!0,size:rb.m.SMALL,orgId:tQ.Tf.getOrgId(n)??null,teamId:tQ.Tf.getFavoriteResourceTeamId(n),disableTooltip:!0})))),i.createElement("div",{className:N.cx.ml14.minW0.flex.flexColumn.itemSelfCenter.$},i.createElement("button",{className:"drafts_to_move_page_view--fileName--U3mn4",onClick:d(n)},tQ.Tf.getName(n)),e.shouldDisplayFileDates&&i.createElement("div",{className:"drafts_to_move_page_view--fileCellDatesSection--LFnvg"},i.createElement("span",{className:wi},(0,k.tx)("file_browser.drafts_to_move.file_created_at_label",{timeDifference:i.createElement(lB.h1,{date:tQ.Tf.getCreatedAt(n)})})),i.createElement("span",{className:wi},(0,k.tx)("file_browser.drafts_to_move.file_last_modified_at_label",{timeDifference:i.createElement(lB.h1,{date:tQ.Tf.getTouchedAt(n)??""})})))))}function wg({currentFileTransferState:e}){let t="dark"===(0,nq.DP)(),r=e=>i.createElement(i.Fragment,null,i.createElement(er.kt,{size:"large"}),i.createElement("p",{className:"drafts_to_move_page_view--transferContentHeader--ljikD"},(0,k.tx)("file_browser.drafts_to_move.file_transfer_header",{transferType:"ASYNC_FILE_MIGRATION"===e?(0,k.tx)("file_browser.drafts_to_move.file_transfer_migration_type"):(0,k.tx)("file_browser.drafts_to_move.file_transfer_deletion_type")})),i.createElement("p",null,(0,k.tx)("file_browser.drafts_to_move.file_transfer_description"))),a=()=>i.createElement("div",{className:"drafts_to_move_page_view--slideIn--c-NGK"},i.createElement("div",{className:"drafts_to_move_page_view--animatedContentContainer--z1sdh"},i.createElement(wr.Gv,{src:t?wd:wm,containerClassName:"drafts_to_move_page_view--allDoneGif--mwZxC",height:100,width:100}),i.createElement("p",{className:ws},(0,k.tx)("file_browser.drafts_to_move.empty_header")),i.createElement("p",null,(0,k.tx)("file_browser.drafts_to_move.empty_body_text")))),n=()=>i.createElement(er.kt,{size:"large"});return i.createElement("div",{className:wo},(()=>{switch(e){case"ASYNC_FILE_MIGRATION":case"ASYNC_FILE_DELETION ":return r(e);case"TRANSFER_COMPLETED":return a();default:return n()}})())}function wE(){let e=(0,l.wA)(),t=(0,l.d4)(e=>e.user?.personal_drafts_folder_id),r=(0,l.d4)(e=>e.fileKeysByFolderId),a=(0,l.d4)(e=>e.fileKeysByRepoId),n=(0,l.d4)(e=>e.repoIdsByFolderId),o=(0,l.d4)(e=>e.repos),s=(0,l.d4)(e=>e.fileByKey),c=(0,l.d4)(e=>e.selectedView),d=(0,l.d4)(e=>e.selectedBranchKeyByRepoId),m=(0,l.d4)(e=>e.userFlags),_=m.personal_draft_migration_scheduled,p=m.personal_draft_migration_completed,f=m.personal_draft_deletion_scheduled,E=m.personal_draft_deletion_completed,h=(0,l.d4)(e=>e.loadedFolders),y=(0,l.d4)(e=>e.deletedFilesByKey),v=(0,l.d4)(e=>e.deletedReposById),{windowInnerWidth:b}=(0,b4.l)(),w=(0,ag.Rs)(av.vXh,{}),T=(0,ag.Rs)(av.Jzf,{projectId:t??""},{enabled:!!t}),I=(0,lw.v)(),[C,x]=i.useState("draft-files"),[S,L]=i.useState(!1),[A,R]=i.useState("NONE"),[P,F]=i.useState(!1),[O,D]=i.useState(!1);i.useEffect(()=>{_&&(0,r1.rO)(_.updatedAt,p?.updatedAt)?R("ASYNC_FILE_MIGRATION"):f&&(0,r1.rO)(f.updatedAt,E?.updatedAt)?R("ASYNC_FILE_DELETION "):P?R("SYNCHRONOUS_DELETION_OR_MIGRATION"):R("NONE")},[_,p,f,E,P]),i.useEffect(()=>{e(eX.h3({orgId:null}))},[e]);let B="loaded"===w.status,U=i.useMemo(()=>{if(!B)return[];let e=[];return w.data?.currentUser?.draftsFolderId&&e.push(w.data.currentUser.draftsFolderId),e},[B,w]),V=i.useMemo(()=>T.data?.project?.status!==b2.tT.Loaded?new Set:new Set((T.data?.project.data?.undeletedFilesHighLimit??[]).map(e=>e.key)),[T]),W=i.useMemo(()=>{if(T.data?.project?.status!==b2.tT.Loaded)return new Set;let e=new Set;return(T.data?.project.data?.undeletedFilesHighLimit??[]).forEach(t=>{t.fileRepoId&&e.add(t.fileRepoId)}),e},[T]),H=i.useCallback(e=>V.has(e),[V]),$=i.useCallback(e=>W.has(e),[W]);i.useEffect(()=>U.forEach(t=>B&&e((0,j.jl)({folderId:t,loadedFolders:h}))),[h,U,e,B]);let{getConfig:G}=(0,g.I7)("ps_async_draft_move_limit",void 0,!0),Y=G().get("async_limit",100),z=B&&U.every(e=>e&&"loaded"===h[e]),q=i.useMemo(()=>Object.keys(y).map(e=>y[e]).filter(e=>!e.file_repo_id&&e.folder_id===t&&H(e.key)),[y,t,H]),Q=i.useMemo(()=>Object.keys(v).map(e=>v[e]).filter(e=>e&&e.main_file&&e.main_file.folder_id===t&&e.repo&&$(e.repo.id)),[v,t,$]),K=i.useMemo(()=>U.flatMap(e=>n[e]).map(e=>o[e]).filter(e=>!!e&&$(e.id)),[U,o,n,$]),X=i.useMemo(()=>U.flatMap(e=>r[e]).map(e=>s[e]).filter(e=>!!e&&H(e.key)),[U,s,r,H]);i.useEffect(()=>{let e=X.length+K.length,t=q.length+Q.length;z&&!O&&(0===e&&t>0&&x("deleted-draft-files"),D(!0))},[z,O,X.length,K.length,Q.length,q.length]);let Z=i.useMemo(()=>X.concat(q).map(tQ.fA),[X,q]),J="deleted-draft-files"===C?q:X,er=i.useMemo(()=>J.map(tQ.fA),[J]),ea=i.useMemo(()=>K.map(e=>{let t=a[e.id].map(e=>s[e]).filter(e=>!!e);return{type:tQ.nb.REPO,repo:e,branches:t,selectedBranchKey:d[e.id]}}),[K,d,s,a]),en=i.useMemo(()=>Q.map(e=>({type:tQ.nb.REPO,repo:e.repo,branches:[e.main_file],selectedBranchKey:e.main_file?.key})),[Q]),ei="deleted-draft-files"===C?en:ea,el=en.concat(ea),eo=er.concat(ei),es=Z.length>0||el.length>0,ec=eo.length>0,[ed,em]=i.useState([]),eu=()=>{e(tu.Ce()),L(!1)},e_=(t,r)=>{e(tO.F.enqueue({message:(0,k.t)("visual_bell.files_moved_to_folder",{fileCount:r,folderName:t})})),F(!1),em([])},ep=()=>{F(!1),em([])},ef=e=>{let t=[],r=[];return e.forEach(e=>{e.type===tQ.nb.FILE&&t.push(e.fileLG),e.type===tQ.nb.REPO&&r.push(e.repo)}),{draftsToMove:t,reposToMove:r}},eg=t=>{let{draftsToMove:r,reposToMove:a}=ef(ed);L(!0),e(tu.to({type:we,data:{isPermanentDeletion:t,draftsToDelete:r,reposToDelete:a,deleteAllDraftsAsync:ed.length>Y,setSynchronousFileTransferInProgress:F,onDeleteSuccess:ep,onClose:eu}}))},eE=()=>{let{draftsToMove:t,reposToMove:r}=ef(ed);L(!0),e(tu.to({type:wt.K,data:{draftsToMove:t,reposToMove:r,moveAllDraftsAsync:ed.length>Y,onMoveSuccess:e_,onClose:eu,setSynchronousFileTransferInProgress:F}}))},eh=function(e,t,r,a){let n=a>=1200,l=[{name:(0,k.t)("file_browser.drafts_to_move.table_header_name"),className:"drafts_to_move_page_view--nameColumn--sSZYF drafts_to_move_page_view--column--jpRzM table--column--974RA",getSortValue:e=>tQ.Tf.getName(e),cellComponent:e=>i.createElement(wf,{item:e,shouldDisplayFileDates:!n})}];return n&&l.push({name:(0,k.t)("file_browser.drafts_to_move.table_header_last_modified"),className:wl,getSortValue:e=>tQ.Tf.getTouchedAt(e)??"",cellComponent:e=>{let t=tQ.Tf.getTouchedAt(e);return t?i.createElement(lB.h1,{date:t}):""}},{name:(0,k.t)("file_browser.drafts_to_move.table_header_created"),className:wl,getSortValue:e=>tQ.Tf.getCreatedAt(e),cellComponent:e=>i.createElement(lB.h1,{date:tQ.Tf.getCreatedAt(e)})}),l.push({name:"",className:"drafts_to_move_page_view--moveButtonColumn--Mvc2P drafts_to_move_page_view--column--jpRzM table--column--974RA",cellComponent:a=>0===r?i.createElement(i.Fragment,null,i.createElement(ee.tM,{className:M()("drafts_to_move_page_view--openDraftButton--zXZGf",N.cx.if(!!tQ.Tf.getTrashedAt(a),N.cx.invisible).$),onClick:e=>t(e,a)},(0,k.tx)("file_browser.drafts_to_move.open_draft_button")),i.createElement(ee.tM,{className:"drafts_to_move_page_view--moveDraftButton--GmBWa",onClick:t=>e(t,a)},(0,k.tx)("file_browser.drafts_to_move.move_draft_button"))):i.createElement(i.Fragment,null)}),l}((t,r)=>{let{draftsToMove:a,reposToMove:n}=ef([r]);e(tu.to({type:wt.K,data:{draftsToMove:a,reposToMove:n,onMoveSuccess:e_,onClose:eu,setSynchronousFileTransferInProgress:F}})),t.stopPropagation()},(t,r)=>{vE({tile:r,index:0,dispatch:e,selectedView:c}),I(r,t),t.stopPropagation()},ed.length,b),[ey,ev,eb]=(0,b3.z)({columnName:(0,k.t)("file_browser.drafts_to_move.table_header_last_modified"),isReversed:!0},eo,eh),ew=i.createElement("div",{className:wo},i.createElement("span",{className:ws},(0,k.tx)("file_browser.drafts_to_move.empty_header")),i.createElement("span",null,(0,k.tx)("file_browser.drafts_to_move.empty_content_description",{tab:i.createElement("button",{className:"drafts_to_move_page_view--emptyContentTab--GKlRP",onClick:()=>x("draft-files"===C?"deleted-draft-files":"draft-files")},"draft-files"===C?(0,k.t)("file_browser.drafts_to_move.deleted_drafts"):(0,k.t)("file_browser.drafts_to_move.drafts"))})));if("NONE"!==A)return i.createElement(wg,{currentFileTransferState:A});let eT=ed.length<=0||ed.length>Y,eI="deleted-draft-files"===C||!(0,u.kc)().ps_trashed_drafts_enabled,eC=i.createElement(et.A,{loadingElementClassName:"drafts_to_move_page_view--loadingPage--ZZyqG",loadingElementId:"loading-content-pane",loaded:z},ec?i.createElement(i.Fragment,null,i.createElement("div",{className:"drafts_to_move_page_view--tableWrapper--b-sz2"},i.createElement(wa.Cj,{selectAllDisabled:eb.length>Y,items:eb,columns:eh,actionBarClassName:M()("drafts_to_move_page_view--actionBar--BbYQh",{"drafts_to_move_page_view--actionBarHidden--l4K4A":S}),getItemKey:e=>tQ.Tf.getFileKey(e)??"",minContentWidth:728,actionBar:e=>i.createElement("div",{className:"drafts_to_move_page_view--actionBarButtons--RUREB"},!eT&&i.createElement(ee.rb,{className:"drafts_to_move_page_view--deleteDraftsButton--Aesaa",onClick:()=>eg(eI)},eI?(0,k.tx)("file_browser.drafts_to_move.bulk_delete_drafts_button"):(0,k.tx)("file_browser.drafts_to_move.bulk_trash_drafts_button")),i.createElement(ee.vd,{className:"drafts_to_move_page_view--moveDraftsButton--fZf6H",disabled:eT,onClick:eE},(0,k.tx)("file_browser.drafts_to_move.bulk_move_drafts_button",{numSelected:ed.length}))),emptyContent:"",onSelectedItemsChange:em,itemTypeContext:{itemType:"draftToMove",getSelectedCountString:e=>(0,k.t)("file_browser.drafts_to_move.selected_count_files",{numSelected:e})},isLoading:!wn.s1,sortState:ey,onSetSortState:ev,shouldRoundBordersForSelectedRows:!0,styleOverrideClassNames:{row:"drafts_to_move_page_view--row--v9ugA",header:"drafts_to_move_page_view--header--qsyde",unselectedCheckbox:"drafts_to_move_page_view--visibleCheckbox--UOqli",batchActionClearButton:"drafts_to_move_page_view--batchActionClearButton--Qk923"},scrollContainerInnerClassName:"drafts_to_move_page_view--scrollContainer--yiQAz",rowHeightOverride:wc}))):es?ew:i.createElement(wg,{currentFileTransferState:"TRANSFER_COMPLETED"}));return(0,aI.T8)(i.createElement(iS.r,{content:eC,viewbar:es&&i.createElement(i.Fragment,null,i.createElement("div",{className:"drafts_to_move_page_view--viewbar--wJ6Pu"},i.createElement("div",{className:"drafts_to_move_page_view--viewbarWarning--6T7y-"},i.createElement(b8.E,{className:"drafts_to_move_page_view--yellowIcon--xHN3r"}),i.createElement("div",null,i.createElement("h1",{className:"drafts_to_move_page_view--viewbarHeading--02fvs"},(0,k.tx)("file_browser.drafts_to_move.viewbar_heading")),i.createElement("ul",{className:"drafts_to_move_page_view--viewbarDescription--dV8s3"},i.createElement("li",null,(0,k.tx)("file_browser.drafts_to_move.move_drafts_below")),i.createElement("li",null,(0,k.tx)("file_browser.drafts_to_move.drafts_for_personal_work")),i.createElement("li",null,(0,k.tx)("file_browser.drafts_to_move.access_to_drafts"))),i.createElement("div",{className:"drafts_to_move_page_view--viewbarActions--v-cwt"},i.createElement(ee.vd,{className:"drafts_to_move_page_view--moveAllDraftsButton--9-TlX",onClick:()=>{L(!0),e(tu.to({type:wt.K,data:{reposToMove:el.map(e=>e.repo),draftsToMove:Z.map(e=>e.fileLG),onMoveSuccess:e_,isMoveAll:!0,moveAllDraftsAsync:Z.length>Y,onClose:eu,setSynchronousFileTransferInProgress:F}}))}},(0,k.tx)("file_browser.drafts_to_move.move_all_drafts_button")),i.createElement(ee.NY,{className:"drafts_to_move_page_view--learnMoreButton--lUnQ9 drafts_to_move_page_view--moveAllDraftsButton--9-TlX",href:"https://www.figma.com/blog/updates-to-how-drafts-work/",target:"_blank"},(0,k.tx)("file_browser.drafts_to_move.viewbar_learn_more_link")))))),i.createElement("div",{className:"drafts_to_move_page_view--tabViewBarContainer--lsoH0"},i.createElement(wp,{selectedTab:C,setSelectedTab:x})))}),iV.e0.FILE_BROWSER,{view:"draftsToMove",selectedTab:C})}function wh(e){return i.createElement("div",{className:M()("starter_team_overview_item--container--2OVmD",{"starter_team_overview_item--containerDisabled--76kDd":e.disabled,"starter_team_overview_item--containerDefault--dN-eI":!e.disabled})},i.createElement(ei.B,{className:"starter_team_overview_item--icon--Z3o0g",svg:e.icon}),i.createElement("p",{className:"starter_team_overview_item--text--r36FA"},e.text))}var wy=r(174726),wv=r(965821);function wb({folderId:e}){let t=(0,ag.Rs)(av.yU5,{projectId:e});if("loaded"!==t.status)return null;let r=t.data.project?.team?.teamFileCounts?.designFileCount??0,a=t.data.project?.team?.teamFileCounts?.whiteboardFileCount??0;return i.createElement(i.Fragment,null,i.createElement(wh,{icon:wv.A,text:(0,k.t)("team_view.starter_team.num_of_figma_files_user",{numFigmaFilesUsed:r,maxFreeFiles:am.WW})}),i.createElement(wh,{icon:wy.A,text:(0,k.t)("team_view.starter_team.num_of_figjam_files_user",{numFigjamFilesUsed:a,maxFreeFiles:am.WW})}))}function ww({folderId:e}){return i.createElement("div",{className:"starter_team_overview--container--YU-xB text--fontPos13--xW8hS text--_fontBase--QdLsd","data-testid":"StarterTeamOverview"},i.createElement("div",{className:"starter_team_overview--header--4s2vt text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,k.tx)("file_browser.folder.starter_team_overview")),i.createElement("div",{className:"starter_team_overview--detailsWithFigjam--n0fVl"},i.createElement(wb,{folderId:e})))}let wT="upgrade_section--sidebarDivider--O7mLk",wI="upgrade_section--upsellDescription--Heggv text--fontPos13--xW8hS text--_fontBase--QdLsd";function wC({teamId:e}){let t=(0,l.wA)(),r=(0,ne.TN)(e),a=(0,l.d4)(t=>t.teams[e]),n=(0,ag.Rs)(av.kQI,{id:e}),o=!!n.data?.team?.hasPermission,s=a&&!a.org_id&&!a.subscription&&o,c=aK.ng.canSeeProTrialUx(r),d=a&&!(0,am.w5)(a),m=()=>c?ab.b.PRO_TRIAL_UPSELL_MODAL:ab.b.UPGRADE_SECTION,u=r=>()=>{t((0,tu.to)({type:aE.V,data:{teamId:e,upsellSource:r}}))};return d&&s||c?c?i.createElement(aI.fu,{name:m(),properties:aK.ng.getTrackingProperties()},i.createElement("div",{className:wT}),i.createElement("p",{className:"upgrade_section--upsellTitle--db4mh text--fontPos13--xW8hS text--_fontBase--QdLsd"},i.createElement(S.E,{fontSize:13,fontWeight:"medium"},(0,k.tx)("team_view.upgrade.pro_trials.title"))),i.createElement("p",{className:wI},i.createElement(S.E,{fontSize:13},(0,k.tx)("team_view.upgrade.pro_trials.description"))),i.createElement("div",{className:"upgrade_section--teamProUpgrade--8J0Tz text--fontPos11--2LvXf text--_fontBase--QdLsd"},i.createElement(ee.vd,{onClick:u(m()),trackingProperties:{teamId:e,trackingDescriptor:ed.c.UPGRADE_TO_PROFESSIONAL}},(0,k.tx)("team_view.upgrade.pro_trials.upgrade_to_professional_cta")))):i.createElement(aI.fu,{name:m()},i.createElement("div",{className:wT}),i.createElement("p",{className:wI},i.createElement(ee.Us,{onClick:u(m()),trackingProperties:{trackingDescriptor:ed.c.UPGRADE_YOUR_TEAM},trusted:!0},(0,k.tx)("team_view.upgrade.upgrade_your_team")),(0,k.tx)("team_view.upgrade.for_unlimited_files_projects_and_customizable_team_libraries"))):null}var wx=r(902957),wN=r(129318);let wk="seen_folder_settings_modal_onboarding",wS="FOLDER_SETTINGS_MODAL_ONBOARDING_KEY",wL=(0,eu.r1)(wk);function wA(){let e=(0,es.md)(wL),{show:t,isShowing:r,complete:a}=(0,em.e)({overlay:eE.uC6,priority:ep.N.DEFAULT_MODAL},[e]);return(0,d.h)(()=>{t({canShow:e=>!e})}),i.createElement(ef.rq,{clickOutsideToHide:!0,isShowing:r,targetKey:wS,trackingContextName:"seen folder settings modal onboarding overlay",title:(0,k.tx)("folder_settings_modal.callout.project_settings_have_changed"),description:(0,k.tx)("folder_settings_modal.callout.project_settings_have_changed.description"),onClose:a,userFlagOnShow:wk,shouldCenterArrow:eg.EL.FALLBACK,emphasized:!0})}var wR=r(543312),wP=r(212957),wF=r(66154),wO=r(573821);let wD="seen_pro_onboarding_unlimited_files_overlay",wM=(0,eu.r1)(wD);function wB({teamId:e,canCreateFigjamBoard:t}){let r=(0,es.md)(wM),a=(0,es.md)(wR.e),n=(0,l.d4)(e=>e.userTeamFlags),o=n[e]?.[wO.UA],s=(0,W.kO)(),{show:c,isShowing:m,complete:u}=(0,em.e)({overlay:eE.jVB,priority:ep.N.DEFAULT_MODAL,experiment:{check:s,predicate:e=>e,postCheck:e=>!e}},[r,a]);return((0,d.h)(()=>{o&&c({canShow:(t,r)=>r.some(t=>t.id===e)})}),m)?i.createElement(fQ.M,{isShowing:m,userFlagOnShow:wD},i.createElement(aI.fu,{name:wP.S.getTooltipTrackingContext("Unlimited Files"),properties:wP.S.getTrackingProperties(e)},i.createElement(wF.yG,{dismissModal:u,canCreateFigjamBoard:t}))):null}function wU(e){let{selectedView:t,userFlags:r,userTeamFlags:a,userEduVerified:n,isFreeUser:o,userAnalyticsData:s,...c}=(0,a9.R)(e=>({selectedView:e.selectedView,userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,userEduVerified:!!e.user?.student_validated_at,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData,...(0,tU.getPermissionsState)(e)})),d=(0,l.wA)(),m=(0,ag.Rs)(av.UpR,{}),{teamId:_,selectedTab:p}=e,f=c.teams[_],g=!!f?.org_id,E=!!f?.subscription,h=_&&(0,tU.canAdminTeam)(_,c),y=(0,W.Yz)(),v=(0,W.Xs)();(0,i.useEffect)(()=>{(0,u.kc)().requires_action_3ds_banner&&_&&!g&&E&&h&&d(bz.Be({teamId:_}))},[d,_,g,E,h]);let b=(0,l.d4)(e=>e.teamBilling?.summary),w=b$(eA.vt.TEAM,f,_,{selectedView:t,userFlags:r,userTeamFlags:a,selectedTab:p,isFreeUser:o,userAnalyticsData:s,eduPeriodEnd:m.data?.currentUser?.eduPeriodEnd,billingSummary:b,checks:{isEligibleForLockedRedesign:y,isInLockedProTeamRevampExp:v},...c},d);if(!w)return i.createElement("div",null);let T=bY({resourceType:eA.vt.TEAM,teamId:_},w),I=w.severity===bT.c.WARN?bI:"",C=w.bannerClassName||"",x=`${bF} ${I} ${C}`;return i.createElement("div",{className:x},i.createElement(bK,{...w,tracking:T}))}var wV=r(290750);class wW extends i.PureComponent{constructor(){super(...arguments),this.state={contributors:null},this.viewUser=(e,t)=>{this.props.dispatch(eI.$T({view:"user",userId:t.id,userViewTab:i3.o.INTERNAL_PROFILE}))}}componentDidMount(){wV.W.getContributors({folderId:this.props.folderId}).then(e=>{this.setState({contributors:e.data.meta})}).catch(e=>{console.warn("Unable to load project contributors")})}render(){let e=this.viewUser;return i.createElement("div",{className:"contributors--contributors--UpVcx text--fontPos13--xW8hS text--_fontBase--QdLsd"},i.createElement("div",{className:"contributors--contributorsHeader--6sefy"},(0,k.tx)("file_browser.folder.recent_contributors")),i.createElement(fb.x,{className:"contributors--loading--0u-Y2",isLoading:!this.state.contributors},()=>i.createElement("div",null,this.state.contributors&&this.state.contributors.filter(e=>e.user).map(t=>i.createElement(eJ.az,{key:t.user.id,className:"contributors--contributorAvatar--bCw14",entity:t.user,size:24,showIsMe:t.user.id===this.props.currentUserId,onClick:e})),this.state.contributors&&0===this.state.contributors.length&&i.createElement("div",{className:"contributors--contributorEmpty--BnRcr text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,k.tx)("file_browser.folder.people_who_have_edited_this_project_will_appear_here")))))}}let wH=(0,l.Ng)((e,t)=>{let r=e.folders[t.folderId],a=r&&r.team_id?e.teams[r.team_id]:null;return{folderOrg:a&&a.org_id?e.orgById[a.org_id]:null,currentUserId:e.user?e.user.id:null}})(wW);var w$=r(303345),wj=r(298543);function wG(e){let t=(0,l.wA)(),r=(0,l.d4)(({dropdownShown:e})=>e),a=e.dropdownKey&&r&&r.type===e.dropdownKey&&r.data&&r.data.targetRect,n=[];return e.canCreateDesignFile&&n.push(i.createElement(iQ.c$,{key:"new-design-file",children:i.createElement(i.Fragment,null,i.createElement(ry.MW,{className:N.cx.pr6.$,size:ry.LE.SMALL,type:ry.y1.DESIGN}),(0,k.tx)("file_browser.tool_bar.new_design_file")),onClick:e.onNewDesignFileClick})),e.canCreateWhiteBoardFile&&n.push(i.createElement(iQ.c$,{key:"new-figjam-board",children:i.createElement(i.Fragment,null,i.createElement(ry.MW,{className:N.cx.pr6.$,size:ry.LE.SMALL,type:ry.y1.WHITEBOARD}),(0,k.tx)("file_browser.tool_bar.new_figjam_board")),onClick:e.onNewWhiteBoardClick})),e.canCreateSlidesFile&&n.push(i.createElement(iQ.c$,{key:"new-slides-file",children:i.createElement(i.Fragment,null,i.createElement(ry.MW,{className:N.cx.pr6.$,size:ry.LE.SMALL,type:ry.y1.SLIDES}),(0,k.tx)("file_browser.tool_bar.new_slide_deck")),onClick:e.onNewSlidesClick})),i.createElement("button",{className:M()(N.cx.flex.itemsCenter.$,"new_file_toolbar_dropdown--newFileDropdown--pPPdw"),onClick:r=>{e.dropdownKey&&t(eI.j7({type:e.dropdownKey,data:{targetRect:r.currentTarget.getBoundingClientRect()}}))}},i.createElement(ei.B,{svg:yk.A,className:M()(N.cx.pr6.$,"new_file_toolbar_dropdown--svg--ugaqW")}),(0,k.tx)("file_browser.tool_bar.new"),a&&i.createElement(wj.Cf,{targetRect:r.data.targetRect,minWidth:172,maxWidth:172,propagateCloseClick:!0},n))}var wY=r(673632),wz=r(594123),wq=r(209160),wQ=r(896026),wK=r(558011);function wX(e){let t=(0,l.wA)(),r=i.useRef(null),a=(0,l.d4)(({dropdownShown:e})=>e),n=(0,l.d4)(t=>(0,rT.oq)(e.folder.id,t))??null,o=(0,l.d4)(e=>e.favorites.collapsedCustomSections),s=(0,ts.S)(),c=(0,X.Q)({currentOrgId:n,currentTeamId:null}),d=i.useMemo(()=>{if("loaded"===c.status)return(0,$.T0)(c.data,e.folder.id)},[c,e.folder.id]),m=void 0!==d;if("loaded"!==c.status)return i.createElement("div",{className:N.cx.flex.itemsCenter.colorIcon.$},i.createElement(ei.B,{svg:Ee.A}));let u=(0,$.gV)(c.data,n),_=e.dropdownKey&&a&&a.type===e.dropdownKey&&a.data&&a.data.targetRect,p=r.current&&a?.data?.targetRef===r.current&&a?.type===nw.jU,f=r.current,g=[];return e.folder.canCreateDesignFile&&g.push(i.createElement(iQ.c$,{key:"import",children:(0,k.tx)("file_browser.folder.import"),onClick:e.onImportClick})),e.folder.canView&&g.push(i.createElement(iQ.c$,{key:"share",children:(0,k.tx)("file_browser.folder.share"),onClick:e.onShareClick})),e.setFavorite&&(s?g.push(i.createElement(iQ.c$,{key:"add-to-favorites-section",children:i.createElement("div",{className:N.cx.flex.justifyBetween.itemsCenter.w150.$},(0,k.tx)("favorited_resources.add_to_sidebar"),i.createElement(ei.B,{svg:wK.A})),onClick:a=>{a.stopPropagation(),r.current&&t(eI.j7({type:nw.jU,data:{targetRect:f.getBoundingClientRect(),targetRef:f,resourceId:e.folder.id}}))}})):g.push(i.createElement(iQ.c$,{key:"shaadd-to-favorites-section",children:e.folder.is_subscribed?(0,k.tx)("sidebar.remove_from_favorites"):(0,k.tx)("sidebar.add_to_favorites"),onClick:r=>{r.stopPropagation(),t(tj.ZJ({folderId:e.folder.id,teamId:e.folder.team_id,isSubscribed:!e.folder.is_subscribed}))}}))),i.createElement("button",{className:N.cx.flex.itemsCenter.colorIcon.$,ref:r,onClick:r=>{e.dropdownKey&&f&&t(eI.j7({type:e.dropdownKey,data:{targetRect:f?.getBoundingClientRect()}}))}},i.createElement(ei.B,{svg:Ee.A}),_&&i.createElement(wj.Cf,{targetRect:a.data.targetRect,minWidth:172,maxWidth:172,propagateCloseClick:!0},g),p&&i.createElement(r_.t,{updateFavorite:(r,a)=>{(!u||r)&&(e.setFavorite&&e.setFavorite(r,d?.resource.id,a),r&&a&&(o.delete(a),t(eN.U6({collapsedCustomSections:o})),rH.Fp({type:"topLevel",id:"custom",orgId:n,sectionId:a},!0)))},resourceId:e.folder.id,resourceType:eA.bk.FOLDER,isFavorited:m,currentSectionId:d?.resource.sidebarSectionId??void 0,sections:(0,J.oA)(c.data?.currentUser?.userSidebarSections)??[],customSectionOrdering:c.data.currentUser?.baseOrgUser?.fileBrowserPreferences?.orderedSidebarSections??[],showPoint:!0}))}var wZ=r(320664),wJ=r(510037),w0=r(492379),w1=r(750293),w2=r(94503),w4=r(720647),w8=r(964258),w5=r(544949),w3=r(410436),w9=r(466816),w6=r(564517),w7=r(997016),Te=r(519209),Tt=r(114959),Tr=r(808576),Ta=r(249963),Tn=r(234587),Ti=r(343796);function Tl({newFileFrom:e,dataTestId:t,key:r,tooltipEditorString:a,isUpdatedOmnicreateConfig:n,listOptionType:l}){return{displayText:(0,k.t)("file_browser.tool_bar.request_sent"),preventDismissOnSelected:!0,render:()=>i.createElement(wq.R,{newFileFrom:e,disabled:!0,text:(0,k.t)("file_browser.tool_bar.request_sent"),listOptionType:l,dataTestId:t,isUpdatedOmnicreateConfig:n,key:r,dataTooltip:(0,k.t)("file_browser.tool_bar.request_sent_tooltip",{editorString:a})})}}var To=r(36816);function Ts(e,t,r){return e===tD._YF.WHITEBOARD?t&&t.whiteboardPaidStatus===eA.El.RESTRICTED||r&&r.whiteboardPaidStatus===To.Zf.RESTRICTED:e===tD._YF.DESIGN&&(t&&t.designPaidStatus===eA.El.RESTRICTED||r&&r.designPaidStatus===To.Zf.RESTRICTED)}var Tc=r(631981),Td=r(669487);function Tm({folder:e,user:t,dispatch:r,team:a,shouldShowRenameModal:n,onClaimClick:o,lgFolder:s,shouldShowLockedRedesign:c}){let[m,_]=i.useState(void 0),f=(0,e3.rs)({unwrapResult:!0}),E=(0,nt.cD)(),h=(0,rd.RR)(),y=(0,e5.yp)(),v=()=>{e.name&&Y&&(r(tj.WC()),r(tu.to({type:(0,vM.y)(),data:{folder:e}})))},b=()=>{w6.S.getFolderTransfer({folderId:e.id}).then(({data:e})=>{_(e.meta)},e=>{_(void 0)})};(0,d.h)(()=>{b()}),(0,d.h)(()=>{n&&v()});let w=(0,W.fn)()===W.ih.CONTROL,T=(0,eL.FC)(),I=(0,l.d4)(e=>e.currentUserOrgId),C=(0,l.d4)(e=>e.teamRoleRequests),{handleUpgrade:x,getUpgradeEligibility:S,hasPendingRequest:L,getUpgradePathway:A}=(0,w$.wH)({folderId:e.id}),R=i.useMemo(()=>s&&s.team&&s.team.org?.id,[s]),P=i.useMemo(()=>s&&s.team&&s.team.id,[s]),F=i.useMemo(()=>!!s?.team?.canAdmin,[s]),O=()=>{r(tu.to({type:t3.W,data:{folderId:e.id}}))},D=i.useMemo(()=>!F&&e&&null!==I&&!s?.canEdit,[F,e,I,s]),M=i.useMemo(()=>!!(s&&s.canCreateFigjamFile&&s.canEdit),[s]),B=i.useMemo(()=>!!(s&&s.canCreateDesignFile&&s.canEdit),[s]),U=i.useMemo(()=>!!s&&s.canCreateSlidesFile&&s.canEdit,[s]),V=!!(0,u.kc)().piper&&U,H=(0,Tn.sy)(f?.tier),$=B&&H,j=M||B,G=i.useMemo(()=>!!(s&&s.canRead),[s]),Y=i.useMemo(()=>!!(s&&s.canEdit),[s]),z=i.useMemo(()=>!!(s&&s.isEditingLockedForUser),[s]),q=i.useMemo(()=>{if(D&&C&&a&&C[a.id]&&C[a.id].status===w3.c.PENDING)return C[a.id].id},[D,C,a]);i.useEffect(()=>{D&&I&&r((0,w8.Rw)())},[D,r,I]);let Q=(0,tz.jm)(R,P),K=(0,ts.S)(),X=(0,vK.a)(e.id),Z=c?(0,k.t)("locked_team.label.tooltip"):void 0,J=c?r$.Ib.TEXT:void 0,ee=s?.team?.org?.currentBaseOrgUser,et=s?.team?.currentTeamUser,er=(0,W.zq)(),ea=(0,g.I7)("exp_pro_upgrade_project_vr"),en=(0,g.I7)("exp_org_upgrade_project_vr"),ei=(e,t,n)=>{let i=R?s?.team?.org:s?.team,l=i?.name,o=t.toString();if(h){let t=S(o,n);return t===w9.q.CAN_UPGRADE?x({afterUpgradeCallback:e,licenseType:o,upgradeReason:Ti.i.CREATE_FILE,entryPoint:w1.tc.CREATE_FILE_PROJECT_VIEW}):t===w9.q.CANNOT_UPGRADE?()=>r(tO.F.enqueue({message:"Can't upgrade",error:!0})):e}if(es(t,s))return()=>{r(tu.to({type:Tr.y,data:{planType:R?h2.O.ORG:h2.O.TEAM,planName:l,seatTypesToBeUpgraded:{design:t===eA._Y.DESIGN,whiteboard:t===eA._Y.WHITEBOARD},planId:R??P,upgradeReason:Ta.X.CREATE_FILE,onConfirm:e}}))};if(ec(t,s)){if(ee&&s?.team)return()=>{r(tu.to({type:Te.Y,data:{orgId:R??"",orgUser:{id:ee.id,user_id:ee.userId,org_id:R??"",permission:ee.permission,license_group_member:{license_group_id:s.team?.licenseGroupId??null}},entryPoint:w1.PE.CreateFileProjectView,licenseType:(0,w4.vc)(t)}}))};if(et)return()=>{r(tu.to({type:Tt.PK,data:{team:a,entryPoint:w1.Wc.CREATE_FILE_PROJECT_VIEW,editorType:t}}))}}return e},el=!1;E&&et&&(et&&et.whiteboardPaidStatus===To.Zf.RESTRICTED||et&&et.designPaidStatus===To.Zf.RESTRICTED)&&s&&s.canEdit&&s.team&&!s.team.isStarterTeam&&!s.team.isStudentTeam&&((0,nm.sx)("pro_upgrade_project_exp_fetch",{reduxTeamId:E,lgTeamId:et.teamId,userId:et.userId}),el=ea.getConfig().getValue("showExp",!1));let eo=!1;I&&ee&&(ee&&ee.whiteboardPaidStatus===eA.El.RESTRICTED||ee&&ee.designPaidStatus===eA.El.RESTRICTED)&&s&&s.canEdit&&s.team&&s.team.org?.id&&((0,nm.sx)("org_upgrade_project_exp_fetch",{reduxOrgId:I,lgOrgId:s.team.org?.id,userId:ee.userId}),eo=en.getConfig().getValue("showExp",!1));let es=(e,t)=>!(t&&t.team&&t.team?.org?.k12GoogleOrg)&&(e===tD._YF.WHITEBOARD?!!ee&&ee.whiteboardPaidStatus===eA.El.STARTER||!!et&&et.whiteboardPaidStatus===To.Zf.STARTER:e===tD._YF.DESIGN&&(!!ee&&ee.designPaidStatus===eA.El.STARTER||!!et&&et.designPaidStatus===To.Zf.STARTER))&&!!t&&!!t.canEdit&&!!t.team&&!t.team?.isStarterTeam&&!t.team?.isStudentTeam&&er(),ec=(e,t)=>!(e===eA._Y.WHITEBOARD&&t?.team?.org?.isFigJamDisabled)&&((0,u.kc)().tou_plan_user_paid_status_on_file?!!(0,w4._R)(e,t?.currentPlanUser??null):!!Ts(e,ee,et))&&!!t&&!!t.canEdit&&!!t.team&&!t.team?.isStarterTeam&&!t.team?.isStudentTeam&&(!!ee&&!!eo||!!et&&!!el),ed=e=>{if((0,u.kc)().tou_plan_user_paid_status_on_file?(0,w4._R)(e,s?.currentPlanUser??null):Ts(e,ee,et)){if(ee&&eo){if(e===eA._Y.DESIGN&&ee.designAccountTypeRequest?.status==="pending"||e===eA._Y.WHITEBOARD&&ee.whiteboardAccountTypeRequest?.status==="pending")return!0}else if(et&&el&&(e===eA._Y.DESIGN&&et.designAccountTypeRequest?.status==="pending"||e===eA._Y.WHITEBOARD&&et.whiteboardAccountTypeRequest?.status==="pending"))return!0}return!1},em=(0,w2.$)(eA._Y.DESIGN,h1.f6.FILE_BROWSER_TOPBAR_FOLDER,"toolbar_design_created",e.id,!!(!a&&s&&s.canEdit)),eu=(0,w2.$)(eA._Y.WHITEBOARD,h1.f6.FILE_BROWSER_TOPBAR_FOLDER,"toolbar_figjam_created",e.id,!!(!a&&s&&s.canEdit)),e_=(0,w2.$)(eA._Y.SLIDES,h1.f6.FILE_BROWSER_TOPBAR_FOLDER,"toolbar_slides_created",e.id,!!(!a&&s&&s.canEdit)),ep=(0,w2.$)(eA._Y.SITES,h1.f6.FILE_BROWSER_TOPBAR_FOLDER,"toolbar_sites_created",e.id,!!(!a&&s&&s.canEdit));(0,w2.$)(eA._Y.COOPER,h1.f6.FILE_BROWSER_TOPBAR_FOLDER,`toolbar_${Ea.sq}_created`,e.id,!!(!a&&s&&s.canEdit));let ef=ei(em,eA._Y.DESIGN,B),eg=ei(eu,eA._Y.WHITEBOARD,M),eE=ei(e_,eA._Y.SLIDES,V),eh=(t,a,n)=>{if(e){let i={folder:e,entrypoint:"folder_page_view",sectionId:n,favoriteId:a};t?r(eN.Mv(i)):r(eN.jv(i))}},ey=()=>{r(eX.gN(e.id)),r((0,w5.L)())},ev=(e,t)=>h&&!t&&A(e)!==w9.J.AUTO_PATHWAY&&!L(e),eb=(e,t)=>h&&!t&&L(e),ew=!!(0,rT.c8)(e.id,e.team_id,T).data,eT=h1.f6.FILE_BROWSER_TOPBAR_FOLDER,eI={newFileFrom:eT,isUpdatedOmnicreateConfig:y},{newDesignActionComponentProps:eC,newFigjamActionComponentProps:ex,newSlidesActionComponentProps:ek,newSitesActionComponentProps:eS,newCooperActionComponentProps:eR,newImportActionComponentProps:eP}=(0,wz.D)({newDesignActionProps:{...eI,showRequestLabel:ev(eA.G_.DESIGN,B),requestPending:eb(eA.G_.DESIGN,B)},newFigjamActionProps:{...eI,showRequestLabel:ev(eA.G_.WHITEBOARD,M),requestPending:eb(eA.G_.WHITEBOARD,M)},newSlidesActionProps:{...eI,showRequestLabel:ev(eA.G_.SLIDES,V),requestPending:eb(eA.G_.SLIDES,V)},newSitesActionProps:eI,newCooperActionProps:eI,importActionProps:eI});return i.createElement(ik,{title:e.name,rightSideActions:(()=>{let n=[],l=(0,u.kc)().ps_benchmark&&(0,h0.R$)(t,I);ew&&n.push({kind:iF.A.BUTTON,key:iF.D.CLAIM,displayText:(0,k.t)("file_browser.folder.join_as_owner"),onClick:o});let d=[],m=(0,wq.l)(ex,eg),_=(0,wq.l)(eC,ef),f=null!==ek?(0,wq.l)(ek,h?eE:e_):null,g=null!==eS?(0,wq.l)(eS,ep):null,E=ed(eA._Y.DESIGN),v=ed(eA._Y.WHITEBOARD),b=ec(eA._Y.DESIGN,s)&&ec(eA._Y.WHITEBOARD,s)&&E&&v;if(!z&&!l){let e=Tl({newFileFrom:eT,dataTestId:"request-sent-design-button",key:iF.D.REQUEST_SENT_DESIGN,tooltipEditorString:(0,k.t)("file_browser.tool_bar.request_sent_tooltip_figma_design"),listOptionType:wQ.R.DESIGN,isUpdatedOmnicreateConfig:y}),t=Tl({newFileFrom:eT,dataTestId:"request-sent-whiteboard-button",key:iF.D.REQUEST_SENT_WHITEBOARD,tooltipEditorString:(0,k.t)("file_browser.tool_bar.request_sent_tooltip_figjam"),listOptionType:wQ.R.WHITEBOARD,isUpdatedOmnicreateConfig:y}),r=Tl({newFileFrom:eT,dataTestId:"disabled-import-button",key:iF.D.IMPORT,tooltipEditorString:(0,k.t)("file_browser.tool_bar.request_sent_tooltip_figma_design_and_figjam"),listOptionType:wQ.R.IMPORT,isUpdatedOmnicreateConfig:y});b?(d.push(e,t),$&&null!==g&&d.push(g),V&&null!==f&&d.push(f),d.push(r)):(B?d.push(_):h&&Y?d.push(_):ec(eA._Y.DESIGN,s)&&(E?d.push(e):d.push(_)),M?d.push(m):h&&Y?d.push(m):ec(eA._Y.WHITEBOARD,s)&&(v?d.push(t):d.push(m)),$&&null!==g&&d.push(g),(V||h&&Y)&&null!==f&&d.push(f))}if(j&&!l&&(d.push({displayText:"",disabled:!0,separator:!0}),d.push((0,wq.l)(eP))),!(d.length>0)||h&&D||n.push({kind:iF.A.CUSTOM,key:iF.D.NEW_RESOURCE,element:i.createElement(wY.hn,{isUpdatedOmnicreateEnabled:y(),resourceCreationListItems:d,dropdownType:wQ.x})}),G){let e={kind:iF.A.BUTTON,key:iF.D.SHARE,displayText:(0,k.t)("file_browser.folder.share"),onClick:c?p.lQ:O,"data-tooltip":Z,"data-tooltip-type":J,styleClass:c?Tc.EB:void 0};n.push(e)}D&&n.push({kind:iF.A.BUTTON,key:iF.D.REQUEST_TO_EDIT,displayText:void 0!==q?(0,k.t)("file_browser.team.cancel_request"):(0,k.t)("file_browser.team.request_to_edit"),onClick:()=>{q?r(w0.lT({requestId:q})):a&&r(tu.to({type:w7.$,data:{team:a,requesterCurrentLevel:bh.e6.VIEWER,source:"FolderPageView"}}))}}),(0,u.kc)().folder_settings_modal&&n.push({kind:iF.A.ICON_BUTTON,key:iF.D.SETTINGS,icon:Td.A,onClick:()=>{r(tu.to({type:wZ.l,data:{folderId:e.id}}))},displayText:(0,k.t)("file_browser.folder_settings_modal.tooltip.settings"),"data-tooltip":(0,k.t)("file_browser.folder_settings_modal.tooltip.settings"),"data-onboarding-key":wS,styleClass:N.cx.w40.colorIcon.$});let T=K?i.createElement(rb.r,{setFavorite:eh,favoriteType:eA.bk.FOLDER,resourceId:e.id,isFavoriteHeaderStar:!0,orgId:I,teamId:P??null,containerStyle:la.HM}):i.createElement(wJ.d,{folder:e});if(w&&(!(0,u.kc)().ps_benchmark||Q)&&n.push({kind:iF.A.CUSTOM,key:iF.D.FAVORITE,element:T}),!z&&(B||M||V)){let e=i.createElement(wG,{dropdownKey:"new-file-dropdown",canCreateDesignFile:B,canCreateWhiteBoardFile:M,canCreateSlidesFile:V,onNewDesignFileClick:ef,onNewWhiteBoardClick:eg,onNewSlidesClick:eE});n.push({kind:iF.A.CUSTOM_BUTTON,key:iF.D.NEW_FILE_DROPDOWN,styleClass:N.cx.colorBgInverse.$,showOnMobile:!0,hideOnDesktop:!0,element:e})}let C=i.createElement(wX,{dropdownKey:"project-overflow-dropdown",folder:e,onImportClick:ey,onShareClick:O,setFavorite:Q?eh:null});return n.push({kind:iF.A.CUSTOM_BUTTON,key:iF.D.PROJECT_OVERFLOW_MENU,showOnMobile:!0,hideOnDesktop:!0,element:C}),n})(),rightSideOfTitleAction:(()=>{let t=X({folder:{...(0,h1.Kk)({...e,canCreateDesignFile:B,canCreateFigjamFile:M,canCreateSlidesFile:V},Y),isSubscribed:e.is_subscribed,description:e.description},onRenameClick:v,shouldShowJoinButton:!1,getPendingInfo:b,pendingTransfer:m});return G&&t.length>0?{kind:iF.A.CUSTOM,key:iF.D.DROPDOWN,element:i.createElement(iH,{buttonAriaLabel:(0,k.t)("file_browser.folder.page_header_dropdown_label"),dropdownKey:`folder-${e.id}`,dropdownOptions:t})}:void 0})()})}function Tu({folderId:e,pinnedFiles:t,tileActions:r}){let a=(0,l.wA)(),n=(0,eC._6)(),o=(0,z.TA)(),{showing:s,show:c,data:d}=(0,lT.L)(),m=(0,lw.v)(),u=i.useCallback((t,r,a)=>{m(t,r);let i=t.type===tQ.nb.PINNED_FILE?t.file:null;(0,H.E9)(H.gH,i,{entrypoint:a,selectedView:n.view,resourceType:"folder",resourceId:e,pinDescription:"file open from pinned files for file named "+i?.name})},[m,n.view,e]),_=i.useCallback((e,t)=>{u(Tf(e.file),t,"pinned files")},[u]),p=i.useCallback((e,t,r)=>{a(tY.an()),a(tY.PW({type:t8.F.PINNED_FILES,keys:e.map(e=>e.file.key)})),c({data:{tile:Tf(e[0].file),targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:r}})},[a,c]),f=i.useCallback(t=>{if(1!==t.length)return;let r=t[0];r?.pinnedByUser?.id===o&&a(tj.z6({folderId:e,fileKey:r.file.key}))},[o,a,e]),g=i.useMemo(()=>t.filter(({file:e})=>!!e).map(e=>Tf(e.file)),[t]),E=(0,tQ.nw)(g),h=i.useMemo(()=>t.sort((e,t)=>e.file.createdAt>t.file.createdAt?1:-1),[t]);return i.createElement("div",{className:N.cx.px32.pb32.m0.$},t.length>0?i.createElement(lC.A,{handleContextMenu:p,items:h,doNotFocusOnLoad:!0,getAriaLabel:e=>e.file.name,viewType:lx.XU.GRID,handleOpenItem:_,handleDeleteKey:f,gridViewProps:{containerClassName:"folder_pinned_files_content--folderPinnedFilesGrid--LIGoA",renderTile:e=>i.createElement(T_,{pinnedFile:e,isDropdownOpen:s}),renderTileFooter:e=>i.createElement(Tp,{pinnedFile:e}),renderTileDragImage:e=>i.createElement(rv.NM,{file:e.file,noBorder:!0})}}):i.createElement("div",null),(()=>{let e=d?.tile??null;return i.createElement(lI.i,{tile:e,selectedTiles:E,tileActions:r,openTile:t=>{e&&u(e,t,"pinned files: context menu")},dropdownVisible:s})})())}function T_({pinnedFile:e}){let t=Tf(e.file);return i.createElement(lv.e,{tile:t,noBorder:!0,size:rP.y.SMALL})}function Tp({pinnedFile:e}){return i.createElement("div",{className:N.cx.pt8.flex.flexColumn.$},i.createElement("span",{className:N.cx.ellipsis.textBodyLargeStrong.truncate.$},e.file.name),i.createElement(S.E,{truncate:!0,showTooltipWhenTruncated:!0,color:"secondary"},(0,k.t)("tile.file_tile.pinned_by_user",{name:e.pinnedByUser?.name??""})))}function Tf(e){return{type:tQ.nb.PINNED_FILE,file:e}}var Tg=r(208097),TE=r(981649);function Th(e){let[t,r]=i.useState(!1),[a]=i.useState(()=>new TE.W),{isSelected:n,selectPinnedFile:l,file:o,index:s,openFile:c}=e,d=i.useCallback(e=>{t?(n&&l(o.file,e),c(o.file,e,s)):(l(o.file,e),a.reset(),a.scheduleOnce(()=>{r(!1)},500),r(!0),e.preventDefault(),e.stopPropagation())},[a,s,n,c,o.file,l,t]);i.useEffect(()=>()=>a.reset(),[a]);let m=e.file.file,u=t?(0,tX.jN)({file:e.file.file}):void 0;return u&&(u=(0,lO.mc)(u,e.user),u=(0,lO.vk)(u,e.currentOrgId,e.currentTeamId,e.selectedView)),i.createElement("a",{className:M()(yZ.GC,{[yZ.GV]:e.isSelected}),href:u,rel:"noopener",onClick:d,onContextMenu:t=>{e.onFileContextMenu(e.file.file,t,e.index)}},i.createElement("div",{className:yZ.PP},i.createElement(rv.NM,{file:m,noBorder:!0})),i.createElement("div",{className:yZ.q6},i.createElement("div",{className:yZ.z6},i.createElement(S.E,{fontSize:13,fontWeight:"medium",truncate:!0},m.name)),i.createElement("div",{className:yZ.h7},e.file.pinnedByUser?i.createElement(S.E,{fontSize:11,fontWeight:"regular",truncate:!0},(0,k.tx)("tile.file_tile.pinned_by_user",{name:e.file.pinnedByUser.name})):i.createElement(S.E,{fontSize:11,fontWeight:"regular",truncate:!0},(0,k.tx)("tile.file_tile.pinned_just_now")))))}function Ty(e){let t=i.useRef(null),r=i.useRef(null),a=i.useRef(null),n=i.useRef(null),o=i.useRef(null),{selectedView:d,tileSelect:m,currentOrgId:_,currentTeamId:p,user:g}=(0,a9.R)(e=>({selectedView:e.selectedView,tileSelect:e.tileSelect,currentOrgId:e.currentUserOrgId,currentTeamId:e.currentTeamId,user:e.user})),E=(0,l.wA)(),{showing:h,show:y,hide:v,data:b}=(0,lT.L)(),w=i.useCallback((e,t,r)=>{t.stopPropagation(),t.preventDefault();let a={top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},n={type:tQ.nb.PINNED_FILE,file:e};if(m&&m[t8.F.PINNED_FILES]){if(m[t8.F.PINNED_FILES][n.file.key]){y({data:{tile:n,targetRect:a,index:r}});return}if(t.shiftKey||t.metaKey||t.ctrlKey){E(tY.y$({type:t8.F.PINNED_FILES,tiles:[n]})),y({data:{tile:n,targetRect:a,index:r}});return}}t.shiftKey||t.metaKey||t.ctrlKey||E(tY.an()),E(tY.y$({type:t8.F.PINNED_FILES,tiles:[n]})),y({data:{tile:n,targetRect:a,index:r}})},[E,y,m]),T=i.useCallback((e,t)=>{if(h){v();return}if(f.Ay.mobile||f.Ay.tablet){c.Ay.redirect((0,tX.jN)({file:e}));return}t.stopPropagation();let r=m&&m[t8.F.PINNED_FILES]&&m[t8.F.PINNED_FILES][e.key];if(t.ctrlKey||t.metaKey||t.shiftKey)r?E(tY.TK({tileKeys:[e.key]})):E(tY.y$({type:t8.F.PINNED_FILES,tiles:[{type:tQ.nb.PINNED_FILE,file:e}]}));else{if(r)return;E(tY.an()),E(tY.y$({type:t8.F.PINNED_FILES,tiles:[{type:tQ.nb.PINNED_FILE,file:e}]}))}},[E,h,v,m]),I=i.useCallback((e,t)=>{s.eD&&(0,nm.sx)("Open File Click",{fileKey:e.key,uiSelectedView:JSON.stringify(d)}),E(eX.UN({fileKey:e.key,entrypoint:"pinned files"}));let r=f.Ay.mac?t.metaKey:t.ctrlKey,a=null;if(r&&t.shiftKey?a=s.aw.FOCAL_TAB:r?a=s.aw.BACKGROUND_TAB:t.shiftKey&&(a=s.aw.NEW_WINDOW),null!=a){E(eI.oB()),s.eD&&(t.preventDefault(),t.stopPropagation(),s.eD.openFile({fileKey:e.key,title:e.name||"Untitled",fileEditorType:e.editorType,target:a,isTeamTemplate:e.isTeamTemplate,userId:g?.id}));return}t.preventDefault(),t.stopPropagation(),E(y9.p4({planId:_||vn.P}));let n=d&&("recentsAndSharing"===d.view||"folder"===d.view)?d:void 0,i=(0,u.kc)().ps_benchmark;(0,lO.N7)(_,e.parentOrgId,p,e.teamId)?(0,lO.QV)({file:{key:e.key,editorType:e.editorType}},{user:g,teamId:i?p:null,orgId:_,selectedView:d}):E(eI.$T({view:"fullscreen",fileKey:e.key,editorType:(0,Ea.wN)(e.editorType),prevSelectedView:n}))},[E,_,p,d,g]),C=i.useMemo(()=>e.files.filter(({file:e})=>!!e).map(({file:e})=>({type:tQ.nb.PINNED_FILE,file:e})),[e.files]),x=(0,tQ.nw)(C),N=i.useCallback(()=>{let t=b?.tile??null;return i.createElement(lI.i,{...e,tile:t,selectedTiles:x,openTile:e=>{t?.type===tQ.nb.PINNED_FILE&&t?.file&&I(t.file,e)},dropdownVisible:h})},[b?.tile,e,x,h,I]),k=i.useCallback(e=>{(e.target===t.current||e.target===r.current||e.target===a.current||e.target===o.current||n.current&&n.current.contains(e.target))&&(E(eI.oB()),E(tY.an()))},[E]),S=m[t8.F.PINNED_FILES],L=vu+` ${yZ.dp}`;i.useEffect(()=>{if(f.Ay.mobile&&f.Ay.safari&&t.current){let e=t.current.className;window.addEventListener("load",()=>{t.current&&(t.current.className=""),setTimeout(()=>{t.current&&(t.current.className=e)},500)})}},[]);let A=i.useMemo(()=>e.files.map(e=>e.file?.key).filter(e=>!!e),[e.files]);return(0,tM.IT)(A),i.createElement("div",{className:"tiles_view--pinnedContainer--2x-rH",onMouseDown:k,ref:t},i.createElement("div",{className:L,ref:r},i.createElement("div",{ref:a,key:"grid",className:M()(vm,"tiles_view--tilesGridPinned--YNmwb")},e.files.map((e,t)=>{let r=!!(S&&S[e.file.key]);return i.createElement(Th,{file:e,openFile:I,index:t,onFileContextMenu:w,isSelected:r,selectPinnedFile:T,key:`file-${e.file.key}`,currentOrgId:_,currentTeamId:p,selectedView:d,user:g})}))),N())}let Tv="folder_page_view--sidebarDivider--NEgHu",Tb={open:!0,openNewTab:!0,restoreFromVersion:!0,share:!0,copyLink:!0,rename:!0,duplicate:!0,delete:!0,createBranch:!0,publishOrgTemplate:!0,moveFile:!0,pinToFolder:!0,pinToWorkspace:!0};function Tw(e){let t=(0,l.wA)(),r=(0,ag.Rs)(av.CH9,{folderId:e.folderId}),a=i.useMemo(()=>"loaded"===r.status?(r.data.project?.pinnedFiles||[]).filter(e=>!!e.file):[],[r]);i.useEffect(()=>{t(tj.MR({folderId:e.folderId,fileKeys:a.map(e=>e.file.key)}))},[a,t,e.folderId]);let n=i.useCallback(()=>{t(tY.an())},[t]);return 0!==a.length?i.createElement(i.Fragment,null,i.createElement("div",{className:"folder_page_view--pinnedHeader--YJufT",onMouseDown:n},i.createElement(S.E,{fontSize:13,color:"secondary"},(0,k.tx)("file_browser.folder.pinned"))),(0,u.kc)().pinned_folder_files_items_view?i.createElement(Tu,{pinnedFiles:a,folderId:e.folderId,tileActions:e.tileActions}):i.createElement(Ty,{files:a,tileActions:e.tileActions,repos:e.repos})):null}let TT=(0,yD.xx)(rT.ZN);function TI({files:e,filesByRepoId:t,folderId:r,hasBanner:a,isEditingLocked:n,isEligibleForLockedRedesign:o,lgFolder:s,onClaimClick:c,permissionsState:d,repos:m,team:u}){let _=(0,l.wA)(),p=(0,K.R)(u?.id),f=(0,K.jn)(),g=(0,W.Xs)(),E=(0,l.d4)(e=>TT(r,e.tileSortFilterStateByView)),h=(0,l.d4)(eR.yK),y=(0,l.d4)(e=>!!e.userFlags.hide_recommended_templates_in_projects),v=(0,l.d4)(e=>e.selectedBranchKeyByRepoId),b=!!s?.canCreateSlidesFile,w=(0,rT.c8)(r,u?.id??null,d),T=!!s?.canCreateDesignFile,I=!!s?.canCreateFigjamFile,C=!!(T||I||b)&&!n,x=C?"":(0,k.t)("file_browser.folder.no_files_yet"),N=[...(0,i.useMemo)(()=>e.map(tQ.fA),[e]),...m.filter(e=>!e.trashed_at).map(e=>({type:tQ.nb.REPO,repo:e,branches:t[e.id],selectedBranchKey:v[e.id]||""}))];return"loaded"!==w.status?null:w.data?i.createElement(vk,{emptyStateText:(0,k.t)("file_browser.folder.join_this_project_to_view_files"),onClaimClick:c}):i.createElement(i.Fragment,null,i.createElement(Tg.s,{team:u||void 0,newFileFrom:h1.f6.FILE_BROWSER_TOPBAR_FOLDER,disableRecommendedTemplates:h||o||g(f&&p),folderId:r,recommendedTemplatesIsOpen:!a&&!y,toggleRecommendedTemplates:()=>{_(ek.b({hide_recommended_templates_in_projects:!y}))},isInProjectsView:!0}),i.createElement(Tw,{folderId:r,repos:m,tileActions:Tb}),i.createElement(vN,{newFileTile:C,tiles:N,tileActions:Tb,sortFilterOptions:E,emptyStateText:x,isFolder:!0,eligibleForLockedStateRedesign:o,isInLockedProTeamRevampExp:g(p)}))}function TC(e){let{folderId:t}=e,r=(0,ag.Rs)(av.L8O,{projectId:t}),a=(0,eL.FC)(),n=(0,j.LK)(t),o=tB.Qw.useTransformShallowEqual(n,e=>{let r=e.folder;return{folder:e.folder,canView:(0,tU.canViewFolder_DEPRECATED)(t,a),canEdit:(0,tU.canEditFolder)(t,a),isEditingLocked:!!r&&(0,am.ZZ)(r,a),team:a.teams[r?.team_id||""]||null}}).data,s=o?.folder,c=(0,e3.Xd)({unwrapResult:!0}),d=(0,l.wA)(),m=(0,ag.Rs)(av.Udv,{id:t});i.useLayoutEffect(()=>{if("loaded"===m.status&&!m.data.project?.hasPermission||r.data?.project?.trashedAt){if(r.data?.project?.team){let e=r.data.project.team.id;d(eI.$T({view:"team",teamId:e}))}else d(eI.$T({view:"recentsAndSharing"}))}r.data?.project?.isAbandonedDrafts&&c?.permission===eA.Xn.ADMIN&&(r.data?.project?.team&&!(r.data?.project?.team.isStarterTeam||r.data?.project?.team.isStudentTeam)?d(eI.$T({view:"abandonedDraftFiles",abandonedDraftFolderId:t,planId:r.data?.project?.team.id,adminPlanType:h2.O.TEAM})):r.data?.project?.org&&d(eI.$T({view:"abandonedDraftFiles",abandonedDraftFolderId:t,planId:r.data?.project?.org?.id,adminPlanType:h2.O.ORG})))},[d,m,r,t,c]);let _=(0,W.Yz)(),p=(0,W.Xs)();i.useEffect(()=>{s&&!s.is_invite_only&&s.team_id&&!o.team&&d(wx.Jt({teamId:s.team_id}))},[d,t,s,o?.team]),i.useEffect(()=>{if(!(0,u.kc)().auto_accept_project_invites)return;let e={999:"owner",900:"admin",300:"edit",100:"view"},t=(0,wN.QL)("auto_role");t&&s&&t in e&&((o.canView||"100"!==t)&&(o.canEdit||"300"!==t&&"900"!==t&&"999"!==t)&&d(tO.F.enqueue({message:(0,k.t)("file_browser.auto_accept_project_invite_modal",{projectName:s.name,inviteType:e[t]})})),(0,wN.EM)("auto_role"))},[d,s,o]);let g=r.data?.project||null,E=(0,l.d4)(e=>!!o?.team&&!!s?.team_id&&bj(e,eA.vt.TEAM,o.team,s.team_id,{isEligibleForLockedRedesign:_,isInLockedProTeamRevampExp:p})),h=(0,Z.vt)(),y=(0,K.R)(s?.team_id),v=(0,K.jn)(),b=(0,Y.dq)(),w=(0,z.iZ)(),T=!!g?.canCreateFigjamFile,I=!!g?.canCreateDesignFile,C=!!g?.canEdit,x=!!g?.canRead,S=function(){let e=(0,l.Pj)();return i.useCallback(async t=>{try{await sj.Ay.post(`/api/folders/${t}/claim`),e.dispatch(tj.qp({folderId:t})),(0,rT.qF)(t)||e.dispatch((0,j.jl)({folderId:t,loadedFolders:{}}))}catch(t){e.dispatch(aF.s.error(t.message||(0,k.t)("file_browser.file_browser_actions.claim_team_error")))}},[e])}(),L=()=>S(t),A=(0,W.PP)();if(!s||"loaded"!==n.status||"loaded"!==r.status)return i.createElement("div",{className:"folder_page_view--loading--ZkDG0"},i.createElement(er.kt,null));let R=e=>{d(tj.ub({folderId:t,description:e.trim()}))},P={view:"project",folderId:t,canEdit:o.canEdit,userSpace:b?iV.qo.ORG:iV.qo.PERSONAL},F=o.team,O=F&&!(0,am.w5)(F);return(0,aI.T8)(i.createElement(iS.r,{content:i.createElement("div",{className:N.cx.flex.flexColumn.$},i.createElement(TI,{files:n.data.files,filesByRepoId:n.data.filesByRepoId,folderId:t,hasBanner:E,isEditingLocked:o.isEditingLocked,isEligibleForLockedRedesign:_(h),lgFolder:g,onClaimClick:L,permissionsState:a,repos:n.data.repos,team:o.team}),i.createElement(yL.cx,null)),metaContent:f.Ay.mobile||!O||A()?void 0:(()=>{let e=C&&!o.isEditingLocked,r=o.team,a=r&&!(0,am.w5)(r);return i.createElement("div",{className:"folder_page_view--metaColumn--FPnOz"},(e||s.description)&&i.createElement(i.Fragment,null,i.createElement("div",{className:Tv}),i.createElement("div",{className:"folder_page_view--folderDescription--wO8Rd text--fontPos13--xW8hS text--_fontBase--QdLsd"},i.createElement("h3",{className:N.cx.font13.fontMedium.$},(0,k.tx)("file_browser.about")),i.createElement(fO,{value:s.description||"",placeholder:(0,k.t)("file_browser.folder.add_a_description"),formatter:fF,submit:R,readOnly:!e}))),s.team_id&&i.createElement(i.Fragment,null,i.createElement("div",{className:Tv})),x&&!f.Ay.mobile?i.createElement(wH,{key:t,folderId:t}):null,r&&a&&i.createElement(ww,{folderId:t}),s.team_id&&i.createElement(wC,{teamId:s.team_id}))})(),banner:F&&E?i.createElement(wU,{teamId:F.id}):void 0,header:i.createElement(i.Fragment,null,i.createElement(Tm,{dispatch:d,user:w,folder:{...o,...s,canCreateDesignFile:I,canCreateWhiteboardFile:T},team:F,currentOrgId:b,onClaimClick:L,shouldShowRenameModal:e.shouldShowRenameModal||!1,lgFolder:g,shouldShowLockedRedesign:_(h)||p(v&&y)}),I&&F&&i.createElement(wB,{teamId:F.id,canCreateFigjamBoard:T}),(0,u.kc)().folder_settings_modal&&i.createElement(wA,null))}),iV.e0.FILE_BROWSER,P)}function Tx(){let e;let t=(0,l.d4)(e=>e.currentTeamId),r=(0,eC._6)(),a=(0,ag.Rs)(av.RRC,{teamId:t??""},{enabled:!!t});if(!(0,u.kc)().limited_plan_spaces)return null;if("loaded"!==a.status)e=i.createElement(er.qc,null);else{let n=("loaded"===a.data.currentUser.status&&a.data.currentUser.data.teamProjectRoles||[]).filter(e=>!!e.project).map(e=>{let t=e.project;return{id:t.id,name:t.name,description:t.description,path:t.path,team_id:t.teamId,is_invite_only:!!t.inviteOnlyAt,is_view_only:!!t.viewOnlyAt,deleted_at:t.deletedAt?t.deletedAt.toISOString():null,updated_at:t.updatedAt.toISOString(),created_at:t.createdAt.toISOString(),touched_at:t.lastModifiedAt,shared_at:e.sharedWithYouFolder?.sharedAt.toISOString(),shared_by_user:e.sharedWithYouFolder?.sharedByUser}});e=i.createElement(i.Fragment,null,i.createElement(br,{viewId:`limitedTeam-${t}`,folderList:n,selectedView:r,showTeamNameOrAuthor:!1,isSharerInfoIncluded:!0}))}return(0,aI.T8)(i.createElement(iS.r,{content:i.createElement(i.Fragment,null,e),viewbar:i.createElement("div",{className:"limited_space_team_projects_page_view--viewbar--YMqKQ"},i.createElement("div",{className:"limited_space_team_projects_page_view--viewbarHeading--mTm27"},(0,k.tx)("file_browser.limited_space_team_projects.heading")))}),iV.e0.FILE_BROWSER,{view:"limitedSpaceTeamProjects"})}function TN({orgId:e}){let t=(0,eL.FC)(),r=(0,l.wA)();return(0,tU.canMemberOrg)(e,t)?i.createElement(ix.K,{action:{kind:ix.A.BUTTON,key:iF.D.VIEW_LIBRARIES,displayText:(0,k.t)("org_view.view_libraries"),onClick:()=>{r(eI.$T({view:"org",orgId:e,orgViewTab:tE.X.LIBRARIES}))}}}):null}function Tk({orgId:e}){let t=(0,l.wA)(),r=(0,l.d4)(eR.QT),a=(0,l.d4)(t=>t.orgById[e]),{canCreateTeam:n}=(0,q.LM)(a,null);return r||!n?null:i.createElement(ix.K,{action:{kind:ix.A.CUSTOM,key:iF.D.NEW_TEAM,element:i.createElement(iP.P,{onClick:()=>{t(tu.to({type:iv.Uc,data:{}}))},variant:"inverse",text:(0,k.t)("license_group_view.toolbar.new_team_button")})}})}function TS({orgId:e}){return e?i.createElement(i.Fragment,null,i.createElement(Tk,{orgId:e,key:"org-new-team-action"}),i.createElement(TN,{orgId:e,key:"org-library"})):null}var TL=r(193360);function TA(){let e=(0,l.wA)(),t=(0,Y.dq)(),r=bH((0,a9.R)(e=>({...(0,tU.getPermissionsState)(e),selectedView:e.selectedView,userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData})),e);if(!r)return i.createElement("div",null);let a=bY({resourceType:"org",orgId:t},r),n=r.severity===bT.c.WARN?bI:"",o=`${bF} ${n}`;return i.createElement("div",{className:o},i.createElement(bK,{...r,tracking:a}))}var TR=r(463206);let TP="org_meta_content--container--b5Iq3";function TF({org:e}){return i.createElement("div",{className:N.cx.flex.flexColumn.rowGap16.$},i.createElement(eJ.Ro,{entity:e,size:36}),i.createElement(S.E,{fontWeight:"medium",fontSize:13},e.name))}function TO({handle:e}){let t=(0,l.wA)();return i.createElement("a",{href:new ou.xn({profileHandle:e}).href,className:TR.Be,onClick:r=>{r.metaKey||(r.preventDefault(),t(eI.$T({view:"communityHub",subView:"handle",handle:e})))}},i.createElement(S.E,{fontSize:11},"@",e))}function TD({orgId:e}){let t=(0,l.d4)(t=>(0,e_.Xy)(t.orgUsersByOrgId[e]).map(e=>e.user)),r=(0,l.wA)();return i.createElement(i5,{label:(0,k.t)("org_home_view_meta.admins"),members:t,onMemberClick:(e,t)=>{r(eI.$T({view:"user",userId:t.id,userViewTab:i3.o.INTERNAL_PROFILE}))},canLeave:!1})}function TM({org:e,orgStats:t}){let r=t?i.createElement(S.E,{fontSize:11,color:"secondary"},(0,k.tx)("org_home_view_meta.member_count",{memberCount:t.memberCount.data}),i.createElement("span",null,"\xa0\xb7\xa0"),"workspaceCount"in t?(0,k.tx)("org_home_view_meta.workspace_count",{workspaceCount:t.workspaceCount.data}):(0,k.tx)("org_home_view_meta.team_count",{teamCount:t.discoverableTeamCount.data})):i.createElement(ph.Wi,{className:N.cx.mb4.$,animationType:ph.JR.SHIMMER});return i.createElement("div",{className:TP},i.createElement(TF,{org:e}),i.createElement("span",{className:N.cx.mt4.$},r),e.community_profile_handle?i.createElement("span",{className:N.cx.mt2.$},i.createElement(TO,{handle:e.community_profile_handle})):null,i.createElement("span",{className:N.cx.mt32.$},i.createElement(TD,{orgId:e.id})))}function TB({org:e}){let t=(0,ag.Rs)(av.nYs,{orgId:e.id});return i.createElement(TM,{orgStats:t.data?.org??null,org:e})}function TU({org:e}){let t=(0,ag.Rs)(av.kei,{orgId:e.id});return i.createElement(TM,{orgStats:t.data?.org??null,org:e})}function TV({org:e}){return i.createElement("div",{className:TP},i.createElement(TF,{org:e}),e.community_profile_handle?i.createElement("span",{className:N.cx.mt4.$},i.createElement(TO,{handle:e.community_profile_handle})):null,i.createElement("span",{className:N.cx.mt4.$},i.createElement(S.E,{fontSize:11,color:"secondary"},(0,k.tx)("payments_modal.guest_permission_disclaimer")," ",i.createElement("a",{className:TR.Be,href:"https://help.figma.com/hc/articles/360039957374",target:"_blank",rel:"noopener"},(0,k.tx)("org_home_view_meta.learn_more")))))}var TW=r(471115);let TH=e=>{switch(e){case tE.X.HOME:return(0,k.t)("org_view.overview");case tE.X.YOUR_TEAMS:return(0,k.t)("org_view.your_teams");case tE.X.PLUGINS:return(0,k.t)("org_view.plugins");case tE.X.WIDGETS:return(0,k.t)("org_view.widgets");default:return null}};function T$(e){let t=(0,l.wA)(),r=(0,e3.b_)({migrationGroup:n9.L.GROUP_5,component:"OrgPageViewBar"}),a=e=>{t(eI.$T({view:"org",orgId:r??"",orgViewTab:e}))},n=Object.keys(tE.X).reduce((t,r)=>{let n=TH(tE.X[r]);return null!=n&&t.push(i.createElement(yU.r,{tab:tE.X[r],onClick:a,isSelected:e.selectedTab===tE.X[r],tabName:n,key:r})),t},[]),o=i.createElement(yU.f,{tabs:n});return i.createElement(ng.g2,{leftSide:o,rightSide:[]})}var Tj=r(452578);function TG({workspace:e,targetRect:t,isDropdownOpen:r}){let a=iq(),n=(0,Y.sZ)(),o=(0,l.wA)();if(!n||!r||!t)return null;let s=a({workspace:e,org:n});return i.createElement(t_.j,{parentRect:t,items:s,dispatch:o,onSelectItem:e=>{e.callback&&e.callback("",null,o)},showPoint:!1,shouldUsePortal:!0})}var TY=r(549999),Tz=r(502972),Tq=r(124423);function TQ(e){let{unassignedTeams:t,isSelected:r,onSelect:a}=e,[n,o]=i.useState(!1),s=(0,l.wA)(),c=()=>{s(eX.kg({clickedResourceType:"workspace"})),s(eI.$T({view:"workspace",subView:eQ.V0.DIRECTORY,workspaceId:null,selectedTab:eQ.dN.TEAMS}))},d=(0,k.tx)("org_view.license_group.unassigned_tile.name"),m=i.createElement(eJ.md,{teams:t,size:40,isHovered:n}),u=i.createElement("span",null,"\xa0"),_=(0,k.tx)("org_view.license_group.unassigned_tile.description",{teamCount:t.length});return i.createElement(Tq.a,{name:d,headerLeft:m,headerRight:u,footerLeft:_,onClick:e=>{2===e.detail||f.Ay.mobile||f.Ay.tablet?c():1===e.detail&&a()},canView:!0,onMouseOver:()=>{o(!0)},onMouseOut:()=>{o(!1)},isCardActive:n||r,isSelected:r})}var TK=r(193212);let TX="org_page_view--favoriteStarContainer--GKbng button_styles--button--vl9vc",TZ="org_page_view--workspaceTileTitleColorForLightBackground---zSTU",TJ="org_page_view--workspaceTileTitleColorForDarkBackground--m6sFp",T0="org_page_view--secondaryTextColorOnLightBackground--68byE",T1="org_page_view--secondaryTextColorOnDarkBackground--7Ru-V",T2="org_page_view--favoriteStarContainerForLightBackground--W9qx7 workspace_page_header--favoriteStarContainerForLightBackground--AKL23",T4="org_page_view--favoriteStarContainerForDarkBackground--mVRVn workspace_page_header--favoriteStarContainerForDarkBackground--MXtIt";function T8(e){let t,r,a;let{workspace:n,teamCount:o,isSelected:s,onSelect:c}=e,d=(0,l.d4)(e=>e.currentUserOrgId),[m,u]=i.useState(!1),_=(0,TK.aq)(),p=n.colorConfig?.colors??[],g=e.isMainWorkspace?p[0]:void 0,E=n.description??void 0;g&&(g=n0(n.id,g,_()));let h=(0,l.wA)(),y=()=>{h(eX.kg({clickedResourceType:"workspace",resourceIdOrKey:n.id})),h(eI.$T({view:"workspace",subView:eQ.V0.DIRECTORY,workspaceId:n.id,selectedTab:eQ.dN.TEAMS}))},v=i.useCallback((e,t,r)=>{if(n){let a={workspace:{id:n.id,name:n.name??"",imgUrl:n.imgUrl},entrypoint:"workspace_tile",sectionId:r,favoriteId:t};e?h(eN.ZW(a)):h(eN.if(a))}},[h,n]);g&&((0,nY.kx)(g)?(t=TJ,r=T1,a=T4):(t=TZ,r=T0,a=T2));let b=i.createElement(eJ.z6,{entity:n,size:40}),w=(0,J.oA)(n.memberCount),T=i.createElement("div",{className:M()(N.cx.flex.flexRow.itemsCenter.$,r)},i.createElement("span",null,(0,k.tx)("org_view.license_group.member_count",{memberCount:w?.data??0}),i.createElement("span",null,"\xa0\xb7\xa0"),(0,k.tx)("org_view.license_group.team_count",{teamCount:o}))),I=i.createElement(rb.r,{setFavorite:v,favoriteType:eA.bk.WORKSPACE,resourceId:n.id,size:rb.m.MEDIUM,containerStyle:M()(TX,a),noHoverState:!0,orgId:d,parentBackgroundColor:g,onKeyDown:e=>{"Enter"===e.key&&e.stopPropagation(),"Tab"===e.key&&e.preventDefault()}}),C=n.orgAccess===eA.bU.SECRET?i.createElement("div",{className:N.cx.ml4.$,"data-tooltip-type":r$.Ib.TEXT,"data-tooltip":(0,k.t)("workspace_table.secret_workspace_lock_tooltip"),"data-tooltip-subtext":(0,k.t)("workspace_table.secret_workspace_lock_tooltip_subtext"),"data-tooltip-timeout-delay":500,"data-tooltip-max-width":300},i.createElement(ew.In,{icon:"lock-16"})):null;return i.createElement(Tq.a,{backgroundColor:g,description:E,descriptionClassName:r,name:i.createElement("span",{className:t},n.name),titleSubtitleRight:C,headerLeft:b,footerLeft:T,headerRight:I,onClick:e=>{2===e.detail||f.Ay.mobile||f.Ay.tablet?y():1===e.detail&&c()},canView:!0,onMouseOver:()=>{u(!0)},onMouseOut:()=>{u(!1)},isCardActive:m||s,isSelected:s})}function T5(){let[e,t]=i.useState(null),r=(0,l.wA)(),a=(0,eL.FC)(),n=(0,l.d4)(e=>e.currentUserOrgId),o=(0,Y.sZ)(),s=(0,q.Au)(n),{canCreateTeam:c}=(0,q.LM)(o,null),d=(0,ag.Rs)(av.bUn,{orgId:n}),m="loaded"!==d.status,u=d.data?.org?.workspaces??[],_=m?[]:[...u],p=(0,es.md)(iu.w),f="loaded"!==p.status,{workspaceTeamCounts:g,unassignedTeams:E}=i.useMemo(()=>{let e=(p.data||[]).filter(e=>(0,ih.dP)(e,a,n));return{workspaceTeamCounts:(0,eG.ZM)(e),unassignedTeams:e.filter(e=>null===e.workspace_id||void 0===e.workspace_id)}},[a,n,p]);(0,ta.KQ)(_,"name");let h=_.find(e=>e.id===s.data),y=_.map(r=>{if(r.id!==h?.id)return i.createElement(T8,{key:r.id,workspace:r,teamCount:g[r.id]??0,isSelected:e?.type==="workspace"&&e.workspaceId===r.id,onSelect:()=>{t({type:"workspace",workspaceId:r.id})}})});if(E.length>0&&y.push(i.createElement(TQ,{key:"unassigned",unassignedTeams:E,isSelected:e?.type==="unassigned-teams",onSelect:()=>{t({type:"unassigned-teams"})}})),m||f)return i.createElement(vq.X,{isLoading:!0});let v=h&&i.createElement(i.Fragment,null,i.createElement("div",{className:N.cx.pl32.$},i.createElement(S.E,{color:"secondary",fontSize:11},(0,k.tx)("org_view.your_workspace"))),i.createElement(vq.X,{emptyView:i.createElement(i.Fragment,null),tileSize:vq.o.Medium},i.createElement(T8,{key:h.id,workspace:h,teamCount:g[h.id]??0,isMainWorkspace:!0,isSelected:e?.type==="workspace"&&e.workspaceId===h.id,onSelect:()=>{t({type:"workspace",workspaceId:h.id})}})));return i.createElement(i.Fragment,null,v,h&&i.createElement("div",{className:N.cx.pl32.$},i.createElement(S.E,{color:"secondary",fontSize:11},(0,k.tx)("org_view.other_workspaces"))),i.createElement(vq.X,{emptyView:i.createElement(Tz.C,{onCreateTeam:c?()=>{r(tu.to({type:iv.Uc,data:{}}))}:void 0}),tileSize:vq.o.Medium},y))}function T3(e){let{unassignedTeams:t,isSelected:r,isHovered:a}=e,n=(0,k.tx)("org_view.license_group.unassigned_tile.name"),l=i.createElement(eJ.md,{teams:t,size:40,isHovered:a}),o=i.createElement("span",null,"\xa0"),s=(0,k.tx)("org_view.license_group.unassigned_tile.description",{teamCount:t.length});return i.createElement(Tq.a,{name:n,headerLeft:l,headerRight:o,footerLeft:s,canView:!0,isCardActive:a||r,isSelected:r,isInItemsView:!0})}function T9(e){let t,r,a;let{workspace:n,teamCount:o,isSelected:s,isHovered:c,onChildFocusChange:d}=e,[m,_]=i.useState(!1),p=(0,l.d4)(e=>e.currentUserOrgId),f=(0,TK.aq)(),g=n.colorConfig?.colors??[],E=e.isMainWorkspace?g[0]:void 0;E&&(E=n0(n.id,E,f()));let h=(0,l.wA)(),y=i.useCallback((e,t,r)=>{if(n){let a={workspace:{id:n.id,name:n.name??"",imgUrl:n.imgUrl},entrypoint:"workspace_tile",sectionId:r,favoriteId:t};e?h(eN.ZW(a)):h(eN.if(a))}},[h,n]);E&&((0,nY.kx)(E)?(t=TJ,r=T1,a=T4):(t=TZ,r=T0,a=T2));let v=i.createElement(eJ.z6,{entity:n,size:40}),b=(0,aP.oA)(n.memberCount),w=i.createElement("div",{className:M()(N.cx.flex.flexRow.itemsCenter.$,r)},i.createElement("span",null,(0,k.tx)("org_view.license_group.member_count",{memberCount:b?.data??0}),i.createElement("span",null,"\xa0\xb7\xa0"),(0,k.tx)("org_view.license_group.team_count",{teamCount:o}))),T=i.createElement(rb.r,{setFavorite:y,favoriteType:eA.bk.WORKSPACE,resourceId:n.id,size:rb.m.MEDIUM,containerStyle:M()(TX,a,{"org_page_view--showBlueBorder--R5tJm":(0,u.kc)().file_browser_workspace_items_view}),noHoverState:!0,orgId:p,parentBackgroundColor:E}),I=n.orgAccess===eA.bU.SECRET?i.createElement("div",{className:N.cx.ml4.$,"data-tooltip-type":r$.Ib.TEXT,"data-tooltip":(0,k.t)("workspace_table.secret_workspace_lock_tooltip"),"data-tooltip-subtext":(0,k.t)("workspace_table.secret_workspace_lock_tooltip_subtext"),"data-tooltip-timeout-delay":500,"data-tooltip-max-width":300},i.createElement(ew.In,{icon:"lock-16"})):null;return i.createElement(Tq.a,{isInItemsView:!0,handleFocus:()=>{_(!0),d()},handleBlur:()=>{_(!1),d()},backgroundColor:E,name:i.createElement("span",{className:t},n.name),titleSubtitleRight:I,headerLeft:v,footerLeft:w,headerRight:T,canView:!0,isCardActive:c||s||m,isSelected:s})}function T6(){return(0,u.kc)().file_browser_workspace_items_view?i.createElement(T7,null):i.createElement(T5,null)}function T7(){let e=(0,l.wA)(),t=(0,eL.FC)(),r=(0,Y.dq)(),a=(0,q.Au)(r),{canCreateTeam:n}=(0,q.LM)(r?{id:r}:null,null),o=(0,es.md)(iu.w),{workspaceTeamCounts:s,unassignedTeams:c}=i.useMemo(()=>{let e=(o.data||[]).filter(e=>(0,ih.dP)(e,t,r));return{workspaceTeamCounts:(0,eG.ZM)(e),unassignedTeams:e.filter(e=>null===e.workspace_id||void 0===e.workspace_id)}},[t,r,o]),d=(0,ag.Rs)(av.bUn,{orgId:r}),{currentWorkspace:m,otherWorkspaces:u}=i.useMemo(()=>{let e=d.transform(e=>{let t=e.org?.workspaces??[];(0,ta.KQ)(t,"name");let r=t.find(e=>e.id===a.data),n=t.filter(e=>e.id!==r?.id);return c.length>0&&n.push(nQ.O),{currentWorkspace:r,otherWorkspaces:n}});return"loaded"===e.status?e.data:{currentWorkspace:null,otherWorkspaces:[]}},[d,a,c]),_="loaded"!==o.status,p=i.useCallback(()=>{e(tu.to({type:iv.Uc,data:{}}))},[e]);if("loaded"!==d.status||_)return i.createElement(vq.X,{isLoading:!0});let f=m&&i.createElement(i.Fragment,null,i.createElement("div",{className:N.cx.pl32.$},i.createElement(S.E,{color:"secondary",fontSize:11},(0,k.tx)("org_view.your_workspace"))),i.createElement(Ie,{items:[m],isMainWorkspace:!0,workspaceTeamCounts:s,unassignedTeams:c,focusOnLoad:!0}));return i.createElement(i.Fragment,null,f,m&&i.createElement("div",{className:N.cx.pl32.$},i.createElement(S.E,{color:"secondary",fontSize:11},(0,k.tx)("org_view.other_workspaces"))),0===u.length?i.createElement(Tz.C,{onCreateTeam:n?p:void 0}):i.createElement(Ie,{items:u,isMainWorkspace:!1,workspaceTeamCounts:s,unassignedTeams:c,focusOnLoad:!m}))}function Ie({items:e,isMainWorkspace:t,workspaceTeamCounts:r,unassignedTeams:a,focusOnLoad:n}){let{showing:l,show:o,data:s}=(0,g5.BK)("WORKSPACE_CONTEXT_MENU"),c=(0,TY.$)(),d=i.useCallback(e=>e===nQ.O?(0,k.t)("org_view.license_group.unassigned_tile.name"):e.name,[]),m=i.useCallback((e,t)=>{c(e===nQ.O?null:e.id,t)},[c]),u=i.useCallback((e,t)=>{let r=e[0];r!==nQ.O&&o({data:{workspace:r,targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1}}})},[o]),_=i.useMemo(()=>({tileBorderRadius:16,nestedFocus:!1,containerClassName:"org_workspaces_view--workspaceGrid--7PxK9",renderTile:(e,n,{isSelected:l,isHovered:o})=>e===nQ.O?i.createElement(T3,{isSelected:l,isHovered:o,unassignedTeams:a}):i.createElement(T9,{workspace:e,teamCount:r[e.id]??0,isSelected:l,isHovered:o,isMainWorkspace:t,onChildFocusChange:n})}),[t,a,r]);return i.createElement("div",{className:N.cx.mt24.mb32.mx32.$},i.createElement(lC.A,{viewType:lx.XU.GRID,isDraggable:!1,items:e,multiselectDisabled:!0,getAriaLabel:d,gridViewProps:_,handleOpenItem:m,handleContextMenu:u,doNotFocusOnLoad:!n}),l&&i.createElement(TG,{workspace:s.workspace,isDropdownOpen:l,targetRect:s.targetRect}))}let It=(e,t)=>({canMemberOrg:(0,tU.canMemberOrg)(e.currentUserOrgId,(0,tU.getPermissionsState)(e)),org:e.orgById[t],isEnterpriseOrgDirectoryEnabled:(0,eR.QT)(e),currentOrgUser:e.user&&e.currentUserOrgId?e.orgUsersByOrgId[e.currentUserOrgId][e.user.id]:null});function Ir(e){let{canMemberOrg:t,org:r,isEnterpriseOrgDirectoryEnabled:a,currentOrgUser:n}=(0,a9.R)(t=>It(t,e.orgId)),o=(0,l.wA)();i.useEffect(()=>{t&&(o(iE.Jt({includeMemberCount:!0,includeTopMembers:!1,includeProjectCount:!0})),o(TL.Pg({orgId:e.orgId})))},[t,e.orgId,o]);let s=null;switch(e.selectedTab){case tE.X.WIDGETS:s=i.createElement(Tj.x,null);break;case tE.X.PLUGINS:s=i.createElement(TW.C,null);break;case tE.X.YOUR_TEAMS:s=i.createElement(Ia,null);break;case tE.X.HOME:case tE.X.FONTS:case tE.X.LIBRARIES:s=a?i.createElement(T6,null):i.createElement(In,null)}let c=n&&n.permission===eA._D.GUEST,d=null;d=c?i.createElement(TV,{org:r}):a?i.createElement(TB,{org:r}):i.createElement(TU,{org:r});let m=i.createElement(T$,{selectedTab:e.selectedTab});return i.createElement(iS.r,{banner:i.createElement(TA,null),viewbar:m,content:s,metaContent:d})}function Ia(){let e=iI({workspaceId:null,onlyJoinedTeams:!0});return i.createElement(iw,{orgTeamsQuery:e,workspaceId:null})}function In(){let e=iI({workspaceId:null,onlyJoinedTeams:!1});return i.createElement(iw,{orgTeamsQuery:e,workspaceId:null})}var Ii=r(200482);let Il=(0,nr.eU)(!1);function Io(){let e=(0,o.lH)(),t=(0,es.md)(o.Bb),r=(0,es.md)(Il),a=(0,pU.Xr)(Il);if(!(0,u.kc)().chrome_os_app_install_button||!f.Ay.chromeos||!f.Ay.chrome||e||!t)return null;let n=async()=>{a(!0);let e=await t.prompt();"dismissed"===e.outcome&&a(!1),(0,nm.sx)("add_to_chromebook_clicked",{installed:"accepted"===e.outcome})};return i.createElement(ix.K,{action:{kind:ix.A.CUSTOM,key:iF.D.ADD_TO_CHROMEBOOK,element:i.createElement("button",{onClick:n,className:M()(Tc.AS,r&&Tc.Xn),tabIndex:0},i.createElement(ei.B,{className:Tc.He,svg:Ii.A}),(0,k.tx)("file_browser.tool_bar.add_to_chromebook"))}})}var Is=r(58716);function Ic(){return s.eD||!(0,u.kc)().desktop_get_app_navbar?null:i.createElement(ix.K,{action:{kind:ix.A.CUSTOM,key:iF.D.GET_DESKTOP_APP,element:i.createElement("button",{onClick:()=>{c.Ay.redirect(`/download/desktop/${f.Ay.mac?"mac":"win"}`,"_blank")},"data-onboarding-key":"get_desktop_app",className:Tc.Fu},i.createElement(ei.B,{className:Tc.Kk,svg:Is.A}),(0,k.tx)("banner.desktop_download_button"))}})}function Id(){let e=(0,l.wA)(),t=(0,z.Pc)();return i.createElement(ix.K,{action:{kind:ix.A.BUTTON,key:iF.D.VIEW_COMMUNITY_PROFILE,onClick:()=>{e(eI.$T({view:"communityHub",subView:"handle",handle:t.community_profile_handle}))},displayText:(0,k.t)("internal_profile.view_community_profile"),styleClass:N.cx.colorText.$}})}var Im=r(480245);function Iu(){let e=(0,l.wA)(),t=!!(0,ay.f)("dismissed_config_2025_early_bird_banner"),r=u.tl(),a=("ja"===r.user_data?.locale?(0,u.kc)().marketing_promo_banner_ja:(0,u.kc)().marketing_promo_banner)&&!t,n=()=>{e(ek.b({dismissed_config_2025_early_bird_banner:!0}))};return a?i.createElement(aI.fu,{name:"Config 2025 Early Bird Promo Banner",properties:{severity:bT.c.EVENT}},i.createElement("div",{className:"banner--wrapper--Nx0aH"},i.createElement(ei.B,{svg:Im.A,className:"banner--logo--lVDiq",svgClassName:"banner--svg--moSCa"}),i.createElement("div",{className:"banner--copy_and_ctas--f7Oif"},i.createElement("h2",{className:"banner--title--hrxPG"},(0,k.tx)("banner.marketing_promo.title")),i.createElement(ee.e2,{className:"banner--button_group--xtoOR"},i.createElement(ee.vd,{className:"banner--primary_button--PRn3f",onClick:()=>(0,lO.FJ)("https://config.figma.com/?utm_source=figma&utm_medium=prod&utm_campaign=global","_blank")},(0,k.tx)("banner.marketing_promo.primary_cta")),i.createElement(ee.tM,{className:"banner--secondary_button--YcI6L",onClick:()=>n()},(0,k.tx)("general.close")))))):null}let I_=new class{constructor(){this.SharerFilterOptionsSchemaValidator=(0,sY.vh)(),this.PlanFilterOptionsSchemaValidator=(0,sY.vh)()}getSharerFilterOptions(e){return this.SharerFilterOptionsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/shared_with_you/sharer_filter_options?resource_type[]=${e.resource_type}`))}getPlanFilterOptions(e){return this.PlanFilterOptionsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/shared_with_you/plan_filter_options?resource_type[]=${e.resource_type}`))}};function Ip(){return{"":{label:(0,k.t)("shared_with_you.filters.all_organizations")}}}let If=t1.M4.Query({fetch:async e=>{let t=await I_.getPlanFilterOptions({resource_type:e}),r={};return t.data.meta.plan_filters.forEach(e=>{let t={label:e.label,plan_id:e.plan_id,plan_type:e.plan_type};e.plan_id&&(r[e.plan_id]=t)}),{...Ip(),...r}}});function Ig(e){let t=e.join("&resource_type[]="),[r]=(0,t1.IT)(If(t));return r.data||Ip()}function IE(){return{"":(0,k.t)("shared_with.you.filters.anyone")}}function Ih(e){let[t,r]=(0,i.useState)(IE()),a=e.join("&resource_type[]=");return(0,i.useEffect)(()=>{I_.getSharerFilterOptions({resource_type:a}).then(({data:e})=>{r(e.meta.shared_by_filters.reduce((e,{user_id:t,label:r})=>({...e,[t]:r}),{...IE()}))})},[a]),t}var Iy=r(307524),Iv=r(388120);function Ib(e){let t=(0,ag.Rs)(av.ox,{resourceTypes:e.resourceTypes,firstPageSize:30,sortOrder:e.sortOrder,cursorColumn:e.sortKey,sharedBy:e.sharedBy||null,planId:e.planId||null,planType:e.planType||null,fileType:e.fileType||null,orgDeletedDrafts:e.orgDeletedDrafts||null}),r=(0,i.useCallback)(()=>{"loaded"===t.status&&t.data.sharedWithYouResources.hasNextPage()&&t.data.sharedWithYouResources.loadNext(30)},[t]),a="loaded"===t.status&&t.data.sharedWithYouResources.isLoadingNextPage;return{subscription:t,fetchNextPage:r,isFetchingNextPage:a}}function Iw(e){let t=(0,eC._6)(),r=(0,l.d4)(e=>e.tileSortFilterStateByView),a="recentsAndSharing"===t.view?r.recentsAndSharing.sharedFiles:r.sharedWithYou,n=Ih(["file","file_repo","prototype"]),o=Ig(["file","file_repo","prototype"]),s={tileSortFilterConfig:a,sortKeys:[lx.C0.SHARED_AT]},{subscription:c,fetchNextPage:d,isFetchingNextPage:m}=function(e){let{subscription:t,fetchNextPage:r,isFetchingNextPage:a}=Ib({...e,resourceTypes:["file","file_repo","prototype"]});return{subscription:(0,i.useMemo)(()=>t.transform(e=>e.sharedWithYouResources.reduce((e,t)=>{if(t.sharedWithYouFile){let r=function(e){if(null==e||null==e.file)return null;let{file:t,...r}=e,a={...t,...r,editUrl:`${window.location.origin}/file/${t.key}/${(0,dm.sy)(t.name||"")}`,signedPreviewThumbnailUrls:(0,J.oA)(t.previewThumbnailUrls),trackTags:null},n={...tZ.F.toSinatra(a),shared_at:r.sharedAt.toISOString(),shared_by:r.sharedBy,shared_by_user:r.sharedByUser};return{type:tQ.nb.FILE,file:n,fileLG:a,filePerms:(0,tM.ru)(t)}}(t.sharedWithYouFile);r&&e.push(r)}else if(t.sharedWithYouRepo){let r=function(e){let{repo:t,...r}=e;if(null===t)return null;let{branches:a,...n}=t,i=a?.filter(e=>null!=e)?.map(e=>t0.V1({...e,edit_url:e?`${window.location.origin}/file/${e.key}/${dm.sy(e.name||"")}`:"",client_meta:e.checkpointClientMeta}))??[],l=(0,t0.V1)({...n,...r});return(0,t0.V1)({type:tQ.nb.REPO,repo:l,branches:i,selectedBranchKey:""},{repoPerms:(0,Iv.zh)(t)})}(t.sharedWithYouRepo);r&&e.push(r)}else if(t.sharedWithYouPrototype){let r=function(e){let{prototype:t,...r}=e;if(null==t)return null;let a=(0,t0.V1)({...t,...r});return(0,t0.V1)({type:tQ.nb.PROTOTYPE,prototype:a},{prototypePerms:(0,Iy.R)(t)})}(t.sharedWithYouPrototype);r&&e.push(r)}return e},[])),[t]),fetchNextPage:r,isFetchingNextPage:a}}({sharedBy:a.filters.sharedBy??"",planId:a.filters.plan?.planId??"",planType:a.filters.plan?.planType??"",fileType:(e=>{switch(e){case lx.t2.DESIGN:return"design";case lx.t2.FIGJAM:return"whiteboard";case lx.t2.PROTOTYPE:return"prototype";case lx.t2.SITES:return"sites";case lx.t2.SLIDES:return"slides";case lx.t2.ANY:return null;default:(0,C.xb)(e)}})(a.filters.fileType)??"",sortOrder:a.sort.dir===lx.ue.ASC?"asc":"desc",sortKey:(0,lx.De)(a.sort.key)??"shared_at"}),u=(0,i.useMemo)(()=>c.unwrapOr([]),[c]),{trackPerformanceEvent:_}=(0,vS.S)("swy_files_pagination_performance","livegraph");(0,i.useEffect)(()=>{_("fetch_end")},[_,u.length]),(0,i.useEffect)(()=>{"errors"===c.status&&_("fetch_error",{errors:JSON.stringify(c.errors??{})})},[_,c.status,c.errors]),(0,i.useEffect)(()=>(_("fetch_start"),()=>{_("fetch_cancel")}),[_]);let p=(0,i.useCallback)(()=>{m||(_("fetch_next"),d())},[m,d,_]);return i.createElement(et.A,{loadingElementId:"loading-content-pane",delay:250,loaded:"loaded"===c.status,loadingElementClassName:N.cx.pr32.$},i.createElement(yz.B,{onShouldFetchNextPage:p},i.createElement(vN,{tiles:u,tileActions:{showInFolder:!0,open:!0,openNewTab:!0,restoreFromVersion:!0,rename:!0,share:!0,copyLink:!0,duplicate:!0,delete:!0,removeFromRecents:!1,createBranch:!0,publishOrgTemplate:!0,moveFile:!0,pinToWorkspace:!0},sortFilterOptions:s,newFileTile:!1,emptyStateText:m?"":(0,k.t)("shared_with_you.no_items"),sharedWithYouFilters:{sharer:n,plan:o,fileType:!0},hideSorter:!0,currentPlanFilter:a.filters.plan,currentSharedByFilter:a.filters.sharedBy,eligibleForLockedStateRedesign:e.eligibleForLockedStateRedesign,isInLockedProTeamRevampExp:e.isInLockedProTeamRevampExp})))}function IT(){return{[lx.cT.ALL]:(0,k.t)("shared_with_you.filters.org_deleted_drafts.all"),[lx.cT.SHARED]:(0,k.t)("shared_with_you.filters.org_deleted_drafts.shared"),[lx.cT.ORG_DELETED_DRAFTS]:(0,k.t)("shared_with_you.filters.org_deleted_drafts.deleted_user_drafts")}}function II(e){let t=(0,eC._6)(),r=(0,nt.ol)(),a=(0,ag.Rs)(av.kQI,{id:r?.id||""},{enabled:!!r}),n=(0,ag.Rs)(av.TNJ,{id:r?.id||""},{enabled:!!r}),o=(0,l.d4)(e=>e.tileSortFilterStateByView),s="recentsAndSharing"===t.view?o.recentsAndSharing.sharedProjects:o.sharedWithYou,c=Ih(["folder"]),d=Ig(["folder"]),m=IT(),u={tileSortFilterConfig:s,sortKeys:[lx.C0.SHARED_AT]},{subscription:_,fetchNextPage:p,isFetchingNextPage:f}=function(e){let{subscription:t,fetchNextPage:r,isFetchingNextPage:a}=Ib({...e,resourceTypes:["folder"]});return{subscription:(0,i.useMemo)(()=>t.transform(e=>e.sharedWithYouResources.reduce((e,t)=>{if(t.sharedWithYouFolder){let{folder:r,...a}=t.sharedWithYouFolder;if(null==r)return e;let n=r.updatedAt.toString(),i=(0,t0.V1)({...r,...a},{created_at:r.createdAt.toString(),updated_at:n,deleted_at:r.deletedAt?.toString()||null,touched_at:n});e.push(i)}return e},[])),[t]),fetchNextPage:r,isFetchingNextPage:a}}({sharedBy:s.filters.sharedBy??"",planId:s.filters.plan?.planId??"",planType:s.filters.plan?.planType??"",orgDeletedDrafts:"",sortOrder:s.sort.dir===lx.ue.ASC?"asc":"desc",sortKey:(0,lx.De)(s.sort.key)??"shared_at"}),g=(0,i.useMemo)(()=>_.unwrapOr([]),[_]),E=(0,i.useMemo)(()=>g.map(e=>e.id),[g]),{trackPerformanceEvent:h}=(0,vS.S)("swy_projects_pagination_performance","livegraph");(0,i.useEffect)(()=>{h("fetch_end")},[h,E.length]),(0,i.useEffect)(()=>{"errors"===_.status&&h("fetch_error",{errors:JSON.stringify(_.errors??{})})},[h,_.status,_.errors]),(0,i.useEffect)(()=>(h("fetch_start"),()=>{h("fetch_cancel")}),[h]);let y=(0,i.useCallback)(()=>{f||(h("fetch_next"),p())},[f,p,h]),v="loaded"===a.status&&!!a.data.team&&a.data.team.hasPermission,b=!!n.unwrapOr({team:{hasPermission:!1}})?.team?.hasPermission;return i.createElement(et.A,{loadingElementId:"loading-content-pane",delay:250,loaded:"loaded"===_.status,loadingElementClassName:N.cx.pr32.$},i.createElement(yz.B,{onShouldFetchNextPage:y},i.createElement(br,{viewId:"shared-with-you-projects",teamId:r?r.id:void 0,team:r,canEditTeamContents:v,canAdminTeam:b,folderList:g,chunkSize:g.length,showTeamNameOrAuthor:!1,isSharerInfoIncluded:!0,sharedWithYouFilters:{sharer:c,plan:d,orgDeletedDrafts:m},sortFilterOptions:u,selectedView:t,emptyStateText:f?"":(0,k.t)("shared_with_you.no_items"),useLGPerms:!0,currentPlanFilter:s.filters.plan,eligibleForLockedStateRedesign:!!r&&e.eligibleForLockedStateRedesign,isInLockedProTeamRevampExp:!!r&&e.isInLockedProTeamRevampExp})))}function IC(){let e=(0,l.wA)(),t=(0,Z.vt)(),r=(0,W.Yz)(),a=(0,W.Xs)(),n=(0,K.R)(),o=(0,K.jn)(),s=(0,l.d4)(({orgById:e})=>e),c=(0,l.d4)(({currentUserOrgId:e})=>e),d=(0,eR.yK)({orgById:s,currentUserOrgId:c}),m=!!(0,l.d4)(e=>e.userFlags).hide_recommended_templates_in_recents,u=(0,l.d4)(e=>e.user?.drafts_folder_id);if(!u)return null;let _=r(t)||a(o&&n);return i.createElement(Tg.s,{folderId:u,newFileFrom:h1.f6.FILE_BROWSER_TOPBAR_RECENTS,disableRecommendedTemplates:d||_,recommendedTemplatesIsOpen:!m,toggleRecommendedTemplates:()=>e(ek.b({hide_recommended_templates_in_recents:!m})),showFileCreationShelf:!_})}var Ix=r(765521),IN=r(961034),Ik=r(552963),IS=r(201188),IL=r(322611),IA=r(565701);let IR=e=>i.createElement("span",{className:"unsubscribe_confirmation_modal--boldText--dNK-D"},e),IP=(0,tc.Ju)(function(e){let t=(0,l.wA)(),r=(0,z.iZ)();return r?i.createElement(IL.u,{tintedModalBackground:!0,headerText:(0,k.t)("interstitial.unsubscribe_success_header")},i.createElement("div",{className:IA.Yg},(0,k.tx)("interstitial.unsubscribe_success_subheader_with_address",{emailName:IR((()=>{switch(e.policyType){case"FileCommentActivity":return(0,k.t)("interstitial.comment_activity_digest");case"TeamCommentActivity":return(0,k.t)("interstitial.team_comment_digest");case"FeedWeeklyDigest":return(0,k.t)("interstitial.feed_weekly_digest");case"WorkspaceActivity":return(0,k.t)("interstitial.workspace_activity");default:(0,C.xb)(e.policyType)}})()),emailAddress:IR(r.email)})),i.createElement(ee.nD,{onClick:()=>{t(tu.Lo())},className:"unsubscribe_confirmation_modal--button--j6qqT"},(0,k.tx)("interstitial.done")),i.createElement("button",{className:"unsubscribe_confirmation_modal--notificationSettingsButton--vmHlZ interstitial_modal--secondaryText--IC9Gu",onClick:()=>{t((0,tu.to)({type:IS.s,data:{tab:IS.c.NOTIFICATIONS}})),t(tu.aZ())}},(0,k.tx)("interstitial.open_notifications_settings"))):null},"UNSUBSCRIBE_CONFIRMATION_INTERSTITIAL_MODAL");var IF=r(540193);let IO={showInFolder:!0,open:!0,openNewTab:!0,restoreFromVersion:!0,rename:!0,share:!0,copyLink:!0,duplicate:!0,delete:!0,removeFromRecents:!0,createBranch:!0,publishOrgTemplate:!0,moveFile:!0,pinToWorkspace:!0};function ID({eligibleForLockedStateRedesign:e,isInLockedProTeamRevampExp:t}){let r=(0,l.d4)(e=>e.currentUserOrgId),a=(0,IF.ql)(r||null),n=(0,IF.O8)(r||null),o=i.useMemo(()=>a.transform(e=>e.map(tQ.fA)),[a]),s=i.useMemo(()=>n.transform(e=>e.map(tQ.Nu)),[n]),c=function(){let e=(0,l.d4)(e=>e.recentRepos),t=(0,l.d4)(e=>e.selectedBranchKeyByRepoId);return i.useMemo(()=>e.map(e=>(0,tQ.uy)(e,t)),[e,t])}(),d=function(){let e=(0,bu.Rp)();return i.useMemo(()=>Object.values(e).map(tQ.gB),[e])}(),m=i.useMemo(()=>tB.Qw.merge([o,s],c,d),[d,o,s,c]),u=(0,l.d4)(e=>e.tileSortFilterStateByView),_=i.useMemo(()=>({tileSortFilterConfig:u.recentsAndSharing.recents,sortKeys:[lx.C0.NAME,lx.C0.CREATED_AT,lx.C0.ACCESSED_AT]}),[u]),p="loaded"===m.status;return i.createElement(et.A,{loadingElementId:"loading-content-pane",loaded:p,loadingElementClassName:N.cx.pr32.$},i.createElement(vN,{tiles:m.data,tileActions:IO,sortFilterOptions:_,newFileTile:!0,emptyStateText:f.Ay.mobile||f.Ay.tablet?(0,k.t)("file_browser.tool_bar.recently_viewed_empty_state"):"",hideSorter:!0,eligibleForLockedStateRedesign:e,isInLockedProTeamRevampExp:t}),i.createElement(yL.cx,null))}var IM=r(601538);let IB="seen_shared_files_onboarding",IU=(0,eu.r1)("seen_account_profile_switcher_onboarding"),IV=(0,eu.r1)(IB);function IW(){let e=(0,es.md)(IU),t=(0,es.md)(IV),r=(0,em.e)({overlay:eE.fz8,priority:ep.N.SECONDARY_MODAL},[t,e]);return(0,d.h)(()=>{r.show({canShow:(e,t)=>t&&!e})}),i.createElement(ef.rq,{targetKey:IM.Bh,isShowing:r.isShowing,title:(0,k.tx)("rcs.shared_with_you.shared_files_title"),description:(0,k.tx)("rcs.shared_with_you.shared_files_description",{recents:i.createElement("span",{className:N.cx.fontBold.$},(0,k.tx)("rcs.shared_with_you.recents"))}),primaryCta:{type:"button",label:(0,k.tx)("rcs.got_it"),onClick:r.complete,ctaTrackingDescriptor:ed.c.DONE},width:350,onClose:r.complete,trackingContextName:"File Browser Shared Files in Recents Overlay",userFlagOnShow:IB})}let IH=[h4.G.RECENTLY_VIEWED,h4.G.SHARED_FILES,h4.G.SHARED_PROJECTS],I$=e=>{switch(e){case h4.G.RECENTLY_VIEWED:return(0,k.t)("file_browser.recents_and_sharing_view.recent_files_tab_name");case h4.G.SHARED_PROJECTS:return(0,k.t)("file_browser.recents_and_sharing_view.shared_projects_tab_name");case h4.G.SHARED_FILES:return(0,k.t)("file_browser.recents_and_sharing_view.shared_files_tab_name");default:(0,C.xb)(e)}};function Ij(e){let t=e.options.tileSortFilterConfig.filters.sharedBy,r=e.options.tileSortFilterConfig.filters.plan;return i.createElement("div",{className:N.cx.flex.flexWrap.gap18.$},i.createElement(i.Fragment,null,e.filters?.sharer&&Object.keys(e.filters?.sharer).length>1&&i.createElement(i.Fragment,null,t&&i.createElement(ng.qD,{userId:t}),i.createElement(ng.lI,{config:e.options.tileSortFilterConfig,filterOptions:e.filters.sharer,tab:e.tab})),e.filters?.plan&&Object.keys(e.filters?.plan).length>1&&i.createElement(i.Fragment,null,r?.planId&&i.createElement(ng.lV,{planOption:e.filters.plan[r.planId]}),i.createElement(ng.FU,{config:e.options.tileSortFilterConfig,filterOptions:e.filters.plan,tab:e.tab})),e.filters?.fileType&&i.createElement(i.Fragment,null,i.createElement(ng.ye,{config:e.options.tileSortFilterConfig,tab:e.tab}))))}function IG(e){let t=e.selectedTab,r=(0,l.wA)(),a=(0,eC._6)(),n=(0,l.d4)(e=>e.tileSortFilterStateByView),o=t===h4.G.SHARED_PROJECTS?["folder"]:["file","file_repo","prototype"],s=Ih(o),c=function(){let e=(0,z.TA)(),t=(0,l.d4)(e=>e.authedUsers),r=(0,l.d4)(e=>e.plans),a=(0,l.d4)(e=>e.orgById),n=(0,l.d4)(nn.P),i=(0,u.kc)().limited_plan_spaces,o=e?t.byId[e]:null;return(i?r.map(e=>{let t="";if(e.plan_type===h2.O.ORG){let r=a[e.plan_id];t=r?.name??t}else{let r=n[e.plan_id];t=r?.name??t}return{label:t,plan_id:e.plan_id,plan_type:e.plan_type===h2.O.ORG?h2.O.ORG:h2.O.TEAM}}):(o?.plans??[]).map(e=>({label:e.name,plan_id:e.plan_id,plan_type:e.is_org?"org":"team"}))).reduce((e,t)=>({...e,[`${t.plan_id}`]:t}),{...Ip()})}(),d=Ig(o),m=IT(),_={sharer:t!==h4.G.RECENTLY_VIEWED?s:void 0,plan:t===h4.G.RECENTLY_VIEWED?c:d,fileType:t!==h4.G.SHARED_PROJECTS,orgDeletedDrafts:t===h4.G.SHARED_PROJECTS?m:void 0},p=i.useMemo(()=>{let e;switch(t){case h4.G.RECENTLY_VIEWED:e=n.recentsAndSharing.recents;break;case h4.G.SHARED_FILES:e=n.recentsAndSharing.sharedFiles;break;case h4.G.SHARED_PROJECTS:e=n.recentsAndSharing.sharedProjects;break;default:(0,C.xb)(t)}return{tileSortFilterConfig:e,sortKeys:h4.o[t]}},[t,n]),f=e=>{e===h4.G.SHARED_FILES?(0,nm.sx)("file_browser_shared_files"):e===h4.G.SHARED_PROJECTS&&(0,nm.sx)("file_browser_shared_projects"),r(eI.$T({view:"recentsAndSharing",tab:e}))},g=e=>{(0,nm.sx)("file view toggle",{viewType:e===lx.XU.GRID?"grid":"list"}),Object.keys(h4.G).map(t=>{r(eI.JF({selectedView:a,config:{...p.tileSortFilterConfig,viewMode:e},tab:h4.G[t]}))},r(eI.uV({viewId:"shared-with-you-projects",viewMode:e})))},E=i.createElement("div",{className:N.cx.flex.alignCenter.$},i.createElement(ng.$c,{initialViewMode:p.tileSortFilterConfig.viewMode,onViewModeChange:g})),h=i.createElement(ng.mc,{options:p,selectedView:a,dispatch:r,tab:t}),y=i.createElement("div",{className:N.cx.flex.gap18.$,key:"sortWithViewOptions"},h,!(0,u.kc)().file_browser_ia_overhaul_remove_list_view&&E),v=i.createElement(Ij,{options:p,filters:_,tab:t,key:"recentsAndSharingTileFilters"}),b=i.createElement(ng.IB,{dropdownKey:"recents-and-sharing-sort-filter-mobile-dropdown",sortFilterOptions:p,filters:_,onViewModeChange:g,tab:t}),w=IH.map(t=>{let r=t===h4.G.SHARED_FILES?IM.Bh:"";return i.createElement(yU.r,{tab:t,onClick:f,isSelected:e.selectedTab===t,tabName:I$(t),key:t,dataOnboardingKey:r})});return i.createElement(i.Fragment,null,i.createElement(fq.p,null,i.createElement(IW,null)),i.createElement(ng.g2,{leftSide:i.createElement(yU.f,{tabs:w}),rightSide:[v,y],rightSideMobile:b}))}function IY(e){switch(e){case nO.bb.ACCOUNT:return IS.c.ACCOUNT;case nO.bb.COMMUNITY:return IS.c.COMMUNITY;case nO.bb.NOTIFICATIONS:return IS.c.NOTIFICATIONS}}function Iz(e){let t=(0,l.wA)(),r=(0,W.Yz)(),a=(0,K.R)(),n=(0,W.Xs)(),o=(0,Z.vt)(),s=bG({checks:{isEligibleForLockedRedesign:r,isInLockedProTeamRevampExp:n}}),{selectedTab:c,accountModalTab:d,emailPolicyToUnsubscribeFrom:u}=e,_=i.createElement(IG,{selectedTab:c}),p=(0,m.ZC)(d),f=(0,m.ZC)(u);return!function(){let e=(0,l.wA)(),t=(0,e3.yN)({phase:"passthrough",component:"useUpgradeRequestModalOnPageLoad",attribute:"currentPlan",legacy:(e,t)=>t?{planType:eA.OL.ORG,id:t.id}:e?{planType:eA.OL.TEAM,id:e.id}:null,migrated:e=>e?.key.parentId?{id:e.key.parentId,planType:e.tier}:null}),r=(0,wN.QL)("one_click_upgrade_request_type"),a=(0,wN.QL)("upgrade_modal_type")||"",n=(0,wN.QL)("entry_point")||"",o=(0,w4.px)(r??a),s=(0,ag.Rs)(av.LmV,{orgId:t?.planType===eA.OL.ORG?t.id:null,teamId:t?.planType===eA.OL.TEAM?t.id:null},{enabled:!!t?.id&&!!o});(0,i.useEffect)(()=>{if(("disabled"===s.status||"loaded"===s.status)&&((0,wN.EM)("one_click_upgrade_request_type"),(0,wN.EM)("upgrade_modal_type"),(0,wN.EM)("entry_point")),!t||"loaded"!==s.status||!o)return;let a=s.data.currentUser.baseOrgUser;if(a&&(0,w4.qX)(o,s.data.currentUser.baseOrgUser)){let i=a.licenseGroupMember&&a.licenseGroupMember.licenseGroupId?{license_group_id:a.licenseGroupMember.licenseGroupId}:void 0;e((0,tu.to)({type:Te.Y,data:{orgId:t.id,orgUser:{id:a.id,permission:a.permission,license_group_member:i,user_id:a.user.id,org_id:t.id},licenseType:o,entryPoint:(0,IN.K)(w1.PE,n)??(0,IN.K)(w1.tc,n)??(0,IN.K)(w1.i$,n)??(o===w4.Te.DEV_MODE?w1.i$.DowngradeEmail:w1.PE.DEPRECATED_Recents),isOneClickUpgradeRequest:!!r,trackForDowngradeNotificationExperiment:!0}}));return}let i=s.data.currentUser.teamUser;if(i&&r&&function(e,t){switch(e){case w4.Te.WHITEBOARD:return t?.whiteboardPaidStatus===eA.Zf.RESTRICTED;case w4.Te.DESIGN:return t?.designPaidStatus===eA.Zf.RESTRICTED;default:return!1}}(o,i)){e((0,tu.to)({type:Tt.PK,data:{team:{id:t.id},isOneClickUpgradeRequest:!!r,editorType:(0,w4.gN)(o),entryPoint:(0,IN.K)(w1.tc,n)??(0,IN.K)(w1.Wc,n)??n}}));return}},[e,o,r,n,s,t])}(),(0,Ix.V)(),(0,i.useEffect)(()=>{d&&d!==p?(t((0,tu.to)({type:IS.s,data:{tab:IY(d)}})),t(eI.$T({view:"recentsAndSharing"}))):u&&u!==f&&(Ik.z.updateUserCommunicationPreference({channelType:"email",policyType:u,policySetting:"none"}).then(()=>{t((0,tu.to)({type:IP,data:{policyType:u}}))}).catch(e=>{t((0,tu.to)({type:IS.s,data:{tab:IY(nO.bb.NOTIFICATIONS)}})),t(tO.F.dequeue({}))}),t(eI.$T({view:"recentsAndSharing"})))},[d,p,u,f,t]),i.createElement(iS.r,{banner:s?i.createElement(bX,{folderId:null}):i.createElement(Iu,null),viewbar:_,viewBarSticky:!0,toolbar:i.createElement(IC,null),content:function(e,t){switch(e){case h4.G.SHARED_FILES:return i.createElement(Iw,{eligibleForLockedStateRedesign:t?.eligibleForLockedStateRedesign,isInLockedProTeamRevampExp:t?.isInLockedProTeamRevampExp});case h4.G.SHARED_PROJECTS:return i.createElement(II,{eligibleForLockedStateRedesign:t?.eligibleForLockedStateRedesign,isInLockedProTeamRevampExp:t?.isInLockedProTeamRevampExp});case h4.G.RECENTLY_VIEWED:return i.createElement(ID,{eligibleForLockedStateRedesign:t?.eligibleForLockedStateRedesign,isInLockedProTeamRevampExp:t?.isInLockedProTeamRevampExp});default:(0,C.xb)(e)}}(c,{eligibleForLockedStateRedesign:r(o),isInLockedProTeamRevampExp:n(a)})})}var Iq=r(24171),IQ=r(1581);let IK=(0,i9.rw)();function IX(e){let t=(0,l.wA)(),r=[i.createElement(IK,{tab:Iq.G.FILES,key:"files",selectedTab:e.selectedTab,onClick:()=>{t(eI.$T({view:"sharedWithYou",tab:Iq.G.FILES}))},mobileNavTabTitle:(0,k.t)("shared_with_you.toolbar.files")},(0,k.tx)("shared_with_you.toolbar.files")),i.createElement(IK,{tab:Iq.G.PROJECTS,key:"projects",selectedTab:e.selectedTab,onClick:()=>{t(eI.$T({view:"sharedWithYou",tab:Iq.G.PROJECTS}))},mobileNavTabTitle:(0,k.t)("shared_with_you.toolbar.projects")},(0,k.tx)("shared_with_you.toolbar.projects"))];return i.createElement(IQ.W,{resetTileSelectionOnMouseDown:!0,tabs:r})}function IZ(e){return i.createElement(iS.r,{toolbar:i.createElement(IX,{selectedTab:e.tab}),content:function(e){switch(e){case"files":return i.createElement(Iw,null);case"projects":return i.createElement(II,null)}}(e.tab)})}var IJ=r(412721),I0=r(834571),I1=r(501217);function I2(){return i.createElement("div",{className:N.cx.flex.p12.colorBgSelected.bRadius6.$},i.createElement("div",{className:N.cx.mr12.colorIcon.itemSelfCenter.$},i.createElement(ei.B,{svg:mN.A})),(0,k.tx)("sidebar.meta.this_team_is_for_education_users_only"),i.createElement(ee.Us,{target:"_blank",trusted:!0,href:"/education/"},(0,k.tx)("org_home_view_meta.learn_more")))}function I4({team:e}){let t=(0,l.wA)(),r=(0,ag.Rs)(av.kQI,{id:e.id}),a=!!r.data?.team?.hasPermission,[{data:n}]=(0,_.IT)((0,j.Xg)({teamId:e.id})),o=(n||[]).filter(e=>""!==e.name).length,s=(0,g.I7)("exp_fbg_project_limit_upsell");if(!(!e.subscription&&!e.org_id&&a&&o>=am.Wf)||s.getConfig().getValue("show_upsell",!1))return null;let c=i.createElement(ee.Us,{onClick:()=>{t((0,tu.to)({type:aE.V,data:{teamId:e.id,upsellSource:ab.b.STARTER_TEAM_FOOTER}}))},trusted:!0,trackingProperties:{trackingDescriptor:ed.c.UPGRADE_TO_A_PAID_PLAN},"data-testid":"starterTeamUpsellFooterUpgradeLink"},(0,k.tx)("file_browser.starter_team.upgrade_link"));return i.createElement(aI.fu,{name:"Starter Team Upsell Footer"},i.createElement("div",{className:M()(N.cx.flex.p32.mt16.bRadius6.justifyCenter.colorBorder.$,"starter_team_upsell_footer--borderStyle--pM4nA"),"data-testid":"starterTeamUpsellFooter"},i.createElement("div",{className:M()(N.cx.flex.flexColumn.itemsCenter.lh24.$,"starter_team_upsell_footer--contentWrapper--H-soB")},i.createElement("strong",null,o===am.Wf?(0,k.tx)("file_browser.starter_team.project_limit_warning",{maxProjects:am.Wf}):(0,k.tx)("file_browser.starter_team.project_limit_warning_over_max_projects")),i.createElement("p",{className:N.cx.alignCenter.$},(0,k.tx)("file_browser.starter_team.project_limit_info",{upgradeLink:c})))))}var I8=r(874109);let I5="professional_badge_onboarding_key",I3="seen_professional_badge_overlay";function I9({teamId:e}){let t=(0,l.d4)(e=>e.userTeamFlags),r=t[e]?.[I3],a=t[e]?.[wO.UA],n=(0,W.kO)(),o=(0,em.e)({overlay:eE.zMZ,priority:ep.N.DEFAULT_MODAL,experiment:{check:n,predicate:e=>e,postCheck:()=>!0}}),s=(0,l.wA)();return((0,i.useEffect)(()=>{a&&!r&&o.show()},[o,a,r]),o.isShowing)?i.createElement(ef.rq,{isShowing:o.isShowing,title:(0,k.tx)("pro_onboarding.see_whats_included"),description:(0,k.tx)("pro_onboarding.review_your_teams_plan_and_all_its_features_by_clicking_on_your_professional_badge"),targetKey:I5,onClose:()=>{s(aO.bE({all_team_flags:[{team_id:e,flags:{[I3]:!0}}]})),o.complete()},trackingContextName:iV.e0.PROFESSIONAL_BADGE_TOOLTIP,trackingProperties:wP.S.getTrackingProperties(e),emphasized:!0,shouldCenterArrow:fK.EL.FALLBACK,clickOutsideToHide:!0}):null}let I6="seen_pro_onboarding_unlimited_projects_overlay",I7=(0,eu.r1)(I6);function Ce({teamId:e}){let t=(0,es.md)(I7),r=(0,es.md)(wR.e),a=(0,l.d4)(e=>e.userTeamFlags),n=a[e]?.[wO.UA],o=a[e]?.[I3],s=(0,W.kO)(),{show:c,isShowing:m,complete:u}=(0,em.e)({overlay:eE._9u,priority:ep.N.DEFAULT_MODAL,experiment:{check:s,predicate:e=>e,postCheck:e=>!e}},[t,r]);return((0,d.h)(()=>{n&&o&&c({canShow:(t,r)=>r.some(t=>t.id===e)})}),m)?i.createElement(fQ.M,{isShowing:m,userFlagOnShow:I6},i.createElement(aI.fu,{name:wP.S.getTooltipTrackingContext("Unlimited Projects"),properties:wP.S.getTrackingProperties(e)},i.createElement(wF.jA,{dismissModal:u}))):null}function Ct(e){let t=(0,l.wA)(),r=i.useRef(null),a=(0,l.d4)(({dropdownShown:e})=>e),n=e.team.org_id??null,o=(0,X.Q)({currentOrgId:n,currentTeamId:null}),s=(0,l.d4)(e=>e.favorites.collapsedCustomSections),c=(0,ts.S)(),d=i.useMemo(()=>{if("loaded"===o.status)return(0,$.T0)(o.data,e.team.id)},[o,e.team.id]),m=void 0!==d;if("loaded"!==o.status)return i.createElement("div",{className:N.cx.flex.itemsCenter.colorIcon.$},i.createElement(ei.B,{svg:Ee.A}));let u=(0,$.gV)(o.data,n),_=e.dropdownKey&&a&&a.type===e.dropdownKey&&a.data&&a.data.targetRect,p=r.current&&a?.data?.targetRef===r.current&&a?.type===nw.jU,f=r.current,g=[];return e.showInvite&&g.push(i.createElement(iQ.c$,{key:"import",children:(0,k.tx)("file_browser.team.invite"),onClick:e.onInviteClick})),g.push(i.createElement(iQ.c$,{key:"share",children:(0,k.tx)("file_browser.team.view_members"),onClick:t=>e.onMembersClick(t)})),c&&g.push(i.createElement(iQ.c$,{key:"add-to-favorites-section",children:i.createElement("div",{className:N.cx.flex.justifyBetween.itemsCenter.w150.$},(0,k.tx)("favorited_resources.add_to_sidebar"),i.createElement(ei.B,{svg:wK.A})),onClick:a=>{a.stopPropagation(),r.current&&t(eI.j7({type:nw.jU,data:{targetRect:f.getBoundingClientRect(),targetRef:f,resourceId:e.team.id}}))}})),i.createElement("button",{className:N.cx.flex.itemsCenter.colorIcon.$,ref:r,onClick:r=>{e.dropdownKey&&f&&t(eI.j7({type:e.dropdownKey,data:{targetRect:f?.getBoundingClientRect()}}))}},i.createElement(ei.B,{svg:Ee.A}),_&&i.createElement(wj.Cf,{targetRect:a.data.targetRect,minWidth:172,maxWidth:172,propagateCloseClick:!0},g),p&&i.createElement(r_.t,{updateFavorite:(r,a)=>{(!u||r)&&(e.setFavorite(r,d?.resource.id,a),r&&a&&(s.delete(a),t(eN.U6({collapsedCustomSections:s})),rH.Fp({type:"topLevel",id:"custom",orgId:n,sectionId:a},!0)))},resourceId:e.team.id,resourceType:eA.bk.TEAM,isFavorited:m,currentSectionId:d?.resource.sidebarSectionId??void 0,sections:(o.data?.currentUser?.userSidebarSections?(0,J.oA)(o.data.currentUser.userSidebarSections):null)??[],customSectionOrdering:o.data.currentUser?.baseOrgUser?.fileBrowserPreferences?.orderedSidebarSections??[],showPoint:!0}))}var Cr=r(903891),Ca=r(132186),Cn=r(981911),Ci=r(56430),Cl=r(761273),Co=r(297536),Cs=r(937890),Cc=r(5313),Cd=r(50292);function Cm(e){let{team:t,orgTeamActionType:r}=e;switch(r){case ih.gO.CLICK_JOIN:case ih.gO.BYPASS_REQUEST:return i.createElement(i.Fragment,null,(0,k.tx)("file_browser.team.no_permissions_message",{teamName:t.name}),i.createElement("br",null),(0,k.tx)("file_browser.team.please_join_team"));case ih.gO.CLICK_REQUEST:return i.createElement(i.Fragment,null,(0,k.tx)("file_browser.team.no_permissions_message",{teamName:t.name}),i.createElement("br",null),(0,k.tx)("file_browser.team.please_request_to_join_team"));case ih.gO.CLICK_WITHDRAW:return(0,k.tx)("file_browser.team.request_to_join_team_is_pending",{teamName:t.name});default:return(0,k.tx)("file_browser.team.no_permissions_message",{teamName:t.name})}}function Cu({team:e}){let t=(0,l.d4)(t=>(0,ih.YP)(e,t.teamRoleRequests[e.id],(0,tU.getPermissionsState)(t),t.currentUserOrgId)),r=(0,l.d4)(t=>t.teamRoleRequests[e.id]),a=(0,l.wA)(),n=i.createElement("div",{className:"team_page_view--nonMemberViewContainer--uleTt"},i.createElement("div",{className:"team_page_view--header--sTxh6"},i.createElement(rm.nl,{team:e,size:rm.Pf.LARGE}),i.createElement("span",{className:"team_page_view--teamName--9MXYi text--fontPos18--rYXJb text--_fontBase--QdLsd"},e.name)),i.createElement("div",{className:"team_page_view--joinOptionText--McFNQ text--fontPos14--OL9Hp text--_fontBase--QdLsd"},i.createElement(Cm,{team:e,orgTeamActionType:t})),i.createElement("div",{className:"team_page_view--joinButton--waTM-"},i.createElement(Cn.m,{team:e,onJoin:(0,iE.GR)(a,e.id),onLeave:()=>{a(tu.to({type:ib.p,data:{teamId:e.id}}))},onJoinRequestOverride:()=>{a(tu.to({type:w7.$,data:{team:e}}))},onBypassRequestOverride:(0,iE.GR)(a,e.id,bh.e6.OWNER),onWithdrawRequestForTeamOverride:()=>{let e=r?.id;e&&a(w0.lT({requestId:e}))},isCardActive:!1})));return i.createElement(iS.r,{content:n})}function C_({teamId:e,selectedTab:t,upgradeModalType:r,showProOnboardingModal:a}){let n;let o=(0,a9.R)(t=>{let r=t.teams[e];return r&&{...r,canAdmin:(0,tU.canAdminTeam)(e,t),canEdit:(0,tU.canEditTeam)(e,t),canRead:(0,tU.canViewTeam)(e,t),isCurrentUserInTeam:(0,tU.hasViewerRoleAccessOnTeam)(e,t),canEditTeamContents:(0,tU.hasEditorRoleAccessOnTeam)(e,t)}}),s=(0,l.d4)(e=>e.currentUserOrgId),c=(0,l.d4)(e=>o&&o.org_id&&e.orgById[o.org_id]||null),m=(0,l.d4)(e=>e.avatarEditorState),f=(0,l.d4)(e=>e.loadingState),g=(0,l.d4)(e=>e.teamBilling),E=(0,l.wA)(),h=(0,eC._6)(),[y,v]=i.useState(!1),[{status:b,data:w}]=(0,_.IT)((0,j.Xg)({teamId:o?.id}),{revalidateOnMount:!0});(0,IJ.w)(e);let T=(0,l.d4)(e=>e.teamRoleRequests),I=!!(0,l.d4)(e=>o&&(0,tU.canManageOrgTeam)(o.id,e,e.user?.id)),[C,x]=i.useState(),S=(0,am.w5)(o)&&!o?.org_id,L=(0,ag.Rs)(av.GyZ,{teamId:e}),A="loaded"===L.status,R=i.useMemo(()=>(0,Co.X)(L),[L]),P=!!(R&&R.canAdmin),F=!!(R&&R.canEdit),O=!!(R&&R.canRead),D=(0,W.Yz)(),M=(0,Z.vt)(e),U=(0,K.R)(e),V=(0,K.jn)(),H=(0,W.Xs)(),$=i.useCallback(()=>{w6.S.getTeamTransfer({teamId:e}).then(({data:e})=>{x(e.meta)},()=>{x(void 0)})},[e]);(0,d.h)(()=>{let e=(0,wN.QL)("team_role_redemption");if(e&&parseInt(e)in bh.e6){let e=(0,Cs.VE)();e&&E(tO.F.enqueue({message:e})),(0,wN.EM)("team_role_redemption")}}),(0,d.h)(()=>{if(!(0,u.kc)().auto_accept_team_invites)return;let e={999:"owner",900:"admin",300:"edit",100:"view"},t=(0,wN.QL)("auto_role");t&&null!==o&&t in e&&((o?.canRead||"100"!==t)&&(o?.canEdit||"300"!==t)&&(o?.canAdmin||"900"!==t&&"999"!==t)&&E(tO.F.enqueue({message:(0,k.t)("join_team_flash.auto_accept_team_invite_modal",{teamName:o?.name||"",inviteType:e[t]})})),(0,wN.EM)("auto_role"))}),i.useEffect(()=>{$()},[C?.id,$]),i.useEffect(()=>{let e=Cl.um.loadingKeyForPayload();(0,fC.VP)(f,e)||(0,fC.D2)(f,e)||E(Cl.um())},[E,f]),i.useEffect(()=>{s&&E((0,w8.Rw)())},[E,s]),i.useEffect(()=>{if(o)v(!1);else{let t=iE.HD.loadingKeyForPayload({teamId:e}),r=`TEAM_GET_ACTION_${e}`;s&&!f[t]?E(iE.HD({teamId:e,disableFlashError:!0})):(0,fC.VP)(f,t)||(0,fC.VP)(f,r)||v(!0)}},[E,f,o,e,s]),i.useEffect(()=>{if(!o||o.org_id)return;let e=wx.m$.loadingKeyForPayload({teamId:o.id});if((0,fC.VP)(f,e)||(0,fC.D2)(f,e)||E(wx.m$({teamId:o.id})),t===au.A$.BILLING){let e=bz.Be.loadingKeyForPayload({teamId:o.id}),t=bz.NP.loadingKeyForPayload({teamId:o.id}),r=!(0,fC.D2)(f,e)&&!(0,fC.VP)(f,e),a=!(0,fC.D2)(f,t)&&!(0,fC.VP)(f,t);(r||a)&&E(bz.Q({teamId:o.id}))}else if(t===au.A$.MEMBERS){let e=wx.m$.loadingKeyForPayload({teamId:o.id});(0,fC.VP)(f,e)||(0,fC.D2)(f,e)||E(wx.m$({teamId:o.id}))}else if(t===au.A$.SETTINGS){let e=bz.Be.loadingKeyForPayload({teamId:o.id});P&&S&&!(0,fC.VP)(f,e)&&!(0,fC.D2)(f,e)&&E(bz.Q({teamId:o.id}))}},[E,t,f,o,c,S,P]);let G=(0,z.Pc)(),Y=(0,ag.Rs)(av.Cit,{teamId:e}),q=Y.data?.team?.currentTeamUser;i.useEffect(()=>{let e;if(!(o&&G&&q&&r)||!S)return;let a=r===eA.G_.DEV_MODE,n=r===eA.G_.WHITEBOARD?eA._Y.WHITEBOARD:eA._Y.DESIGN;if(n===eA._Y.DESIGN?e=q.designAccountTypeRequest?.status==="pending":n===eA._Y.WHITEBOARD&&(e=q.whiteboardAccountTypeRequest?.status==="pending"),!0===e&&E(aF.s.flash((0,k.t)("team_view.request_upgrade.request_already_sent"))),!1===e&&(0,eR.dk)(!!(0,h0.XG)(q,n)||a&&!(0,h0.HA)(q,n),e,o,G)){let e=(0,wN.QL)("entry_point")||(a?w1.i$.DowngradeEmail:w1.tc.DOWNGRADE_EMAIL);E(tu.to({type:Tt.PK,data:{editorType:n,team:o,entryPoint:e}}))}E(eI.$T({view:"team",teamId:o.id,teamViewTab:t}))},[E,o,G,q,r,S,t]),(0,d.h)(()=>{a&&E(tu.to({type:Cd.C,data:{teamId:e}}))});let Q=i.useCallback((e,t,r)=>{if(o){let a={team:o,entrypoint:"team_page_view",sectionId:r,favoriteId:t};e?E(eN.DN(a)):E(eN.ox(a))}},[E,o]),X=i.useCallback(()=>{sj.Ay.del(`/api/asset_transfer/${C?.id}`).then(()=>{x(void 0),E(tO.F.enqueue({message:(0,k.t)("asset_transfers.revoke.transfer_revoked")}))},()=>{E(tO.F.enqueue({message:(0,k.t)("asset_transfers.error_message.something_went_wrong_check_your_connection"),error:!0}))})},[C?.id,E]),J=i.useRef(!1);i.useEffect(()=>{!J.current&&"team"===h.view&&h.assetTransferRequestId&&E(tu.to({type:(0,I0.S)(),data:{selectedAssetTransferRequest:h.assetTransferRequestId}})),J.current=!0});let ee=i.useMemo(()=>{if(o)return{team:o,pending:(0,u.kc)().lg_query_asset_transfer_request_for_team?void 0:C,onRevokeTransfer:(0,u.kc)().use_revoke_modal_for_team_asset_transfer?void 0:X,updatePending:(0,u.kc)().lg_query_asset_transfer_request_for_team?void 0:$,billing:g}},[$,X,C,o,g]),et={view:"team",teamId:e,teamViewTab:au.A$.HOME},ea=(0,B.n)(Cr.am.MEMBERS,ee,!!o?.canAdmin,et),en=(0,B.n)(Cr.am.SETTINGS,ee,!!o?.canAdmin,et);i.useEffect(()=>{t===au.A$.MEMBERS?ea():t===au.A$.SETTINGS&&en()},[]);let ei=i.useCallback(e=>{let t={view:"team",teamId:o?o.id:"",teamViewTab:e};E(eI.$T(t))},[E,o]),el=i.useMemo(()=>{if(o&&O)switch(o.org_access){case eA.bU.PRIVATE:return(0,k.t)("file_browser.team_header.closed_team_header");case eA.bU.SECRET:return(0,k.t)("file_browser.team_header.secret_team_header")}},[o,O]),eo=i.useMemo(()=>{if(o&&O){if(o.org_access===eA.bU.PRIVATE)return(0,k.t)("file_browser.team_header.closed_team_subtitle");if(o.org_access===eA.bU.SECRET)return(0,k.t)("file_browser.team_header.secret_team_subtitle")}},[o,O]),es=(0,Ca.N)();if(!A)return i.createElement(er.qc,null);if(y||!O&&!s)return i.createElement(iB.S,{resourceType:nO.Ft.TEAM});if(!o)return null;if(!O)return i.createElement(Cu,{team:o});let ec=()=>{E((0,j.SX)({where:t2.Ah.FolderListView,team:o}))},ed=()=>{E(eI.oB()),en(),ei(au.A$.SETTINGS)},em="loaded"===b;n=o.org_id?em?i.createElement(i.Fragment,null,i.createElement(br,{viewId:`team-${e}`,teamId:e,team:o,eligibleForLockedStateRedesign:D(M),isInLockedProTeamRevampExp:H(U),folderList:w||[],showTeamNameOrAuthor:!1,onCreateNewFolder:F?ec:void 0,canEditTeamContents:F,canAdminTeam:P,selectedView:h}),i.createElement(yL.cx,null)):i.createElement(er.qc,null):i.createElement(i.Fragment,null,em?i.createElement(i.Fragment,null,i.createElement(Ci.J,{teamId:o.id}),i.createElement(br,{viewId:`team-${e}`,teamId:e,team:o,eligibleForLockedStateRedesign:D(M),isInLockedProTeamRevampExp:H(U),folderList:w||[],showTeamNameOrAuthor:!1,onCreateNewFolder:o.isCurrentUserInTeam?ec:void 0,canEditTeamContents:F,canAdminTeam:P,selectedView:h}),i.createElement(yL.cx,null)):i.createElement(er.qc,null));let eu=o.canAdmin?i.createElement(rf.FL,{entity:o,entityType:rp.ck.TEAM,avatarEditorState:m,size:40,dispatch:E,avatarSvg:rg.A,svgSizeRatio:.6}):i.createElement(rm.nl,{team:o,size:40,avatarSvg:rg.A,svgSizeRatio:.6}),e_=!O&&!I,ep=(()=>{if(e_)return;let e=es({team:o,onChangeTeamIconClick:()=>{E((0,i$.o)({team:o}))},onRenameClick:()=>{E(tu.to({type:(0,I1.h)(),data:{team:o}}))},teamRoleRequests:T}),t=[];return ee&&(F&&(c||t.push({displayText:(0,k.t)("teams_table.view_team_members"),callback:ea}),t.push({displayText:(0,k.t)("team_view.settings.view_settings"),callback:ed})),c&&t.push({displayText:(0,k.t)("teams_table.view_team_members"),callback:ea})),t.length>0&&t.push({displayText:"",separator:!0}),t.push(...e),t})(),ef=ep?{kind:iF.A.CUSTOM,key:iF.D.DROPDOWN,element:i.createElement(iH,{buttonAriaLabel:(0,k.t)("team_view.page_header_dropdown_label"),dropdownKey:`team-${o.id}`,dropdownOptions:ep})}:void 0,eg=o.pro_team&&(0,u.kc)().pro_onboarding_launch,eE=o.student_team?i.createElement(I2,null):(0,am.w5)(o)?void 0:i.createElement(I4,{team:o});return i.createElement(iS.r,{content:i.createElement(i.Fragment,null,n,eE),banner:i.createElement(wU,{teamId:e,selectedTab:t}),header:i.createElement(ik,{avatar:eu,title:o.name,rightSideActions:function(e,t,r,a,n,l,o,s){let c=[],d=!!Object.keys(l).includes(e.id)&&l[e.id]?.status===w3.c.PENDING,m=e.canAdmin&&!e.isCurrentUserInTeam,u={kind:ix.A.CUSTOM,key:iF.D.FAVORITE,element:i.createElement(rb.r,{setFavorite:a,favoriteType:eA.bk.TEAM,resourceId:e.id,isFavoriteHeaderStar:!0,orgId:e.org_id,containerStyle:la.HM})};m&&c.push({kind:ix.A.BUTTON,key:iF.D.JOIN_TEAM,displayText:(0,k.t)("file_browser.team.join_team"),onClick:(0,iE.GR)(t,e.id,bh.e6.ADMIN)});let _=s?r$.Ib.TEXT:void 0,f=s?(0,k.t)("locked_team.label.tooltip"):void 0;n&&!(0,h0.R$)(r,e.org_id)?c.push({kind:ix.A.CUSTOM,key:iF.D.NEW_PROJECT,element:i.createElement("div",{"data-tooltip":f,"data-tooltip-type":_},i.createElement(iP.P,{"data-onboarding-key":"team-view-new-project-cta",dataTestId:"team-view-new-project-cta",variant:s?"secondary":"inverse",disabled:s,onClick:()=>{t((0,j.SX)({team:{...e,canEdit:n,canAdmin:e.canAdmin,canEditTeamContents:n},where:t2.Ah.FolderListView}))},text:(0,k.t)("file_browser.team.add_project")}),i.createElement(Ce,{teamId:e.id})),showOnMobile:!0}):!e.org_id||e.org_access===eA.bU.SECRET||m||e.canAdmin||c.push({kind:ix.A.BUTTON,key:iF.D.REQUEST_TO_EDIT,displayText:d?(0,k.t)("file_browser.team.cancel_request"):(0,k.t)("file_browser.team.request_to_edit"),onClick:()=>{d?t(w0.lT({requestId:l[e.id]?.id})):t(tu.to({type:w7.$,data:{team:e,requesterCurrentLevel:bh.e6.VIEWER}}))}});let g=s?p.lQ:()=>{t(tu.to({type:(0,I8.T)(),data:{teamId:e.id,notifyOnSuccess:!0}}))};c.push({kind:ix.A.BUTTON,key:iF.D.INVITE,displayText:(0,k.t)("file_browser.team.share"),onClick:g,styleClass:s?Tc.EB:void 0,"data-tooltip":f,"data-tooltip-type":_}),e.org_id&&c.push(u);let E=i.createElement(Ct,{dropdownKey:"team-overflow-dropdown",team:e,showInvite:!0,onInviteClick:()=>{t(tu.to({type:(0,I8.T)(),data:{teamId:e.id,notifyOnSuccess:!0}}))},onMembersClick:o,setFavorite:a});return c.push({kind:ix.A.CUSTOM_BUTTON,key:iF.D.TEAM_OVERFLOW_MENU,showOnMobile:!0,hideOnDesktop:!0,element:E}),c}(o,E,G,Q,F,T,e=>{e.stopPropagation(),E(eI.oB()),ea(),ei(au.A$.MEMBERS)},D(M)||H(V&&U)),rightSideOfTitleAction:ef,pageHeaderIcon:void 0,badge:i.createElement(aq.Y,{direction:"horizontal"},el?i.createElement("div",{className:N.cx.ml4.mr4.$,"data-tooltip-type":r$.Ib.TEXT,"data-tooltip":el,"data-tooltip-offset-y":-4,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":200,"data-tooltip-subtext":eo},i.createElement(ew.In,{icon:"lock-16"})):void 0,eg?i.createElement(i.Fragment,null,i.createElement(aI.fu,{name:rJ._Y.PROFESSIONAL,properties:wP.S.getTrackingProperties(e)},i.createElement(aI.$z,{type:"button",onClick:()=>{E(tu.to({type:Cc.q,data:{teamId:o.id}}))},"data-onboarding-key":I5,className:"team_page_view--pointerOnHover--at7fp"},i.createElement(rJ.Ex,{color:rJ.zE.INFORMATIONAL,text:(0,k.t)("pro_onboarding.professional"),size:rJ.vj.EXTRA_LARGE}))),i.createElement(I9,{teamId:e})):void 0)})})}var Cp=r(733556),Cf=r(586459),Cg=r(941381);let CE={ctrlKey:"metaKey"};function Ch(e,t={}){let r=(0,l.wA)(),a=(0,l.Pj)(),n=i.useMemo(()=>({metaKey:e=>{let t=(0,vr.xS)(a.getState(),e);r(eX.V3({url:t}))},...t}),[t,r,a]);return i.useCallback((t,a)=>{let i=e(a),l=Object.keys(n).find(e=>t[e]);if(l){let e=n[f.Ay.mac?l:CE[l]||l];if(e){t.preventDefault(),e(i);return}}r(eI.$T(i))},[n,r,e])}var Cy=r(692630),Cv=r(314866),Cb=r(196495),Cw=r(548310),CT=r(654696);let CI="org_user_meta_content--teamsHeader--1p4jT org_user_meta_content--sectionHeader--snmkw text--fontPos13--xW8hS text--_fontBase--QdLsd";function CC(e){let t=(0,l.wA)(),r=(0,z.iZ)(),a=(0,Cw.w)(e.user),n=(0,l.d4)(t=>t.currentUserOrgId===e.orgId),o=()=>{t((0,tu.to)({type:CT.u}))};return i.createElement("div",{className:N.cx.flex.flexColumn.ml16.hFull.$},i.createElement(fb.x,{isLoading:e.isLoading},()=>i.createElement(i.Fragment,null,i.createElement("div",{className:"org_user_meta_content--userData--NrFpt"},i.createElement(rm.H8,{user:e.user,size:rm.Pf.LARGE}),i.createElement("div",{className:"org_user_meta_content--userName--JeBfv text--fontPos18--rYXJb text--_fontBase--QdLsd"},e.title),e.user.profile?.job_title&&i.createElement("div",{className:"org_user_meta_content--jobTitle--bWmsS text--fontPos11--2LvXf text--_fontBase--QdLsd"},i.createElement(rJ.Ex,{color:rJ.zE.INVERT,text:(0,Cv.lb)(e.user.profile?.job_title)}),e.userId===r?.id&&i.createElement("span",{className:"org_user_meta_content--blueLink--u44PB blue_link--blueLink--9rlnd",role:"button",tabIndex:0,onClick:o},(0,k.tx)("internal_profile.change_job_title"))),e.user.email&&i.createElement("div",{className:"org_user_meta_content--email--tgx7t text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.user.email),i.createElement(fO,{value:e.description??"",placeholder:(0,k.t)("internal_profile.add_a_description"),submit:e.submitDescription,formatter:fF,readOnly:e.isReadOnly,className:"org_user_meta_content--description--gYuxd text--fontPos13--xW8hS text--_fontBase--QdLsd"})),a&&e.user?.id===r?.id&&i.createElement(CL,{user:e.user}),n&&i.createElement(ea.P,{className:N.cx.flexShrink1.bt1.bSolid.colorBorder.$,innerClassName:N.cx.p16.borderBox.flex.flexColumn.$},i.createElement("div",{className:CI},(0,k.tx)("internal_profile.teams")),i.createElement(CA,{userId:e.userId,orgId:e.orgId}),i.createElement("div",{className:CI},(0,k.tx)("internal_profile.recent_projects")),i.createElement(Ck,{files:e.recents,isYourProfile:!e.isReadOnly})))))}function Cx(e){let t=(0,z.iZ)(),r=(0,l.wA)();return i.createElement(CC,{submitDescription:t=>{r(Cb.yJ({user:{id:e.userId,description:t},userInitiated:!0}))},isLoading:!e.user,isReadOnly:!t||t.id!==e.userId,description:e.user.description??null,title:e.user.name??e.user.handle??null,userId:e.userId,user:e.user,recents:e.recents,orgId:e.orgId})}function CN(e){let t=(0,l.wA)(),r=(0,z.iZ)();return i.createElement(CC,{isLoading:!e.user||!e.orgUser||!e.org,isReadOnly:!r||r.id!==e.userId,description:(e.orgId&&e.orgUser?e.orgUser.description:e.user.description)??null,title:e.user&&e.org?(0,k.t)("internal_profile.title",{userName:e.user.handle,orgName:e.org.name}):null,recents:e.recents,submitDescription:r=>{e.orgId&&e.orgUser&&t(TL.yJ({orgUser:{id:e.orgUser.id,org_id:e.orgId,description:r},userInitiated:!0}))},user:e.user,userId:e.userId,orgId:e.orgId})}function Ck(e){let t=(0,eL.FC)(),r=Ch(e=>({view:"folder",folderId:e})),a=i.useMemo(()=>{if(e.files.status!==Cf.r.SUCCESS)return[];let r=[],a=[];if(!e.files)return r;let n=new Set;for(let i of e.files.value){if(n.has(i.folder_id)||(n.add(i.folder_id),""===i.folder_name||null==i.folder_name))continue;let e={id:i.folder_id,name:i.folder_name,teamName:i.team_name,hasAccess:(0,tU.canViewFolder_DEPRECATED)(i.folder_id,t)};if(e.hasAccess?r.push(e):a.push(e),r.length+a.length>=5)break}return r.concat(a)},[e.files,t]);return i.createElement(fb.x,{state:e.files},()=>i.createElement("div",null,0===a.length&&i.createElement("div",{className:"org_user_meta_content--projectEmptyState--zusT6 text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.isYourProfile?(0,k.t)("internal_profile.your_recent_projects_will_appear_here"):(0,k.t)("internal_profile.their_recent_projects_will_appear_here")),a.map(e=>i.createElement("div",{key:e.id,onClick:e.hasAccess?t=>r(t,e.id):void 0,className:e.hasAccess?"org_user_meta_content--project--t-Nos org_user_meta_content--projectBase--ofeuj text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa":"org_user_meta_content--dimProject--a1lrh org_user_meta_content--dim--aNVfK org_user_meta_content--projectBase--ofeuj text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},i.createElement("span",{"data-tooltip-type":r$.Ib.TEXT,"data-tooltip":e.hasAccess?void 0:(0,k.t)("internal_profile.you_must_be_a_member_of_team_name",{teamName:e.teamName})},e.name)))))}function CS(e){return i.createElement("div",{className:"org_user_meta_content--userProfileNotification--qHv4P"},i.createElement("div",{className:"org_user_meta_content--userProfileNotificationTitle--lDm8h text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L"},e.title),i.createElement("div",{className:"org_user_meta_content--userProfileNotificationText--H2ZHJ text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L"},e.text),i.createElement("div",{className:"org_user_meta_content--userProfileNotificationAction--NQLlj"},e.action))}function CL(e){let{profile:t}=e.user,r=(0,l.wA)();return i.createElement(i.Fragment,null,t?.images?null:i.createElement(CS,{title:(0,k.t)("internal_profile.profile_image_nudge.title"),text:(0,k.t)("internal_profile.profile_image_nudge.text"),action:i.createElement(ee.N_,{trusted:!0,className:"org_user_meta_content--userProfileNotificationActionLink--sVVav",onClick:()=>{r((0,i$.X)({entity:e.user,entityType:rp.ck.CURRENT_USER,shape:"CIRCLE"})),(0,H.Cu)({trackingContext:iV.e0.FILE_BROWSER,context:"job_title",text:"Update Photo"})}},(0,k.tx)("internal_profile.profile_image_nudge.action"))}))}let CA=(0,l.Ng)((e,t)=>({permissionState:e}))(function(e){let[t,r]=i.useState(null);i.useEffect(()=>{b7.k.getTeams({userId:e.userId,orgId:e.orgId||void 0}).then(e=>{r(e.data.meta)}).catch(e=>{console.error("Unable to load org user teams",e)})},[e.userId,e.orgId]);let a=Ch(e=>({view:"team",teamId:e.id})),n=(t||[]).sort((t,r)=>{let a=(0,tU.canViewTeam)(t.id,e.permissionState),n=(0,tU.canViewTeam)(r.id,e.permissionState);return a&&!n?-1:!a&&n?1:0});return i.createElement(fb.x,{isLoading:!t},()=>i.createElement("div",{className:N.cx.flex.flexColumn.gap8.$},n.map(t=>{let r=(0,tU.canViewTeam)(t.id,e.permissionState);return i.createElement(eJ.rE,{key:t.id,entity:t,size:12,hideFallbackInitial:!0,onClick:r?a:void 0,className:`org_user_meta_content--teamListItem--gXcF- text--fontPos13--xW8hS text--_fontBase--QdLsd ${r?"":"org_user_meta_content--dim--aNVfK"}`,"data-tooltip-type":r$.Ib.TEXT,"data-tooltip":r?void 0:(0,k.t)("internal_profile.you_re_not_a_member_of_this_team"),"data-tooltip-offset-y":4})}),t&&0===t.length&&(0,k.tx)("internal_profile.no_teams_in_common")))});function CR(e){let t=(0,cP.i8)(e.publishedPlugins),r=(0,cP.LH)((0,cP.ky)(t,e.userId),e.org),a=Object.keys(r).map(e=>r[e]),n=(0,ta.LN)(a);return 0===n.length?null:i.createElement(i.Fragment,null,i.createElement("div",{className:"user_org_resources--sectionHeader--MUg1j internal_user_profile_page_view--sectionHeader--3NNNT text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,k.tx)("file_browser.settings.plugins_published",{orgName:e.org.name})),i.createElement("div",{className:"user_org_resources--container---l25- profile_resources_grid--_resourcesGridTemplateColumns--19JO6"},n.map(e=>i.createElement(dR.cS,{pluginId:e.id,showInstallCount:!0,key:`plugin-${e.id}`,viewContext:"UserOrgResources"})),i.createElement(dR.hT,{numResources:n.length})))}var CP=r(204545);function CF(e){let{org:t}=e,r=(0,l.d4)(r=>(t&&t.id&&r.orgUsersByOrgId[t.id]||{})[e.user.id]);return t?i.createElement(CN,{orgId:t.id,recents:e.recents,userId:e.user.id,user:e.user,org:t,orgUser:r}):i.createElement(Cx,{orgId:null,recents:e.recents,userId:e.user.id,user:e.user})}let CO={showInFolder:!0,open:!0,openNewTab:!0,restoreFromVersion:!0,rename:!0,share:!0,copyLink:!0,duplicateToDrafts:!0,delete:!0,removeFromRecents:!1,createBranch:!0,publishOrgTemplate:!1,moveFile:!0,pinToWorkspace:!1},CD=e=>{let t=e.user.id,r=(0,l.wA)(),a=(0,l.d4)(e=>e.selectedView),n=e.orgUser&&e.orgUser.org_id,o=(0,l.d4)(e=>e.currentUserOrgId),s=void 0===n?o:n,c=(0,l.d4)(e=>s&&e.orgById[s]||null),d=(0,u.kc)().xr_debounce_threshold&&c,m="user"===a.view?a.userViewTab:void 0;i.useEffect(()=>{r((0,tu.ES)({type:Cy.E}))},[r,m]);let _=(0,l.d4)(e=>e.userFlags);i.useEffect(()=>{_.seen_profile||r(ek.b({seen_profile:!0}))},[r,_.seen_profile]);let f=(0,l.d4)(e=>e.tileSortFilterStateByView.user),g=i.useMemo(()=>({srcTileSortFilterConfig:{filters:{creator:lx.rJ.ANY,fileType:lx.t2.ANY},sort:{key:lx.C0.ACCESSED_AT,dir:lx.ue.DESC}},tileSortFilterConfig:f,sortKeys:[lx.C0.NAME,lx.C0.CREATED_AT,lx.C0.ACCESSED_AT]}),[f]),E=i.useMemo(()=>{let e=new URLSearchParams;return s&&e.append("org_id",s),`/api/user/${t}/recents${""===e.toString()?"":"?"}${e.toString()}`},[t,s]),[h,y]=i.useState([]),[v,b]=i.useState(!0),[w,T]=i.useState(null),[I,x]=i.useState(0),S=i.useCallback(e=>{T(e),r(tO.F.enqueue({message:(0,k.t)("internal_profile.an_error_occurred"),error:!0}))},[r]),{fetchNext:L,hasMore:A}=(0,Em.WQ)(E,S,55),R=i.useCallback(async()=>{if(!A)return;let e=async()=>{try{let e=await L();if(!Array.isArray(e))return;y(t=>[...t,...e])}catch(e){S(e)}};await e()},[L,S,A]);i.useEffect(()=>{(async()=>{h.length<55&&I<3&&(await R(),x(e=>e+1),b(!1))})()},[I]);let P=i.useMemo(()=>h.filter(e=>{switch(f.filters.fileType){case lx.t2.ANY:return!0;case lx.t2.DESIGN:return"design"===e.editor_type;case lx.t2.FIGJAM:return"whiteboard"===e.editor_type;case lx.t2.PROTOTYPE:return!1;case lx.t2.SITES:return"sites"===e.editor_type;case lx.t2.SLIDES:return"slides"===e.editor_type;default:(0,C.xb)(f.filters.fileType)}}),[h,f]),F=i.useMemo(()=>w?{status:Cf.r.FAILURE,error:w}:v?{status:Cf.r.LOADING}:{status:Cf.r.SUCCESS,value:P},[v,w,P]),O=(0,Cp.J)(()=>c&&c.community_profile_id?r(Cg.pZ({profileId:c.community_profile_id})):Promise.resolve([]),[r,c]),D=e=>{r(eI.$T({view:"user",userId:t,userViewTab:e}))},M=m===i3.o.INTERNAL_PROFILE?[i.createElement("div",{key:"sort-filter",className:"internal_user_profile_page_view--hideFilterRightPadding--fd-Z-"},i.createElement(ng.$4,{options:g,hideSortMenu:!0,selectedView:a,dispatch:r}))]:[],B=i.createElement(ng.g2,{leftSide:d?i.createElement(yU.f,{tabs:[i.createElement(yU.r,{key:i3.o.INTERNAL_PROFILE,tab:i3.o.INTERNAL_PROFILE,isSelected:m===i3.o.INTERNAL_PROFILE,onClick:()=>D(i3.o.INTERNAL_PROFILE),tabName:(0,k.t)("internal_profile.file_contributions")}),i.createElement(yU.r,{key:i3.o.INTERNAL_PROFILE_POSTS,tab:i3.o.INTERNAL_PROFILE_POSTS,isSelected:m===i3.o.INTERNAL_PROFILE_POSTS,onClick:()=>D(i3.o.INTERNAL_PROFILE_POSTS),tabName:(0,k.t)("internal_profile.posts")})]}):M,rightSide:d?M:[]}),U=i.useCallback((e,t,n)=>{vE({tile:e,index:n,dispatch:r,selectedView:a,isListView:!1})},[a,r]),{showing:V,show:W,data:H}=(0,lT.L)(),$=i.useCallback((e,t,r)=>{W({data:{tile:e,targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:r}})},[W]),j=i.useMemo(()=>F.status===Cf.r.SUCCESS?F.value.map(e=>(function(e){let t={...e,name:e.source_file_name?e.source_file_name+": "+e.name:e.name,description:null,created_at:"",url:"",creator_id:"",deleted_at:null,trashed_at:null,trashed_user_id:null,has_proto_link_password:!1,license:null,proto_link_access:null,touched_at:new Date(1e3*e.timestamp).toString(),prototype_url:"",updated_at:"",file_repo_id:null,source_file_key:null,is_try_file:!1};return(0,tQ.fA)(t)})(e)):[],[F]);return(0,aI.T8)(i.createElement(iS.r,{scrollableContainerClass:"internal_user_profile_page_view--pageContainer--FQu11",containerClass:"internal_user_profile_page_view--pageContainerInner--2Ep2e",content:i.createElement("div",{className:"internal_user_profile_page_view--content--X0lTp"},i.createElement("div",{className:"internal_user_profile_page_view--viewbar--eprew"},B),m===i3.o.INTERNAL_PROFILE&&(O.status===Cf.r.SUCCESS&&F.status===Cf.r.SUCCESS?i.createElement(i.Fragment,null,c&&i.createElement(CR,{userId:t,org:c,publishedPlugins:O.value}),!d&&i.createElement("div",{className:"internal_user_profile_page_view--sectionHeader--3NNNT text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,k.tx)("internal_profile.file_contributions")),(0,u.kc)().user_profile_to_itemsview?i.createElement(ea.P,null,i.createElement(y5.d,{items:j??[],handleOpenTile:U,handleOpenDropdown:$,sortConfig:f.sort,viewType:lx.XU.GRID,containerClassName:N.cx.pr32.pl8.$,sortBy:p.lQ}),(()=>{let e=H?.tile??null;return i.createElement(aI.fu,{name:iV.e0.TILES_VIEW_DROP_DOWN,enabled:V,properties:{tileType:e?.type,tileFileId:e?.type===tQ.nb.FILE?e?.fileLG.key:void 0}},i.createElement(lI.i,{tileActions:CO,selectedTiles:e?[e]:[],tile:e,openTile:()=>{e?.type===tQ.nb.FILE&&(0,tz.Tq)(r,e.fileLG)},dropdownVisible:V}))})()):i.createElement(CB,{files:F,fetchNext:R})):i.createElement(er.qc,null)),m===i3.o.INTERNAL_PROFILE_POSTS&&c&&i.createElement(yC,{currentOrgId:c.id,selectedUser:e.user})),metaContent:i.createElement(CF,{user:e.user,recents:F,org:c,orgUser:e.orgUser})}),iV.e0.USER_DETAILS,{view:"org_user",userId:t})};function CM(e){return i.createElement(CD,{key:e.user.id,user:e.user,orgUser:e.orgUser})}let CB=(0,l.Ng)((e,t)=>({permissionState:e}))(function(e){let{fetchNext:t}=e,r=Ch(e=>({view:"fullscreen",fileKey:e.key,editorType:(0,Ea.wN)(e.editorType||"design")})),a=i.useCallback((e,r)=>{e+r.trackHeight>=r.scrollHeight&&t()},[t]),n=i.useMemo(()=>e.files.status===Cf.r.SUCCESS?e.files.value.map(e=>({key:e.key})):[],[e.files]),l=(0,ag.p)(av.sMs,n),o=i.useMemo(()=>{let e={};return l.forEach(t=>{"loaded"===t.result.status&&(e[t.args.key]=!!t.result.data.file?.hasPermission)}),e},[l]);return i.createElement(fb.x,{className:"internal_user_profile_page_view--loading--R8iYF",state:e.files},t=>i.createElement(i.Fragment,null,i.createElement("div",{className:"internal_user_profile_page_view--fileListHeader--HBbTz internal_user_profile_page_view--grid--wdUAM text--fontPos13--xW8hS text--_fontBase--QdLsd"},i.createElement("div",null,(0,k.tx)("internal_profile.file_name")),i.createElement("div",null),i.createElement("div",{className:"internal_user_profile_page_view--projectHeader--1xRXi"},(0,k.tx)("internal_profile.project")),i.createElement("div",{className:"internal_user_profile_page_view--activityHeader--4Qatb"},(0,k.tx)("internal_profile.last_activity"))),i.createElement(ea.P,{onScroll:a,className:"internal_user_profile_page_view--scrollContainer--yPmA8",innerClassName:"internal_user_profile_page_view--scrollContainerInner--jae6x"},t.map(t=>{let a=o[t.key]?a=>{e.dispatch(eX.UN({fileKey:t.key,entrypoint:"internal user profile page view"})),r(a,{key:t.key,editorType:t.editor_type})}:void 0;return i.createElement("a",{onClick:a,href:(0,tX.rl)(t),key:t.key,className:"internal_user_profile_page_view--recentFile--zdHK5 internal_user_profile_page_view--grid--wdUAM text--fontPos13--xW8hS text--_fontBase--QdLsd"},i.createElement(rv.NU,{size:rP.y.SMALL,file:{touched_at:null,updated_at:null,...t},noBorder:!0}),i.createElement("div",{className:"internal_user_profile_page_view--filename--pUgkH ellipsis--ellipsis--Tjyfa"},null!==t.source_file_name&&i.createElement(i.Fragment,null,t.source_file_name,i.createElement(ei.B,{svg:CP.A,className:"internal_user_profile_page_view--branchIcon--CcWO2"})),t.name),i.createElement("div",{className:"internal_user_profile_page_view--projectName--50iEN ellipsis--ellipsis--Tjyfa"},t.folder_name),i.createElement("div",{className:"internal_user_profile_page_view--activity--CsNi8"},i.createElement(lB.h1,{date:new Date(1e3*t.timestamp)})))}))))}),CU=(e,t,r)=>r?Promise.resolve([]):b7.k.getTeams({userId:t}).then(e=>e.data.meta).catch(e=>{throw e}),CV=(e,t,r)=>e&&e.id===r?Promise.resolve(e):b7.k.getUser({userId:r}).then(e=>e.data.meta).catch(e=>{throw t(aF.s.error("Failed to get user",5e3)),console.warn("Failed to get user files"),e}),CW=(e,t,r)=>r?e(TL.I1({orgId:r,userId:t})):Promise.resolve(null),CH={[i3.o.INTERNAL_PROFILE]:{Component:CM},[i3.o.INTERNAL_PROFILE_POSTS]:{Component:CM},[i3.o.PLUGINS]:{Component:i.Fragment}};function C$(e){return i.createElement(e.component,{...e.context})}function Cj(e){let t=(0,l.wA)(),r=(0,z.iZ)(),a=e.orgId,n=(0,l.d4)(e=>e.currentUserOrgId),o=void 0===a?n:a,s=(0,Cp.J)(()=>{let a=CV(r,t,e.userId),n=CW(t,e.userId,o);return Promise.all([a,CU(t,e.userId,o),n]).then(([r,a,n])=>((0,tz.hL)(r.handle),{userId:e.userId,user:r,teams:a,orgUser:n,profileHandle:r.community_profile_handle||null,on404Redirect:a.length>0||n?()=>{t(eI.$T({view:"user",userId:e.userId,orgId:o,userViewTab:i3.o.INTERNAL_PROFILE}))}:()=>{c.Ay.redirect("/404")}}))},[t,r,o,e.userId]),{tab:d}=e;if(!d)return null;let{Component:m}=CH[d];return i.createElement(fb.x,{className:"user_page_view--loadingContainer--vr9Zb",state:s,failure:void 0},t=>i.createElement(C$,{component:m,tab:d,userId:e.userId,context:t}))}function CG({showingFileBrowserLoader:e}){let t=(0,eC._6)();i.useEffect(()=>{(0,H.o5)(t)},[t]);let r=function(){let e=(0,l.wA)(),t=(0,z.Pc)(),r=(0,Y.dq)(),a=(0,eC._6)(),n=(0,eL.FC)(),o=(0,nt.cD)(),s=(0,Y.sZ)(),c=(0,l.d4)(e=>e.teams),d=(0,l.d4)(e=>e.search),m=(0,W.yq)();switch(a.view){case"communityHub":{let{content:e,key:t}=hX(a);return{pageContent:i.createElement(iS.r,{toolbar:void 0,content:e,collapseSidebarOnTabletView:!0,key:t}),CustomPageLayout:hZ}}case"deletedFiles":return{pageHeaderContent:(0,k.t)("file_browser.tool_bar.trash"),pageContent:(0,aI.T8)(i.createElement(bl,{key:"trashed",selectedTab:bi.FILES}),iV.e0.FILE_BROWSER,{view:"trashed"})};case"litmus":if(!(0,h3.OF)())return null;switch(a.subView){case"projects":return{pageHeaderContent:"Litmus",pageContent:i.createElement(h5.AJ,null)};case"feed":return{pageHeaderContent:"Litmus",pageContent:i.createElement(h5.YA,null)}}case"trashedFolders":return{pageHeaderContent:(0,k.t)("file_browser.tool_bar.trash"),pageContent:(0,aI.T8)(i.createElement(bl,{key:"trashed",selectedTab:bi.FOLDERS}),iV.e0.FILE_BROWSER,{view:"trashed"})};case"draftsToMove":return{pageHeaderContent:(0,k.t)("file_browser.tool_bar.drafts_to_move"),pageContent:i.createElement(wE,{key:"draftsToMove"})};case"folder":if(a.folderId===t?.drafts_folder_id)return{pageHeaderContent:(0,k.t)("file_browser.tool_bar.drafts"),pageHeaderActions:Cz({from:h1.f6.FILE_BROWSER_TOPBAR_DRAFTS,user:t,currentOrgId:r,folderId:t.drafts_folder_id}),pageContent:(0,aI.T8)(i.createElement(b1,{folderId:a.folderId,key:"drafts",userId:t.id}),iV.e0.FILE_BROWSER_DRAFTS,{orgId:r,teamId:o})};{let e=a.shouldShowRenameModal||!1;return{pageContent:(0,aI.T8)(i.createElement(TC,{folderId:a.folderId,key:`folder-${a.folderId}`,shouldShowRenameModal:e}),iV.e0.FOLDER_PAGE,{orgId:r,teamId:o,folderId:a.folderId})}}case"workspace":switch(a.subView){case eQ.V0.ADMIN:return{pageContent:(0,aI.T8)(i.createElement(R.y$,{workspaceId:a.workspaceId,selectedTab:a.selectedTab}),iV.e0.WORKSPACE_ADMIN_SETTINGS_PAGE,{workspaceId:a.workspaceId,workspaceViewTab:a.selectedTab})};case eQ.V0.DIRECTORY:return{pageContent:(0,aI.T8)(a.workspaceId?i.createElement(lZ,{key:a.workspaceId,workspaceId:a.workspaceId}):i.createElement(iM,null),iV.e0.WORKSPACE_DIRECTORY_PAGE,{workspaceId:a.workspaceId,workspaceGroupViewTab:a.selectedTab})};default:(0,C.xb)(a)}case"licenseGroup":if(a.subView===ez.GN.ADMIN)return{pageContent:(0,aI.T8)(i.createElement(R.VY,{licenseGroupId:a.licenseGroupId,selectedTab:a.selectedTab}),iV.e0.LICENSE_GROUP_ADMIN_SETTINGS_PAGE,{licenseGroupId:a.licenseGroupId,licenseGroupViewTab:a.selectedTab})};(0,C.xb)(a);case"org":return{pageHeaderContent:s?i.createElement(aa,null):void 0,pageHeaderActions:[i.createElement(TS,{orgId:a.orgId,key:"org-page-header-actions"})],pageContent:(0,aI.T8)(i.createElement(Ir,{orgId:a.orgId,selectedTab:a.orgViewTab}),iV.e0.ORG_PAGE,{orgId:a.orgId,orgViewTab:(a.orgViewTab===tE.X.HOME?"HOME":a.orgViewTab)||""})};case"orgAdminSettings":let _=(0,L.aO)(a.orgAdminSettingsViewTab,a.orgAdminSettingsViewSecondaryTab,{getIsNewInvoiceUiEnabled:m,showResourceConnectionInviteModal:!!((0,u.kc)().fc_general&&a.showResourceConnectionInviteModal),showResourceConnectionFlyout:!!((0,u.kc)().fc_general&&a.showResourceConnectionFlyout)});return{pageContent:(0,aI.T8)(i.createElement(R.vW,{selectedTab:a.orgAdminSettingsViewTab,selectedSecondaryTab:_,selectedExtensionId:a.selectedExtensionId,selectedWorkspaceId:a.selectedWorkspaceId,showResourceConnectionInviteModal:a.showResourceConnectionInviteModal,showResourceConnectionFlyout:a.showResourceConnectionFlyout}),iV.e0.ORG_ADMIN_SETTINGS_PAGE,{orgId:r,orgViewTab:a.orgAdminSettingsViewTab,source:a.orgAdminSettingsViewTab||"dashboard",orgViewSecondaryTab:_})};case"abandonedDraftFiles":return{pageContent:(0,aI.T8)(i.createElement(R.dZ,{abandonedDraftFolderId:a.abandonedDraftFolderId,planType:a.adminPlanType,planId:a.planId}),iV.e0.ABANDONED_DRAFTS_PAGE,a.adminPlanType===h2.O.ORG?{orgId:a.planId}:{teamId:a.planId})};case"orgDomainManagement":let p=[{text:(0,k.t)("general.admin"),onClick:()=>{e(eI.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:eq.J7.DASHBOARD}))}},{text:(0,k.t)("org_dashboard.settings"),onClick:()=>{e(eI.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:eq.J7.SETTINGS}))}}];return{pageContent:(0,aI.T8)(i.createElement(R.Oe,null),iV.e0.ORG_DOMAIN_MANAGEMENT_PAGE,{orgId:r}),pageHeaderContent:i.createElement(x.B,{items:p})};case"billingGroupDashboard":return{pageContent:(0,aI.T8)(i.createElement(R.wu,{selectedTab:a.selectedTab}),iV.e0.BILLING_GROUP_DASHBOARD_SETTINGS_PAGE,{orgId:r,orgViewTab:a.selectedTab})};case"recentsAndSharing":let g=a.tab??h4.G.RECENTLY_VIEWED,E=Cz({from:h1.f6.FILE_BROWSER_TOPBAR_RECENTS,user:t,currentOrgId:r,folderId:t.drafts_folder_id});return{pageHeaderContent:(0,k.t)("file_browser.tool_bar.recents"),pageHeaderActions:E,pageContent:(0,aI.T8)(i.createElement(Iz,{selectedTab:g,userId:t.id,accountModalTab:a.accountModalTab,emailPolicyToUnsubscribeFrom:a.emailPolicyToUnsubscribeFrom}),iV.e0.FILE_BROWSER,{view:"recentsAndSharing",userSpace:r?iV.qo.ORG:iV.qo.PERSONAL})};case"resourceUnavailable":return{pageContent:i.createElement(iB.S,{resourceType:a.resourceType})};case"search":{let{searchScope:e,query:t}=d.parameters,r=!f.Ay.mobile;return{pageHeaderContent:i.createElement(CY,{query:t}),pageContent:(0,aI.T8)(i.createElement(ng.bS,null),iV.e0.UNIFIED_SEARCH,{showInternalModal:r&&e!==h8.Rx.COMMUNITY,showCommunityModal:r&&e===h8.Rx.COMMUNITY})}}case"sharedWithYou":return{pageContent:i.createElement(IZ,{tab:a.tab})};case"limitedTeamSharedProjects":return{pageContent:i.createElement(Tx,null)};case"team":{let e=c[a.teamId],t=a.teamViewTab??(0,nt.ZP)(e,n);return{pageContent:(0,aI.T8)(i.createElement(C_,{teamId:a.teamId,selectedTab:t,upgradeModalType:a.upgradeModalType,showProOnboardingModal:a.isProUpgrade,key:`team-${a.teamId}`}),iV.e0.TEAM_PAGE,{teamId:a.teamId,canUpgradeToPro:(0,am.hp)(e,n),userSpace:r?iV.qo.ORG:iV.qo.PERSONAL,canEdit:(0,tU.canEditTeam)(a.teamId,n),orgId:r})}}case"teamAdminConsole":{let e=a.teamAdminConsoleViewTab??(a.isProTeam?au.Iv.DASHBOARD:au.Iv.MEMBERS),t=(0,A.X$)(e,a.teamAdminConsoleViewSecondaryTab,{getIsNewInvoiceUiEnabled:m});return{pageContent:(0,aI.T8)(i.createElement(R.JC,{teamId:a.teamId,selectedTab:e,selectedSecondaryTab:t,shouldShowDevModeSuggestedUpgradesModal:!!a.shouldShowDevModeSuggestedUpgradesModal,showResourceConnectionInviteModal:a.showResourceConnectionInviteModal,showResourceConnectionFlyout:a.showResourceConnectionFlyout}),iV.e0.TEAM_ADMIN_PAGE,{teamId:a.teamId,teamAdminConsoleViewTab:e,teamAdminConsoleViewSecondaryTab:t})}}case"teamFeed":let h=[{text:(0,k.t)("fig_feed.feed"),onClick:()=>{e(eI.$T({view:"teamFeed"}))}}],y=[i.createElement(yS,{key:"create-feed-post-button"})];return{pageHeaderContent:i.createElement(x.B,{items:h}),pageHeaderActions:y,pageContent:i.createElement(Cq,{postUuid:a.postUuid,creatorId:a.creatorId})};case"user":return{pageHeaderContent:(0,k.t)("internal_profile.profile"),pageHeaderActions:t.community_profile_handle&&t.id===a.userId?[i.createElement(Id,{key:"viewCommunityProfileAction"})]:void 0,pageContent:i.createElement(Cj,{userId:a.userId,tab:a.userViewTab,orgId:a.orgId})};default:return null}}();if(!r)return null;let{CustomPageLayout:a,pageContent:n}=r;return a?i.createElement(bc,null,i.createElement(a,null,!e&&n)):i.createElement(bc,null,i.createElement(id,{showingFileBrowserLoader:e,pageHeaderContent:r.pageHeaderContent,pageHeaderActions:r.pageHeaderActions},n))}function CY(e){return e.query?i.createElement("div",{className:N.cx.flex.columnGap8.$},i.createElement("span",{className:N.cx.flexShrink0.$},i.createElement(S.E,{color:"secondary"},(0,k.tx)("search.search_results_for"))),i.createElement("div",{className:N.cx.flex.fontMedium.minW0.$},"\u201C",i.createElement(S.E,{truncate:!0},e.query),"\u201D")):i.createElement("div",{className:N.cx.flex.columnGap8.$},i.createElement("span",{className:N.cx.flexShrink0.$},i.createElement(S.E,{color:"secondary"},(0,k.tx)("search.search_results"))))}function Cz({from:e,user:t,currentOrgId:r,folderId:a}){if((0,u.kc)().ps_benchmark&&t&&(0,h0.R$)(t,r))return[];let n=e===h1.f6.FILE_BROWSER_TOPBAR_RECENTS?i.createElement(wY.qr,{key:"resourceCreationAction",from:e,dropdownType:wQ.x,disabled:!1,folderId:a,leftContent:i.createElement(Io,null)}):i.createElement(wY.kS,{key:"resourceCreationAction",from:e,dropdownType:wQ.x,disabled:!1,folderId:a});return[i.createElement(Ic,{key:"getDesktopApp"}),n]}function Cq(e){return(0,hJ.w)()?i.createElement(yO,{postUuid:e.postUuid,creatorId:e.creatorId}):null}var CQ=r(794174),CK=r(158875),CX=r(797129),CZ=r(524173),CJ=r(310908),C0=r(758259),C1=r(416618),C2=r(622139);let C4="add_collaborators--emailListItem--dnvC-";function C8({selectedView:e}){let[t,r]=i.useState(["","",""]),a=(0,l.d4)(t=>t.teams[e.teamId]),n=(0,l.d4)(e=>e.teamCreation),o=(0,l.d4)(e=>e.payment),s=(0,l.wA)(),c=i.useCallback(()=>{a&&s(eI.$T({view:"team",teamId:a.id}))},[s,a]),d=i.useCallback((e,a)=>{if(a>=t.length)return;let n=[...t];n[a]=e,r(n)},[t]),m=i.useCallback(()=>{r([...t,""])},[t]),u=i.useCallback(()=>{let e=!!n.isEduTeam;o.promo?s(C0.g_({teamId:a.id,teamName:a.name,previousView:{view:"team",teamId:a.id}})):e?s(bf.Vm({teamId:a.id,showBreadcrumbs:!0})):s(eI.$T({view:"teamUpgrade",teamFlowType:nO.SC.UPGRADE_EXISTING_TEAM,teamId:a.id,paymentStep:C2.tn.UPGRADE_NEW_TEAM,previousView:{view:"team",teamId:a.id},planType:nO.Sc.TEAM}))},[s,a,o.promo,n.isEduTeam]),_=i.useCallback(()=>t.filter(e=>e).map(e=>e.trim()),[t]),p=i.useCallback(()=>{s((0,C1.rq)({emails:_(),resourceType:eA.vt.TEAM,resourceIdOrKey:a.id,level:bh.e6.EDITOR,onSuccess:()=>{s(wx.r1({loading:!1})),u()}}))},[_,a,u,s]);return i.createElement(aI.fu,{name:"Add Collaborators",properties:{teamId:a?.id}},i.createElement("div",null,i.createElement(CX.O,{menu:i.createElement(CK.X,{onClick:c},i.createElement(ei.B,{svg:nx.default,className:"add_collaborators--modalCloseX--sJGp5"}))},i.createElement(CJ.J,{index:2}),i.createElement(CZ.JR,null,(0,k.tx)("team_creation.add_your_collaborators")),i.createElement(CZ.Kh,null,(0,k.tx)("team_creation.you_can_update_user_permissions_on_the_team_page_after_setting_up")),i.createElement("div",{className:"add_collaborators--formContainer--zTKXv"},i.createElement("div",{className:"add_collaborators--emailInputsContainer--19ZBc"},t.map((e,t)=>i.createElement(ee.il,{key:`collaborator-email-input-${t}`,className:C4,value:e,onChange:e=>d(e.target.value,t),maxLength:255,placeholder:(0,k.t)("team_creation.email")}))),i.createElement(ee.nR,{className:C4,onClick:m},(0,k.tx)("team_creation.add_another")),i.createElement("div",{className:"add_collaborators--spacing--2VA7s"}),i.createElement("div",{className:"add_collaborators--ctaContainer--VGMvb"},i.createElement(ee.nD,{disabled:0===_().length,onClick:p,trackingProperties:{numCollaborators:_().length}},(0,k.tx)("team_creation.continue")),i.createElement(ee.Ph,{onClick:u,trusted:!0},(0,k.tx)("team_creation.skip_for_now")))))))}var C5=r(994190),C3=r(316082),C9=r(632376),C6=r(955066),C7=r(63104),xe=r(132367),xt=r(167198);let xr=["folder","team","search","recentsAndSharing"];function xa(){let e=(0,l.d4)(e=>e.autosave),t=(0,eC._6)(),r=(0,C3.y)(),{unsyncedFiles:a,localUnsyncedFiles:n}=(0,bu.Gg)();return!r||null!=e.lastSnoozeTime&&Date.now()-e.lastSnoozeTime<864e5?null:(a.length>0||n.length>0)&&xr.includes(t.view)?i.createElement(xi,{unsyncedFiles:a,localUnsyncedFiles:n}):null}let xn=!1;function xi(e){let t=(0,l.wA)();i.useEffect(()=>{let e=()=>{t(C6.Jw())};return xe.hp.register(xe.a,e),function(){xe.hp.unregister(xe.a,e),t(tu.ES({type:C9.EO.type}))}},[t]);let r=(0,eC._6)(),[a,n]=i.useState(!1);i.useEffect(()=>{xn||(xn=!0,(0,C5.Mw)()),a||(n(!0),(0,nm.sx)("Autosave Notification",{hasUnsyncedFiles:e.unsyncedFiles.length>0,hasLocalUnsyncedFiles:e.localUnsyncedFiles.length>0,firstUnsyncedFile:e.unsyncedFiles.length>0?e.unsyncedFiles[0].fileKey:null,firstLocalUnsyncedFile:e.localUnsyncedFiles.length>0?e.localUnsyncedFiles[0].fileKey:null,view:r.view},{forwardToDatadog:!0}))},[t,e.unsyncedFiles,e.localUnsyncedFiles,a,r]);let o=(0,z.iZ)(),s=[...e.unsyncedFiles,...e.localUnsyncedFiles];if(0===s.length||!o)return i.createElement(i.Fragment,null);let d=s.length>1,m=s[0],u=(0,C7.y8)(m)?m.file.name:m.name,_=u.length>40?u.substring(0,40)+"\u2026":u,p=d?(0,k.t)("autosave.notification.message.more_than_one_file"):(0,k.t)("autosave.notification.message.one_file",{fileName:_}),f=d?(0,k.tx)("autosave.notification.action_review"):(0,k.tx)("autosave.notification.action_open_to_sync");return i.createElement("div",{className:"autosave_notification--notification--u3sx0 text--_negText--j9g-L"},i.createElement(ei.B,{className:"autosave_notification--icon--uvtXB",svg:xt.A,width:"24",height:"24"}),i.createElement("div",{className:"autosave_notification--message--yAhFz"},p),i.createElement("div",{className:"autosave_notification--actions--dk-yq"},i.createElement("div",{className:"autosave_notification--mainAction--sidqJ autosave_notification--action--Brz-5",onClick:()=>{d?t(tu.to({type:C9.EO})):(0,C7.y8)(m)?c.Ay.redirect((0,tX.r1)(tZ.F.toLiveGraph(m.file),!0),"_blank"):t(y3.NA({file:m,openNewFileIn:h1.ai.NEW_TAB,source:va.U.AUTOSAVE_NOTIFICATION}))}},f),i.createElement("div",{className:"autosave_notification--action--Brz-5",onClick:()=>{(0,nm.sx)("Autosave Notification Snooze",{files:s.length,firstFile:m.fileKey}),t(C6.zE(Date.now()))}},(0,k.tx)("autosave.notification.action_later"))))}var xl=r(27182);let xo="team-org-access-dropdown";function xs(e){let t=(0,l.wA)(),r=e.dropdownShown&&e.dropdownShown.type===xo;return i.createElement("div",{className:"team_org_access_dropdown--orgAccess--JAIwP"},i.createElement("button",{className:"team_org_access_dropdown--select--lqx54",onClick:e=>{e.stopPropagation(),e.preventDefault(),r?t(eI.oB()):t(eI.j7({type:xo}))}},(0,h0.ZP)()[e.orgAccess],i.createElement(ei.B,{svg:rj.A,className:"team_org_access_dropdown--downCaret--INuva"})),r&&i.createElement("div",{className:"team_org_access_dropdown--orgAccessDropdownContainer--iVvqn"},i.createElement(iQ.ms,{className:"team_org_access_dropdown--orgAccessDropdown--zJupm"},i.createElement(iQ.MM,{checked:e.orgAccess===eA.bU.PUBLIC,onClick:()=>{e.onChangeOrgAccess(eA.bU.PUBLIC)}},(0,h0.ZP)()[eA.bU.PUBLIC]),i.createElement(iQ.MM,{checked:e.orgAccess===eA.bU.PRIVATE,onClick:()=>{e.onChangeOrgAccess(eA.bU.PRIVATE)}},(0,h0.ZP)()[eA.bU.PRIVATE]),i.createElement(iQ.MM,{checked:e.orgAccess===eA.bU.SECRET,onClick:()=>{e.onChangeOrgAccess(eA.bU.SECRET)}},(0,h0.ZP)()[eA.bU.SECRET]))))}let xc="team_creation--createTeamText--VjY8f";function xd({currentTeamId:e,currentUserOrgId:t,user:r,selectedView:a,dropdownShown:n,teamCreation:o,orgById:s}){var d;let m=(0,l.wA)(),[_,p]=(0,i.useState)(null),[f,g]=(0,i.useState)(eA.bU.PUBLIC),E=a.ignoreCurrentPlan,h=t&&!E?s[t]:null,y=!e&&!t,v=(0,i.useRef)(null);(0,i.useEffect)(()=>{if(v.current)for(let e=0;e<v.current.elements.length;e++){let t=v.current.elements[e];if(!t.value){t.focus();break}}t&&!E&&(0,nm.sx)("team_creation_started",{user_id:r?.id??"",org_id:t})},[t,r,E]);let b=e=>{e.preventDefault(),e.stopPropagation(),_?(m((0,w8.KQ)({teamName:_,orgAccess:f,dontRedirect:!!a.onSubmitReturnToPrevView,ignoreCurrentPlan:E})),a.onSubmitReturnToPrevView&&m(eI.$T((0,c.Gl)()||{view:"recentsAndSharing"}))):m(aF.s.error((0,k.t)("team_creation.your_team_name_cannot_be_empty")))},w=!(t&&!E)&&!a.onSubmitReturnToPrevView,T=(0,u.kc)().ps_benchmark&&y?null:i.createElement(CK.X,{onClick:()=>{m(eI.$T((0,c.Gl)()||{view:"recentsAndSharing"}))}},i.createElement(ei.B,{svg:nx.default,className:"team_creation--modalCloseX--TTg32"}));return i.createElement(aI.fu,{name:"Team Creation"},i.createElement("div",null,i.createElement(CX.O,{menu:T},w&&i.createElement(CJ.J,{index:1}),i.createElement("form",{ref:v,onSubmit:b},i.createElement(CZ.JR,null,(0,k.tx)("team_creation.create_a_team_title")),i.createElement("div",{className:"team_creation--newTeamContainer--43mWz team_creation--newTeamContainerBase--nwYzU"},i.createElement("div",{className:"team_creation--teamNameContainer--B6Pc3"},i.createElement("div",{className:"team_creation--teamNameLabel--ohZWy"},(0,k.tx)("team_creation.team_name_label")),i.createElement(ee.il,{value:_||"",onChange:e=>{p(e.target.value)},className:"team_creation--newTeamInput--PdjEW",maxLength:255,placeholder:(0,k.t)("team_creation.team_name_input_placeholder")})),h?i.createElement("div",{className:"team_creation--orgTeamSettings--bDW2R"},i.createElement("div",{className:N.cx.flex.$},i.createElement("div",{className:N.cx.fontSemiBold.$},(0,k.tx)("team_creation.access_within_the_organization")),i.createElement(xs,{orgAccess:f,dropdownShown:n,onChangeOrgAccess:e=>{g(e)}})),i.createElement("div",{className:xc},(d=h.name,{[eA.bU.PUBLIC]:(0,k.tx)("org_access_strings.public.description_with_org_name",{orgName:d}),[eA.bU.PRIVATE]:(0,k.tx)("org_access_strings.closed.description_with_org_name",{orgName:d}),[eA.bU.SECRET]:(0,k.tx)("org_access_strings.secret.description_with_org_name",{disclaimerLabel:i.createElement("span",{className:N.cx.fontSemiBold.$},(0,k.tx)("org_access_strings.secret.description.disclaimer_label")),orgName:d})})[f])):i.createElement("div",{className:xc},(0,k.tx)("team_creation.after_creating_a_team_you_can_invite_others_to_join")),i.createElement(ee.nD,{className:t?"team_creation--createTeamButtonOrg--2rnOw":"team_creation--createTeamButton--C8IV7",type:"submit",disabled:o.loading,onClick:b},(0,k.tx)("team_creation.create_team_button")))))))}function xm({selectedView:e}){let t=(0,l.wA)(),r=(0,Y.dq)(),a=(0,l.d4)(e=>e.orgById),n=(0,z.iZ)(),o=(0,l.d4)(e=>e.currentTeamId),s=(0,g5.Um)(),d=(0,l.d4)(e=>e.teamCreation),m=r?a[r]:null,_=(0,e3.wy)({component:"TeamCreationPage",attribute:"mainWorkspaceId",migrationGroup:n9.L.GROUP_2,legacy:(e,t)=>t?.workspace_users?.find(e=>e.is_main_workspace)?.workspace_id,migrated:e=>e?.fromOrgUser?.workspaceUsers?.find(e=>e.isMainWorkspace)?.workspaceId}),{cannotCreateTeamReason:p}=(0,q.LM)(m,_??null);return(0,h0.R$)(n,r)||p===q.z4.TEAM_CREATION_CONTROL&&!(0,u.kc)().ps_benchmark?(c.Ay.redirect("/"),t(aF.s.error((0,k.t)("team_creation.missing_team_creation_controls"))),null):i.createElement(xd,{currentTeamId:o,currentUserOrgId:r,user:n,dropdownShown:s,teamCreation:d,orgById:a,selectedView:e})}let xu="team_restore--page--cMEe2",x_="team_restore--section--AmfWe",xp="team_restore--button--C-gOz";function xf({selectedView:e}){let t,r;let a=(0,l.wA)(),[n,o]=i.useState(!1),s=e.teamId,c=(0,l.d4)(e=>e.teams[s]);i.useEffect(()=>{o(!0),aD.$.getDeleted({teamId:s}).then(({data:e})=>{a(wx.bE({team:e.meta})),o(!1)}).catch(e=>{400!==e.status&&(a(eI.$T({view:"recentsAndSharing"})),a(aF.s.error(`${e.data.message}`))),o(!1)})},[a,s]);let d=()=>{a(eI.$T({view:"recentsAndSharing"}))},m=i.createElement(ee.vd,{className:xp,onClick:d},(0,k.tx)("team_restore.back"));if(c){if(c.deleted_at){let e=(0,eo.A)(c.deleted_at).add(28,"days").toDate();t=(0,k.t)("team_restore.confirm_restore_header",{teamName:c.name}),r=i.createElement("div",null,(0,k.tx)("team_restore.confirm_restore"),i.createElement("br",null),i.createElement("br",null),(0,k.tx)("team_restore.confirm_restore_deadline",{deleteDeadline:e})),m=i.createElement(ee.vd,{className:xp,onClick:()=>{a(wx.I9({teamId:s}))}},(0,k.tx)("team_restore.restore"))}else t=(0,k.t)("team_restore.ineligible"),r=(0,k.t)("team_restore.questions_contact_support",{supportEmail:(0,u.W4)()})}else{if(n)return i.createElement("div",{className:xu},i.createElement("div",{className:x_},i.createElement(er.kt,null)));t=(0,k.t)("team_restore.expired_header"),r=i.createElement("div",null,(0,k.tx)("team_restore.expired"),i.createElement("br",null),i.createElement("br",null),(0,k.tx)("team_restore.questions_contact_support",{supportEmail:(0,u.W4)()}))}return i.createElement(aI.fu,{name:"Team Restore",properties:{teamId:s}},i.createElement(CX.O,{menu:i.createElement(ei.B,{svg:nx.default,onClick:d,className:"team_restore--modalCloseX--XNErW"})},i.createElement("div",{className:xu},i.createElement("div",{className:x_},i.createElement("div",{className:"team_restore--header--NgU8v text--fontPos20--Bcz97 text--_fontBase--QdLsd"},t),i.createElement("div",{className:"team_restore--text--F18dW text--fontPos12--YsUAh text--_fontBase--QdLsd"},r),m))))}var xg=r(966664),xE=r(710667),xh=r(304769),xy=r(13513),xv=r(50661),xb=r(135163),xw=r(49891);let xT="legacy_upgrade--closeButton--zJ0JO";var xI=r(258933);function xC({selectedView:e}){let t=(0,l.wA)(),r=(0,l.d4)(t=>t.teams[e.teamId]);if((0,xg.uy)(r))throw Error("Team is nullish");let{taxes:a,numDesignEditors:n,numWhiteboardEditors:o,submitPending:s}=(0,l.d4)(e=>e.payment),c=(0,l.d4)(e=>e.teamUserByTeamId[r.id]||{}),d=(0,l.d4)(e=>e.teamBilling.summary.currency),m=(0,l.d4)(e=>e.loadingState),u=bz.Be.loadingKeyForPayload({teamId:r.id}),_=(0,fC.VP)(m,u)&&!(0,fC.D2)(m,u),p={planParentId:r.id,planType:eA.OL.TEAM},f=(0,xE.vK)(p),g=f.data,E=xy.Oq.exclude([xh.ud.DEV_MODE]).dict(e=>({currency:g,billableProductKey:e,tier:xb.Ju.PRO,renewalTerm:xb.IX.MONTH,unit:xb.IX.MONTH})),h=xy.Oq.exclude([xh.ud.DEV_MODE]).dict(e=>({currency:g,billableProductKey:e,tier:xb.Ju.PRO,renewalTerm:xb.IX.YEAR,unit:xb.IX.MONTH})),y=tB.Qw.all([(0,xE.ic)(E,p,xE.Fq.ADMIN_SETTINGS,{enabled:!!g}),(0,xE.ic)(h,p,xE.Fq.ADMIN_SETTINGS,{enabled:!!g})]),v=_||"loading"===f.status||"loading"===y.status;if((0,i.useEffect)(()=>{(0,fC.VP)(m,u)||(0,fC.D2)(m,u)||t(bz.Be({teamId:r.id}))},[m,t,u,r.id]),v)return i.createElement(er.Z_,null);if(null===y.data)throw Error("Price data is null");let b=i.createElement(ei.B,{svg:nx.default,onClick:()=>{(0,nm.sx)("Add Annual Plan Canceled",{teamId:e.teamId}),window.history.length<=1?t(eI.$T({view:"team",teamId:e.teamId})):history.go(-1)},className:xT}),w=r?.editors??0,T=Object.keys(c).filter(e=>c[e]?.whiteboard_paid_status===To.Zf.FULL).length,I=new gM.vr(d),[C,x]=y.data,N=C[xh.ud.DESIGN].amount,S=C[xh.ud.FIGJAM].amount,L=x[xh.ud.DESIGN].amount,A=x[xh.ud.FIGJAM].amount;return i.createElement("div",{className:"legacy_upgrade--addAnnualPlan--ZH1cn"},i.createElement(CX.O,{menu:b},i.createElement(aI.fu,{name:"Step Pay"},i.createElement("div",{className:xI.yU},i.createElement(CZ.JR,null,(0,k.tx)("payments.add_annual_plan.title")),i.createElement(CZ.Kh,null,i.createElement("p",{className:"legacy_upgrade--addAnnualPlanInstructions--MmsnZ"},(0,k.tx)("payments.add_annual_plan.intro.seat_rename",{monthlyDesignEditorCost:I.formatMoney(N,{showCents:!1}),monthlyFigjamEditorCost:I.formatMoney(S,{showCents:!1})}))),i.createElement("div",{className:xI.fI},i.createElement(xw.tG,{totalDesignEditors:w,totalWhiteboardEditors:T,numAnnualDesignEditors:n||0,numAnnualWhiteboardEditors:o||0,onNumAnnualDesignEditorsChange:e=>{t(bf.js({numDesignEditors:e}))},onNumAnnualWhiteboardEditorsChange:e=>{t(bf.Az({numWhiteboardEditors:e}))},showAdminPage:()=>{t(eI.$T({view:"team",teamId:e.teamId,teamViewTab:au.A$.SETTINGS}))},isTeamPro:!0,dispatch:t,taxes:a,teamId:e.teamId,currency:d,submitPending:s,monthlyDesignAmount:N,monthlyFigjamAmount:S,annualMonthlyDesignAmount:L,annualMonthlyFigjamAmount:A}),i.createElement("form",{onSubmit:r=>{r.preventDefault(),t(ek.b({completed_pro_cart_flow:!0})),t(bf.I2({submitPending:!0})),t(bf.XF({teamId:e.teamId}))}},i.createElement("div",{className:xI.ay},(0,k.tx)("payments.add_annual_plan.auto_renew.seat_rename",{cancellingIsEasyLink:i.createElement("a",{target:"_blank",rel:"noopener",href:"/pricing-faq#how-do-i-cancel-my-paid-plan"},(0,k.tx)("payments.add_annual_plan.cancelling_is_easy_link_text"))}),i.createElement("br",null),i.createElement("br",null),(0,k.tx)("payments.add_annual_plan.tos",{tosLink:i.createElement("a",{target:"_blank",rel:"noopener",href:"/tos"},(0,k.tx)("payments.add_annual_plan.tos_link_text"))})),i.createElement("div",{className:`${xI.Ou} ${xI.nM}`},i.createElement(ee.vd,{type:"submit",disabled:s,className:`${xI.XX}`},(0,k.tx)("payments.add_annual_plan.cta_text")))))))))}function xx(e){return i.createElement(F.tH,{boundaryKey:"AddAnnualPlan",team:af.e.BILLING,fallback:i.createElement(xv.K,null)},i.createElement(xC,{...e}))}var xN=r(625223),xk=r(320108);function xS(e){let t=(0,z.iZ)(),[r,a]=i.useState(()=>(0,gM.LN)()),n=ab.b.UPGRADE_NEW_TEAM,o=(0,l.wA)(),s=(0,I.sx)(),c=(t,a)=>{let n=e.selectedView;o(bf.WX({teamId:e.selectedView.teamId,selectedView:n,newTeam:!0,currency:r,billingPeriod:a}))},d=null===e.selectedView.teamId?void 0:()=>{let r=(0,u.kc)().ps_benchmark,a=t?.id;if(r&&a){let t={userId:a,orgId:null,teamId:e.selectedView.teamId};o(eX._l({workspace:t,view:{view:"allProjects"}}))}else o(eI.$T({view:"team",teamId:e.selectedView.teamId}))},m=()=>{o(bf.Bq({currency:r,upsellSource:n}))},_=e=>{a(e),o(eI.oB())},p=e.selectedView.teamId,f=i.useRef(null);return i.createElement(aI.fu,{name:"Upgrade Team",properties:{teamId:p,step:C2.tn.UPGRADE_NEW_TEAM}},i.createElement("div",{className:"legacy_upgrade--teamUpgrade--auGJz"},i.createElement(CX.O,{menu:i.createElement(CK.X,{onClick:()=>{let r=(0,u.kc)().ps_benchmark,a=t?.id,n=e.selectedView.teamId;if(r){let t={view:"recentsAndSharing"};a&&n?o(eX._l({workspace:{userId:a,teamId:n,orgId:null},view:e.selectedView.previousView||t})):o(eI.$T(e.selectedView.previousView||t))}else o(eI.$T(e.selectedView.previousView||(n?{view:"team",teamId:n}:{view:"recentsAndSharing"})))}},i.createElement(ei.B,{svg:nx.default,className:xT})),pageRef:f},i.createElement(CJ.J,{index:3}),i.createElement(aI.fu,{name:"Upgrade New Team",properties:{teamId:p,trackingDescriptor:ed.c.UPGRADE_YOUR_TEAM}},i.createElement("div",{className:M()(e.className,{"step_upgrade_new_team--container--BixhQ":!0})},i.createElement(CZ.JR,{className:"step_upgrade_new_team--stepTitleComparisonChart--yyzB5 step_upgrade_new_team--stepTitle--yFYG8"},i.createElement("span",null,(0,k.tx)("plan_details.choose_your_team_plan"))),s?i.createElement("div",{className:N.cx.mxAuto.$,style:el.sx.add({width:"1049px"}).$},i.createElement(xk.PlanComparisonModalContent,{upsellSource:n,currency:r,updateCurrency:_,chooseStarterPlan:d,chooseProPlan:e=>c(null,e),chooseOrgPlan:m,planComparisonModalHeaderOverride:null})):i.createElement(xN.O,{currency:r,chooseStarterPlan:d,chooseProPlan:e=>c(null,e),chooseOrgPlan:m,updateCurrency:_,upsellSource:n,parentRef:f}))))))}var xL=r(340159),xA=r(657193),xR=r(611075),xP=r(379843),xF=r(776114);function xO(){let e=(0,xP.W)();return i.createElement(xF.Y,{prioritizedBanners:e,location:"file_browser"})}var xD=r(611886),xM=r(351226),xB=r(833629),xU=r(966537);function xV(){return i.createElement("svg",{width:"310",height:"167",viewBox:"0 0 310 167",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{x:"280.007",y:"103.275",width:"9.9157",height:"10.5949",fill:"#FFC9C1"}),i.createElement("rect",{x:"280.007",y:"124.465",width:"9.9157",height:"10.5949",fill:"#FFC9C1"}),i.createElement("rect",{x:"280.007",y:"113.871",width:"9.9157",height:"10.5949",fill:"#B98E01"}),i.createElement("rect",{x:"299.833",y:"103.275",width:"9.9157",height:"10.5949",fill:"#FFC9C1"}),i.createElement("rect",{x:"299.833",y:"124.465",width:"9.9157",height:"10.5949",fill:"#FFC9C1"}),i.createElement("rect",{x:"299.833",y:"113.871",width:"9.9157",height:"10.5949",fill:"#B98E01"}),i.createElement("rect",{x:"289.928",y:"103.275",width:"9.9157",height:"10.5949",fill:"#B98E01"}),i.createElement("rect",{x:"289.928",y:"124.465",width:"9.9157",height:"10.5949",fill:"#B98E01"}),i.createElement("rect",{x:"289.928",y:"113.871",width:"9.9157",height:"10.5949",fill:"#FFC9C1"}),i.createElement("rect",{x:"280.007",y:"134.49",width:"9.9157",height:"10.5949",fill:"#FFC9C1"}),i.createElement("rect",{x:"280.007",y:"155.679",width:"9.9157",height:"10.5949",fill:"#FFC9C1"}),i.createElement("rect",{x:"280.007",y:"145.085",width:"9.9157",height:"10.5949",fill:"#B98E01"}),i.createElement("rect",{x:"299.833",y:"134.49",width:"9.9157",height:"10.5949",fill:"#FFC9C1"}),i.createElement("rect",{x:"299.833",y:"155.679",width:"9.9157",height:"10.5949",fill:"#FFC9C1"}),i.createElement("rect",{x:"299.833",y:"145.085",width:"9.9157",height:"10.5949",fill:"#B98E01"}),i.createElement("rect",{x:"289.928",y:"134.49",width:"9.9157",height:"10.5949",fill:"#B98E01"}),i.createElement("rect",{x:"289.928",y:"155.679",width:"9.9157",height:"10.5949",fill:"#B98E01"}),i.createElement("rect",{x:"289.928",y:"145.085",width:"9.9157",height:"10.5949",fill:"#FFC9C1"}),i.createElement("circle",{cx:"10.751",cy:"63.5",r:"10.5",fill:"#FF01E6"}),i.createElement("circle",{cx:"31.751",cy:"63.5",r:"10.5",fill:"#FFC9C1"}),i.createElement("circle",{cx:"10.751",cy:"84.5",r:"10.5",fill:"#0A5C35"}),i.createElement("circle",{cx:"31.751",cy:"84.5",r:"10.5",fill:"#FF7237"}),i.createElement("rect",{width:"161",height:"106",transform:"translate(76.2148 28.0273)",fill:"#874FFF"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M101.186 28.0273C115.125 28.0273 126.424 39.3269 126.424 53.2657C126.424 67.2045 115.125 78.5041 101.186 78.5041H76.2158L76.2158 28.0273L101.186 28.0273ZM76.2191 83.5506H126.427V134.027H76.2191V83.5506ZM181.319 83.5501L131.111 83.5501L131.111 108.923C131.111 122.787 142.351 134.027 156.215 134.027C170.08 134.027 181.319 122.787 181.319 108.923L181.319 83.5501ZM186.006 134.027V83.5506V33.0739H236.215V83.5506C236.215 111.28 213.735 134.027 186.006 134.027Z",fill:"#95B9AC"}),i.createElement("rect",{x:"126.087",y:"83.5518",width:"5.02083",height:"25.5749",fill:"#95B9AC"}),i.createElement("rect",{x:"76.2148",y:"83.5518",width:"5.04767",height:"25.4389",transform:"rotate(-90 76.2148 83.5518)",fill:"#95B9AC"}),i.createElement("rect",{x:"180.983",y:"83.5518",width:"5.02083",height:"25.5749",fill:"#95B9AC"}),i.createElement("rect",{x:"60.251",y:"12",width:"16",height:"16",fill:"#33DFDF"}),i.createElement("rect",{x:"60.251",y:"134",width:"16",height:"16",fill:"#33DFDF"}),i.createElement("rect",{x:"237.251",y:"134",width:"16",height:"16",fill:"#33DFDF"}),i.createElement("rect",{x:"195.738",width:"85",height:"85",fill:"#0A5C35"}),i.createElement("path",{d:"M214.06 53.9162C219.483 51.1514 260.1 29.4353 256.283 27.5269",stroke:"#67FF7F",strokeWidth:"5.5",strokeLinecap:"round"}),i.createElement("path",{d:"M225.934 13.0127C231.093 24.7758 243.087 48.6871 243.087 61.8329",stroke:"#67FF7F",strokeWidth:"5.5",strokeLinecap:"round"}),i.createElement("path",{d:"M247.047 13.6724C242.127 26.6618 233.88 55.8409 227.915 67.7704",stroke:"#67FF7F",strokeWidth:"5.5",strokeLinecap:"round"}),i.createElement("path",{d:"M214.06 32.8047C230.842 33.737 255.224 44.4138 269.478 53.9161",stroke:"#67FF7F",strokeWidth:"5.5",strokeLinecap:"round"}))}function xW(e){return i.createElement(aI.fu,{name:"Continue Duplication after Verification Modal"},i.createElement(r8.XV,{headerSize:"hidden",maxWidth:348,containerClassName:"continue_after_verification--modalContainer--L-0LF",innerContainerClassName:"continue_after_verification--innerModal--JmgbP",title:" ",onClose:e.onClose,paddingLeft:40,paddingRight:40},i.createElement("div",{className:N.cx.mxAuto.$},i.createElement(xV,null)),i.createElement("h1",{className:"continue_after_verification--title---5Cuw"},(0,k.tx)("community.duplicate_modal.youre_all_set")),i.createElement("div",null,(0,k.tx)("community.duplicate_modal.youve_verified_your_email_at",{userEmail:i.createElement("b",null,e.userEmail)})),i.createElement(ee.LA,{fullWidth:!0,onClick:e.onDuplicateClick,type:"button",role:"button",trackingProperties:{trackingDescriptor:ed.c.CONTINUE_TO_FILE}},(0,k.tx)("community.duplicate_modal.continue_to_file"))))}let xH=(0,tc.Ju)(function(e){let t=(0,l.d4)(e=>e.user?.email),r=(0,l.wA)(),a=(0,l.d4)(t=>t.hubFiles[e.hubFileId]),n=fC.mC(hR.ts.loadingKeyForPayload({hubFileId:e.hubFileId})),o=(0,eC._6)(),s=()=>{r(tu.Ce())};return(i.useEffect(()=>{a||r(hR.ts({hubFileId:e.hubFileId}))},[r,a,e.hubFileId]),n)?t&&(a||!n)?i.createElement(xW,{onClose:s,userEmail:t,onDuplicateClick:()=>{r(ek.b({signed_up_from_community:!0}));let t=xD.gE(e=>{r((0,tu.to)({type:xM._,data:{payload:e}}))},{isFreemiumPreview:e.isFreemiumPreview});s(),r(t(a)),new URLSearchParams(c.Ay.location.search).has(dN._O)&&r(eI.$T({...o,triggerFreemiumPreview:void 0}))}}):(s(),null):null},"ContinueAfterVerificationModal");var x$=r(186799),xj=r(472503);function xG(e){let t=(0,l.wA)(),r=(0,l.d4)(e=>e.fileImport.step),a=(0,x$.B2)().unwrapOr(!1),[n,o]=i.useState(!1),s=i.useCallback(()=>o(!0),[]),c=i.useCallback(()=>o(!1),[]),d=i.useCallback(e=>{o(!1),a&&t((0,x$.b6)(e))},[t,a]);return i.createElement(tn.Y,{className:N.cx.flex.flexColumn.$,isDragTarget:x$.al,onTargetDragEnter:s,onTargetDragLeave:c,onTargetDrop:d},e.children,a&&i.createElement(xY,{step:r,dragging:n}))}function xY({step:e,dragging:t}){switch(e){case xj.Y5.CONFIRM_PDF_IMPORT:case xj.Y5.IMPORT_REPO:return null;case xj.Y5.START:case xj.Y5.FILE_IMPORT_WITH_CANCELED_PDF:case xj.Y5.FILE_IMPORT_WITH_CONFIRMED_PDF:return i.createElement("div",{className:t?"file_browser_drop_zone--dragTargetDragging--giyPY file_browser_drop_zone--dragTargetNormal--TOR0f":"file_browser_drop_zone--dragTargetNormal--TOR0f"});default:(0,C.xb)(e)}}let xz="file_browser_view--filebrowserHtml--v2BLN",xq="file_browser_view--filebrowserBody--6MX2i",xQ="file_browser_view--desktop--5VrC1";function xK(){let e=(0,l.wA)(),t=(0,Y.dq)(),r=(0,g5.Um)(),a=(0,z.iZ)(),n=(0,l.d4)(e=>e.userFlags),C=(0,eC._6)(),x=CQ.q.useIsLoading(),N=(0,l.d4)(e=>e.payment),S=(0,l.d4)(e=>e.currentTeamId),L=(0,Q.d)(),A=(0,l.d4)(e=>e.downtime),R=(0,l.d4)(e=>e.notifications),P=(0,I.sx)();!function(){let e=(0,l.Pj)(),t=i.useMemo(()=>(0,cH.g)(),[]),r=(0,ag.Rs)(av.__y,{cacheNonce:t});i.useEffect(()=>{if("loaded"===r.status&&r.data.currentUser.assetTransferReload.status===J.tT.Loaded){let t=(0,J.oA)(r.data.currentUser.assetTransferReload);if(!t)return;let a=u.Ay().user_data?.id,n=e.getState(),i="folder"===n.selectedView.view&&n.selectedView.folderId===t.folderId,l="team"===n.selectedView.view&&n.selectedView.teamId===t.teamId,o="folder"===n.selectedView.view&&n.folders[n.selectedView.folderId],s=o&&o.team_id===t.teamId,c=t.folderId?i:l||s,d={view:"folder",folderId:t.folderId||""},m={view:"team",teamId:t.teamId||"",teamViewTab:au.A$.HOME};if(a&&t.userId===a){let r={userId:t.userId,orgId:t.destOrgId},a=t.folderId?d:m;if(c){let n=t.folderId?(0,k.t)("realtime.asset_reload.project_has_been_transferred_redirecting"):(0,k.t)("realtime.asset_reload.team_has_been_transferred_redirecting");e.dispatch(tO.F.enqueue({message:n})),setTimeout(()=>{e.dispatch(eX._l({workspace:r,view:a}))},2e3)}else e.dispatch(eX.Dj({reason:"asset transfer reload",delay:eX.RH.DEFAULT}))}}},[e,r])}(),(0,d.h)(()=>{a&&e(C6.Jw())}),(0,_.IT)((0,xL.XZ)({currentOrgId:t??void 0,currentTeamId:S??void 0,fileTags:["figjam_template","figma_basics"]}),{enabled:(0,u.kc)().create_starter_files_from_file_browser&&nO.Gn.includes(C.view)});let[F,O]=i.useState(0),[D,M]=i.useState(0),[B,U]=i.useState(!1);(0,d.h)(()=>(document.body.classList.add(xq),document.documentElement.classList.add(xz),(0,oE.OS)(e),(0,H.I0)(C,t,S,L),(0,g.hW)("exp_aa_test_file_browser_view").catch(p.lQ),"communityHub"===C.view&&function(e,t){let r=t.figjam_editor_onboarded||(0,xB._q)(t)||t.editor_community_duplicate_onboarded||t.orgs_onboarded||t.welcome_onboarded,a=(0,wN.QL)("after-auth-duplicate-file-id"),n=(0,wN.QL)("show_eula");a&&(n?e((0,tu.to)({type:xU.F,data:{hubFileId:a}})):r||e((0,tu.to)({type:xH,data:{hubFileId:a}})))}(e,n),()=>{document.body.classList.remove(xq),document.documentElement.classList.remove(xz),e(tu.AS())})),i.useEffect(()=>{if(s.eD||(0,o.ce)()){let e=document.createElement("div");return e.classList.add("file_browser_view--desktopBackground--kte3I"),document.body.appendChild(e),document.body.classList.add(xQ),()=>{document.body.classList.remove(xQ),document.body.removeChild(e)}}},[]);let V=(0,m.ZC)(C);i.useEffect(()=>{V&&V!==C&&((0,xA.SW)(V,C)&&window.scrollTo(0,0),B?U(!1):(O(D+1),M(D+1)))},[V,C,B,D]),i.useEffect(()=>{"teamCreation"===C.view&&C.fromNewTab&&e(eX.Dw({previousView:C.previousView,onSubmitReturnToPrevView:C.onSubmitReturnToPrevView,isEduTeam:C.isEduTeam}))},[C,e]);let W=(0,nA.d9)(C),$=f.g3&&!(0,u.kc)().file_browser_enable_mweb&&!W,j=(f.uG&&(0,u.kc)().file_browser_enable_mweb||f.mZ)&&!W;if("teamUpgrade"===C.view)return C.paymentStep===C2.tn.UPGRADE_NEW_TEAM?i.createElement(xS,{selectedView:C}):P?i.createElement(h.q,{selectedView:C}):i.createElement(y.h,{selectedView:C});if("addAnnualPlan"===C.view)return i.createElement(xx,{selectedView:C});if("teamCreation"===C.view)return C.fromNewTab?null:i.createElement(xm,{selectedView:C});if("addCollaborators"===C.view)return i.createElement(C8,{selectedView:C});if("orgSelfServe"===C.view){let e=P?v.G:b.N;return i.createElement(e,{step:C.step||bg.X1.Initial,initialDesignSeats:C.initialDesignEditors||0,orgMigrated:!!C.orgMigrated,dropdownShown:r,newTeamProps:C.newTeamProps,upsellSource:C.upsellSource})}if("teamRestore"===C.view)return i.createElement(xf,{selectedView:C});if("promoReview"===C.view)return i.createElement(w.z,{promo:N?.promo,selectedView:C});else if("eduReview"===C.view)return i.createElement(T.w,{selectedView:C});if(!a){let{content:e}=hX(C);return e?c.Ay.reload("Logged-out Community Hub"):(console.error(`Signed out page: unrecognized route ${c.Ay.location.pathname}, redirecting to /`),c.Ay.redirect("/")),null}if((0,u.kc)().ps_benchmark&&!t&&!S)return console.error("No current organization or team plan set for user. Redirecting to /files"),c.Ay.redirect("/files"),null;let G=$&&i.createElement(E.R,{userIdForTracking:a?.id,renderBlockingPrompt:!0});return i.createElement(xl.C.Provider,{value:{goBack:()=>{D>0&&(history.back(),M(D-1),U(!0))},goForward:()=>{D<F&&(history.forward(),M(D+1),U(!0))},canGoBack:D>0,canGoForward:D<F}},$?G:i.createElement(i.Fragment,null,j&&i.createElement(E.R,{userIdForTracking:a?.id}),i.createElement(xG,null,i.createElement(xO,null),i.createElement(xR.y,{downtime:A,notifications:R,dispatch:e}),i.createElement(xa,null),i.createElement(CG,{showingFileBrowserLoader:x}))))}},302879:(e,t,r)=>{r.r(t),r.d(t,{FileImportModal:()=>el,FileRow:()=>eu,ImportModal:()=>eo,fileImportStats:()=>em,getFooterButtons:()=>es,getStatusComponents:()=>ec,useCloseTabWarningWhenImportInProgress:()=>ep,useCurrentFolderTeam:()=>ed});var a=r(411855),n=r(188507),i=r(140593),l=r(902008),o=r(880112),s=r(320564),c=r(953200),d=r(139689),m=r(263159);let u=(0,a.memo)(function(e){return(0,m.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,m.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M5.5 5a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5h5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 1 1 0v1a1.5 1.5 0 0 1-1.5 1.5h-5A1.5 1.5 0 0 1 4 10.5v-5A1.5 1.5 0 0 1 5.5 4h1a.5.5 0 0 1 0 1zm4.793 0H8.5a.5.5 0 0 1 0-1H12v3.5a.5.5 0 0 1-1 0V5.707L8.854 7.854a.5.5 0 1 1-.708-.708z",clipRule:"evenodd"})})});var _=r(776250),p=r(517333),f=r(794272),g=r(915440),E=r(799569),h=r(946689),y=r(317113),v=r(493323),b=r(355819),w=r(46481),T=r(154254),I=r(964389),C=r(939863),x=r(501114),N=r(548154),k=r(21584),S=r(662275),L=r(101505),A=r(672517),R=r(396226),P=r(875847),F=r(724081),O=r(132135),D=r(99506),M=r(279453),B=r(707465),U=r(300874),V=r(472503),W=r(851363),H=r(585878),$=r(449731),j=r(268853),G=r(862350),Y=r(951792),z=r(288006),q=r(776621),Q=r(104671),K=r(540019);let X="file_import_modal--scrollContainer--rcZDu";var Z=r(244510);function J(e){let{fileImport:t,onDone:r,onCancel:l}=e,s=G.hS(e),c=(0,n.wA)(),d=em(t),m=0===d.remainingFiles,u=ed(),_=(0,n.d4)(e=>"folder"===e.selectedView.view?e.selectedView.folderId:null),p=K.M4.Folder.useValue(_).data,[f,g]=(0,a.useState)(Q.uf.IMPORTING_FILES);ep(f===Q.uf.IMPORTING_FILES||f===Q.uf.ATTACHING_BRANCH);let E=p?.name||(0,C.t)("file_browser.tool_bar.drafts"),y=f===Q.uf.SUCCESS?(0,C.t)("file_browser.file_import_view.imported_to_folder",{folderName:E}):(0,C.t)("file_browser.file_import_view.import_to_folder",{folderName:E}),{statusIcon:I,statusMessage:x,statusMessageSecondary:N}=function(e,t,r){let n=null,l=null,s=null,c=ec(e===Q.uf.SUCCESS,t,r);switch(e){case Q.uf.IMPORTING_FILES:n=c.statusIcon,l=c.statusMessage,s=c.statusMessageSecondary;break;case Q.uf.ATTACHING_BRANCH:n=a.createElement(v.kt,{imageBacked:!0,testId:"loadingSpinner"}),l=(0,C.tx)("file_browser.file_import_view.repo.attaching_branch"),s=a.createElement("span",{className:T.cx.textBodyMedium.$},(0,C.tx)("file_browser.file_import_view.to_continue_working",{openANewTabLink:a.createElement(h.Us,{href:window.location.href,target:"_blank",trusted:!0,"data-testid":"openANewTabLink"},(0,C.tx)("file_browser.file_import_view.open_a_new_tab_link"))}));break;case Q.uf.SUCCESS:n=c.statusIcon,l=c.statusMessage,t.importedFiles===t.totalFiles&&(l=(0,C.tx)("file_browser.file_import_view.repo.success")),s=c.statusMessageSecondary;break;case Q.uf.ERROR:n=a.createElement(w.U,{svg:Z.A,className:T.cx.colorIcon.$,dataTestId:"warningIcon"},a.createElement(o.R,null)),l=(0,C.tx)("file_browser.file_import_view.repo.error");break;default:(0,i.xb)(e)}return n&&l?{statusIcon:n,statusMessage:l,statusMessageSecondary:s}:((0,q.$D)(j.e.SCENEGRAPH_AND_SYNC,Error("Missing status in repo import")),{statusIcon:a.createElement(w.U,{svg:Z.A,className:T.cx.colorIcon.$,dataTestId:"warningIcon"},a.createElement(o.R,null)),statusMessage:(0,C.tx)("file_browser.file_import_view.repo.error"),statusMessageSecondary:null})}(f,d,E),k=es({isImportComplete:m,fileImport:t,onDone:r,team:u,dispatch:c,stats:d,shouldShowMoveToProjectButton:!1,onMoveToProject:()=>{},filesToMove:[],onCancel:l});return(0,a.useEffect)(()=>{if(m){g(Q.uf.ATTACHING_BRANCH);let e=Object.values(t.files),r=e.find(e=>e.name.includes("branch tip"))?.fileKey,a=e.find(e=>e.name.includes("branch point"))?.fileKey,n=e.find(e=>e.name.includes("main tip"))?.fileKey;r&&a&&n?(0,Q.yA)(r,a,n).then(()=>{g(Q.uf.SUCCESS)}).catch(()=>{g(Q.uf.ERROR)}):(g(Q.uf.ERROR),console.error("Missing branch key, branch point key, or main tip key files"))}},[m,t.files]),a.createElement(Y.bL,{manager:s,width:480},a.createElement(z.vo,null,a.createElement(z.Y9,null,a.createElement(z.hE,null,y)),a.createElement(z.nB,null,t&&a.createElement(b.P,{innerClassName:T.cx.flex.flexColumn.$,className:X},Object.values(t.files).map(e=>a.createElement(eu,{key:`file-import-${e.id}`,file:e})))),a.createElement(z.wi,null,a.createElement("div",{className:T.cx.flex.flexRow.wFull.justifyBetween.py8.gap16.bt1.bSolid.colorBorder.$},a.createElement("div",{className:T.cx.flex.flexRow.itemsCenter.gap8.$},I&&a.createElement("div",{className:T.cx.flex.itemsCenter.justifyCenter.h32.w32.$},I),x&&a.createElement("span",{className:T.cx.fontSemiBold.$},x),N&&a.createElement("span",{className:T.cx.ml8.$},N)),a.createElement("div",null,k)))))}var ee=r(822380),et=r(696849),er=r(600851),ea=r(227998),en=r(882167),ei=r(737891);function el(){let e=(0,n.wA)(),{fileImport:t}=(0,f.R)(e=>({fileImport:e.fileImport})),r=()=>{e(S.Ce()),e(F.cY())},l=()=>{e(F.yD())},o=()=>{e(F.cY())},s=(()=>{switch(t.step){case V.Y5.CONFIRM_PDF_IMPORT:return a.createElement(ee.PdfConfirmationModal,{fileImportDescription:(0,C.tx)("file_browser.file_import_view.select_pdf_source_description",{pdfCount:em(t).pdfCount}),onConfirm:t=>{e(F._9(t))},onCancel:()=>{e(F.AU()),l()}});case V.Y5.IMPORT_REPO:return a.createElement(J,{fileImport:t,onDone:r,onCancel:l,onMoveToProject:o,onClose:()=>e(S.Ce()),open:!0});case V.Y5.START:case V.Y5.FILE_IMPORT_WITH_CANCELED_PDF:case V.Y5.FILE_IMPORT_WITH_CONFIRMED_PDF:return a.createElement(eo,{fileImport:t,onDone:r,onCancel:l,onMoveToProject:o});default:(0,i.xb)(t.step)}})();return a.createElement(A.fu,{name:"import_progress_modal"},s)}function eo({fileImport:e,onDone:t,onCancel:r,onMoveToProject:i}){let l=(0,n.wA)(),o=ed(),s=em(e),c=(0,n.d4)(e=>e.selectedView),d=(0,k.I)(),m=0===s.remainingFiles,u=(0,n.d4)(e=>"folder"===e.selectedView.view?e.folders[e.selectedView.folderId]:null),_=(0,P.Gi)(u),p=(0,B.K)(c);ep(!m);let f=u?.name||(0,C.t)("file_browser.tool_bar.drafts"),h=m?(0,C.t)("file_browser.file_import_view.imported_to_folder",{folderName:f}):(0,C.t)("file_browser.file_import_view.import_to_folder",{folderName:f}),{statusIcon:y,statusMessage:v,statusMessageSecondary:w}=ec(m,s,f),I=d&&(_||p)&&s.importedFiles>=1,x=(0,a.useMemo)(()=>(function(e,t){let r=[];if(!e)return r;for(let e of Object.values(t))e.fileKey&&r.push({fileKey:e.fileKey});return r})(I,e.files),[I,e.files]),N=(0,g.p)(M.NSA,x),S=es({isImportComplete:m,fileImport:e,onDone:t,team:o,dispatch:l,stats:s,shouldShowMoveToProjectButton:I,onMoveToProject:i,filesToMove:(0,a.useMemo)(()=>(function(e){let t=[];for(let r of e){let e=r.result.data?.file;e&&t.push({key:e.key,name:e.name,folder_id:e.folderId,team_id:e.teamId,editor_type:e.editorType,is_team_template:e.isTeamTemplate,parent_org_id:e.parentOrgId})}return t})(N),[N]),onCancel:r});return a.createElement(H.XV,{title:h,maxWidth:480,headerClassName:T.cx.pl16.$,disableClickOutsideToHide:!m,isCloseHidden:!0,customButton:a.createElement(E.Jn,{onClick:e.queue.length?r:t,trackingProperties:{trackingDescriptor:L.c.FILE_IMPORT_X_BUTTON,text:"dismiss"}})},e&&a.createElement(b.P,{innerClassName:T.cx.flex.flexColumn.py4.$,className:X},Object.values(e.files).map(e=>a.createElement(eu,{key:`file-import-${e.id}`,file:e}))),a.createElement("div",{className:T.cx.flex.flexRow.justifyBetween.p8.pr12.gap16.bt1.bSolid.colorBorder.$},a.createElement("div",{className:T.cx.flex.flexRow.itemsCenter.gap8.$},y&&a.createElement("div",{className:T.cx.flex.itemsCenter.justifyCenter.h32.w32.$},y),v&&a.createElement("span",{className:T.cx.fontSemiBold.$},v),w&&a.createElement("span",{className:T.cx.ml8.$},w)),a.createElement("div",{className:T.cx.flex.gap8.$},S)))}function es({isImportComplete:e,fileImport:t,onDone:r,team:n,dispatch:i,stats:l,shouldShowMoveToProjectButton:o,onMoveToProject:s,filesToMove:c,onCancel:d}){var m;if(!e)return[a.createElement(I.$z,{variant:"destructive",onClick:d,htmlAttributes:{"data-testid":"cancelButton"},key:"cancelButton"},(0,C.tx)("file_browser.file_import_view.cancel"))];if(t.failedOnFileLimit)return[a.createElement(I.$z,{variant:"primary",onClick:()=>{r(),null!=n&&i((0,S.to)({type:$.DV,data:{team:n,resource:U.vL.FILE,action:W.ZN.IMPORT_FILES,editorType:l.editorType,multipleResources:l.failedFiles>1,currentPlan:R.F.Plan.STARTER,upsellPlan:R.F.Plan.PRO}}))},htmlAttributes:{"data-testid":"nextButton"},key:"nextButton"},(0,C.tx)("file_browser.file_import_view.next"))];let u=[(m=o?"secondary":"primary",a.createElement(I.$z,{variant:m,onClick:r,htmlAttributes:{"data-testid":"doneButton"},key:"doneButton"},(0,C.tx)("file_browser.file_import_view.done")))];return o&&u.push(function({onMoveToProject:e,filesToMove:t,stats:r,dispatch:n}){return a.createElement(I.$z,{variant:"primary",onClick:()=>{e(),(0,_.sx)("file_import.move_to_project.button_clicked",{numFiles:r.importedFiles}),1===t.length&&t[0]?(0,N.h)(t[0],null,n,void 0,{},void 0,!1,void 0,!0):(0,N.O)(t,[],n,!0)},htmlAttributes:{"data-testid":"moveToProjectButton"},key:"moveToProjectButton"},(0,C.tx)("file_browser.file_import_view.move_to_project"))}({onMoveToProject:s,filesToMove:c,stats:l,dispatch:i})),u}function ec(e,t,r){let n=null,i=null,s=null;return e?t.importedFiles===t.totalFiles?(i=a.createElement("div",{className:T.cx.fontSemiBold.inline.$},(0,C.tx)("file_browser.file_import_view.file_import_all_succeeded",{totalFiles:t.totalFiles,folder:r})),n=a.createElement(w.U,{svg:er.A,className:T.cx.colorIcon.$,dataTestId:"checkIcon"},a.createElement(l.l,null))):(i=a.createElement("div",{className:T.cx.fontSemiBold.inline.$},(0,C.tx)("file_browser.file_import_view.file_import_progress_to_folder",{importedFiles:t.importedFiles,totalFiles:t.totalFiles,folder:r})),n=a.createElement(w.U,{svg:Z.A,className:T.cx.colorIcon.$,dataTestId:"warningIcon"},a.createElement(o.R,null)),t.canceledFiles>0&&(s=(0,C.tx)("file_browser.file_import_view.file_import_cancel"))):(n=a.createElement(v.kt,{imageBacked:!0,testId:"loadingSpinner"}),i=(0,C.tx)("file_browser.file_import_view.file_import_progress",{processedFiles:t.processedFiles,totalFiles:t.totalFiles}),s=a.createElement("span",{className:T.cx.textBodyMedium.$},(0,C.tx)("file_browser.file_import_view.to_continue_working",{openANewTabLink:a.createElement(h.Us,{href:window.location.href,target:"_blank",trusted:!0,"data-testid":"openANewTabLink"},(0,C.tx)("file_browser.file_import_view.open_a_new_tab_link"))}))),{statusIcon:n,statusMessage:i,statusMessageSecondary:s}}function ed(){return(0,n.d4)(e=>{if("folder"===e.selectedView.view){let t=e.selectedView.folderId&&e.folders[e.selectedView.folderId]?.team_id;if(null!=t)return e.teams[t]}return null})}function em(e){let t=Object.keys(e.files).length,r=e.queue.length,a=0,n=0,l=0,o=0,s=0,c=new Set;for(let t in e.files){let r=e.files[t];if(r){switch(r.status){case V.mO.SUCCESS:case V.mO.WARNING:a++;break;case V.mO.CANCELED:n++;break;case V.mO.FAILURE:l++;break;case V.mO.WAITING:case V.mO.BUSY:o++;break;default:(0,i.xb)(r.status)}(0,V.rD)(r.name)?(c.add(D._Y.WHITEBOARD),(0,V.kI)(r.name)&&s++):(0,V.OL)(r.name)||c.add(D._Y.DESIGN)}}return{totalFiles:t,remainingFiles:r,processedFiles:t-r,importedFiles:a,canceledFiles:n,failedFiles:l,pendingFiles:o,editorType:1!==c.size?null:c.values().next().value,pdfCount:s}}function eu(e){let{file:t}=e,r=null;switch(t.status){case V.mO.BUSY:case V.mO.WAITING:r=a.createElement(v.kt,{imageBacked:!0,testId:"fileRowLoadingSpinner"});break;case V.mO.SUCCESS:case V.mO.WARNING:r=(0,V.rD)(t.name)?a.createElement(w.U,{svg:ei.A,useOriginalSrcFills_DEPRECATED:!0,dataTestId:"figJamFileIcon"},a.createElement(s.D,null)):(0,V.OL)(t.name)?a.createElement(y.MW,{type:y.y1.SLIDES,size:y.LE.SMALL}):(0,V.w7)(t.name)?a.createElement(y.MW,{type:y.y1.SITES,size:y.LE.SMALL,dataTestId:"siteFileIcon"}):a.createElement(w.U,{svg:en.A,useOriginalSrcFills_DEPRECATED:!0,dataTestId:"figmaDesignFileIcon"},a.createElement(c.z,null));break;case V.mO.FAILURE:case V.mO.CANCELED:r=a.createElement(w.U,{svg:ea.A,className:T.cx.colorIconDanger.$,dataTestId:"failIcon"},a.createElement(d.A,{className:T.cx.colorIconDanger.$}));break;default:(0,i.xb)(t.status)}let n=null;return t.status===V.mO.CANCELED?n=(0,C.tx)("file_browser.file_import_view.file_row_import_cancel"):t.message&&(n=Array.isArray(t.message)?t.message.map((e,t)=>a.createElement("div",{key:t},e)):t.message),a.createElement(e_,{status:t.status,fileKey:t.fileKey},a.createElement("div",{className:T.cx.flex.itemsCenter.justifyBetween.flex1.pl8.pr16.textBodyMedium.$},a.createElement("div",{className:T.cx.flex.gap8.if(n,T.cx.itemsStart,T.cx.itemsCenter).$},a.createElement("div",{className:T.cx.flex.justifyCenter.h32.w32.itemsCenter.$},r),a.createElement("div",{className:T.cx.if(n,T.cx.pb6).$},a.createElement("div",{className:T.cx.truncate.lh32.$,style:x.sx.add({maxWidth:"384px"}).$,"data-tooltip":t.name,"data-tooltip-type":"text"},t.name),n&&a.createElement("div",{className:T.cx.flex.flexColumn.mt4.colorTextSecondary.$},n,t.cta&&a.createElement(h.Us,{className:T.cx.colorTextSecondary.underline.ml8.$,role:"button",onClick:t.cta.action,trusted:!0,"data-testid":"ctaLink"},t.cta.text))))))}function e_(e){let{fileKey:t,status:r,children:n}=e;if(r!==V.mO.SUCCESS&&r!==V.mO.WARNING)return n;let i=t?(0,O.jN)({file:{key:t}}):void 0;return i?a.createElement(h.Ph,{href:i,target:"_blank",trusted:!0,className:"file_import_modal--fileRowWrapperLink--3JOhD","data-testid":"fileLink",trackingProperties:{action:"Import Modal - File Link Clicked"}},n,a.createElement(w.U,{svg:et.A,className:T.cx.flex.alignCenter.colorIconSecondary.mr16.$},a.createElement(u,null))):n}function ep(e){let t=(0,a.useCallback)(e=>{e.preventDefault()},[]);(0,a.useEffect)(()=>(e&&(window.addEventListener("beforeunload",t),p.eD?.setIsImporting(!0)),()=>{window.removeEventListener("beforeunload",t),p.eD?.setIsImporting(!1)}),[e,t])}},591811:(e,t,r)=>{r.r(t),r.d(t,{FileRestoreFromVersionModal:()=>g});var a=r(411855),n=r(188507),i=r(776250),l=r(946689),o=r(355819),s=r(939863),c=r(944682),d=r(662275),m=r(928491),u=r(236192),_=r(585878);let p="file_restore_from_version_modal--fileRestoreText--my8Lq";function f(e){let t=e.version;return a.createElement("div",{className:"file_restore_from_version_modal--fileRestoreRow--ZAJ4y"},a.createElement("div",{className:"file_restore_from_version_modal--fileRestoreDecoration--ZXtyF"},t.user&&a.createElement(m.Ro,{className:"file_restore_from_version_modal--fileRestoreAvatar--Ub3UH",size:30,entity:{img_url:t.user.img_url}}),e.connector&&a.createElement("div",{className:"file_restore_from_version_modal--fileRestoreConnector--mhORY"})),a.createElement("div",{className:"file_restore_from_version_modal--fileRestoreData--AQgSJ"},t.label&&a.createElement("div",{className:"file_restore_from_version_modal--fileRestoreLabel--a6Shk ellipsis--ellipsis--Tjyfa"},t.label||""),t.description&&a.createElement("div",{className:p},t.description),a.createElement("div",{className:p},a.createElement(u.Cr,{time:t.touched_at})),a.createElement("div",{className:"file_restore_from_version_modal--fileRestoreUser--Bv60C"},t.user?t.user.handle:"")),a.createElement(l.N_,{onClick:e.callback,className:"file_restore_from_version_modal--fileRestoreAction--414BR",trusted:!0},(0,s.tx)("file_restore_from_version_modal.restore")))}function g(e){let t=(0,n.wA)(),r=r=>{(0,i.sx)("restore_version_from_modal",{fileKey:e.fig.key,versionId:r}),t(d.Ce()),t(c.PF({fileKey:e.fig.key,versionId:r}))},l=e.versions.filter(e=>!e.disabled);return a.createElement(_.XV,{title:(0,s.t)("file_restore_from_version_modal.restore_from_version_history"),maxWidth:396,onClose:()=>{t(d.Lo())}},a.createElement("div",{className:"file_restore_from_version_modal--fileRestorePanel--pMNT2"},a.createElement(o.P,{width:396},l.map((e,t)=>a.createElement(f,{key:e.id,version:e,callback:()=>r(e.id),connector:t+1!==l.length})))))}},822380:(e,t,r)=>{r.r(t),r.d(t,{PdfConfirmationModal:()=>E});var a=r(411855),n=r(140593),i=r(961034),l=r(862350),o=r(951792),s=r(288006),c=r(519788),d=r(902237),m=r(256296),u=r(922827),_=r(154254),p=r(964389),f=r(939863),g=r(101505);function E({fileImportDescription:e,onConfirm:t,onCancel:r}){let[E,h]=(0,a.useState)(void 0),y=(0,a.useMemo)(()=>{let e=(0,i.U)(u.h62).map(e=>({key:e,value:u.h62[e],label:function(e){switch(e){case u.h62.MIRO:return"Miro";case u.h62.MURAL:return"Mural";case u.h62.LUCID:return"Lucid";case u.h62.JAMBOARD:return"Jamboard";case u.h62.UNKNOWN:return(0,f.t)("file_browser.file_import_view.select_pdf_source_input_unknown_value");default:(0,n.xb)(e)}}(e)}));return e.sort((e,t)=>e.key===t.key?0:e.key===u.h62.UNKNOWN?1:t.key===u.h62.UNKNOWN?-1:e.label.localeCompare(t.label)),e},[]),v=(0,a.useCallback)(e=>{h(e)},[]),b=(0,a.useCallback)(()=>{E&&t(u.h62[E])},[t,E]),w=l.hS({open:!0,onClose:r,preventUserClose:!0});return a.createElement(o.bL,{manager:w,width:"fit-content"},a.createElement(s.vo,null,a.createElement(s.Y9,null,a.createElement(s.hE,null,(0,f.t)("file_browser.file_import_view.select_pdf_source_header"))),a.createElement(s.nB,null,a.createElement("div",{className:_.cx.flex.flexColumn.pt4.gap16.textBodyMedium.$},a.createElement("div",null,e),a.createElement("form",{className:_.cx.mb8.$},a.createElement(c.b,{legend:a.createElement(d.q,null,(0,f.tx)("file_browser.file_import_view.select_pdf_source_input_legend")),value:E,onChange:v},y.map(e=>a.createElement(c.c,{key:e.key,value:e.value,label:a.createElement(m.J,{className:_.cx.textBodyMedium.$},e.label)},e.key===u.h62.UNKNOWN&&(0,f.tx)("file_browser.file_import_view.select_pdf_source_input_unknown_disclaimer"))))))),a.createElement(s.wi,null,a.createElement(s.jk,null,a.createElement(p.$z,{variant:"secondary",onClick:r,trackingProperties:{trackingDescriptor:g.c.FILE_IMPORT_X_BUTTON,text:"dismiss"}},(0,f.tx)("modal.cancel")),a.createElement(p.$z,{variant:"primary",disabled:!E,onClick:b},(0,f.tx)("modal.confirm"))))))}},742743:(e,t,r)=>{r.r(t),r.d(t,{RevokeProjectTransferModal:()=>m});var a=r(411855),n=r(188507),i=r(154254),l=r(939863),o=r(392592),s=r(662275),c=r(564517),d=r(585878);function m({pending:e,canTransferProject:t,isTransferTeam:r=!1}){let m=(0,n.wA)(),u=(0,l.t)("revoke_transfer_modal.header_title"),_=e.id,p=e.source_user_email,f=e.destination_user_email,g=e.is_transfer_copy,E=()=>{c.S.deleteAssetTransferRequest({id:_}).then(()=>{m(o.F.enqueue({message:(0,l.t)("revoke_transfer_modal.visual_bell.transfer_revoked")}))},e=>{m(o.F.enqueue({message:(0,l.t)("revoke_transfer_modal.visual_bell.something_went_wrong"),error:!0}))})};return a.createElement(d.Eo,{title:u,onConfirm:()=>{E(),m(s.Lo())},fixedTop:!0,destructive:!0,cancelText:(0,l.t)("revoke_transfer_modal.go_back"),confirmText:(0,l.t)("revoke_transfer_modal.revoke"),disabled:!t,onClose:()=>{m(s.Lo())},maxWidth:396,minWidth:344},a.createElement("div",{className:i.cx.p8.$},a.createElement("div",null,r?(0,l.tx)("revoke_transfer_modal.transfer_details_team",{sourceUserEmail:p,destinationUserEmail:f}):g?(0,l.tx)("revoke_transfer_modal.transfer_copy_details",{sourceUserEmail:p,destinationUserEmail:f}):(0,l.tx)("revoke_transfer_modal.transfer_details",{sourceUserEmail:p,destinationUserEmail:f})),a.createElement("div",null,a.createElement("br",null),(0,l.tx)("revoke_transfer_modal.function_explanation"))))}},337424:(e,t,r)=>{r.r(t),r.d(t,{FolderUpdateDescriptionModal:()=>s});var a=r(411855),n=r(188507),i=r(939863),l=r(270056),o=r(353265);function s({folder:e}){let t=(0,n.wA)();return a.createElement(o.c,{initialName:e.description??"",title:(0,i.t)("resource_rename_modal.edit_description"),placeholder:"",submitText:(0,i.t)("resource_rename_modal.save"),onRename:r=>t(l.ub({folderId:e.id,description:r.trim()})),allowEmptyString:!0,maxLength:200})}},165981:(e,t,r)=>{r.r(t),r.d(t,{FOLDER_TEAM_ACCESS_CHANGE_DROPDOWN:()=>el,FolderCreationModal:()=>ei,FolderTeamAccessRow:()=>eo});var a=r(411855),n=r(188507),i=r(263159);let l=(0,a.memo)(function(e){return(0,i.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,i.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0m1 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0m3 5a1 1 0 1 1 2 0v2.5a.5.5 0 0 0 1 0V10a2 2 0 1 0-4 0v2.5a.5.5 0 0 0 1 0zM5 9a1 1 0 0 0-1 1v2.5a.5.5 0 0 1-1 0V10a2 2 0 1 1 4 0v2.5a.5.5 0 0 1-1 0V10a1 1 0 0 0-1-1m7-4a1 1 0 1 1-2 0 1 1 0 0 1 2 0m1 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0",clipRule:"evenodd"})})});var o=r(133537),s=r(966712),c=r(915440),d=r(268537),m=r(946689),u=r(455057),_=r(493323),p=r(163023),f=r(154254),g=r(939863),E=r(694443),h=r(738269),y=r(270056),v=r(662275),b=r(672517),w=r(385111),T=r(860178),I=r(99506),C=r(279453),x=r(623746),N=r(643067),k=r(243987),S=r(147206),L=r(297536),A=r(389643),R=r(206193),P=r(668860),F=r(501256),O=r(143678),D=r(764299),M=r(320063),B=r(418956),U=r(456104),V=r(582947),W=r(397065),H=r(340514),$=r(864114),j=r(493364),G=r(463546);let Y=(0,V.r1)("seen_sharing_clarity_project_modal_overlay"),z="sc_project_creation_permission_onboarding_key";function q(){let e=(0,B.md)(Y),{show:t,isShowing:r,complete:n}=(0,U.e)({overlay:G.QpH,priority:W.N.DEFAULT_MODAL},[e]);(0,M.h)(()=>{t({canShow:e=>!e})});let i=a.createElement("a",{href:"https://help.figma.com/hc/en-us/articles/360038006494-Create-a-new-project",className:f.cx.colorTextOnbrand.underline.$},(0,g.tx)("rcs.sharing_clarity.learn_more"));return a.createElement(H.rq,{isShowing:r,title:(0,g.tx)("rcs.sharing_clarity.project_creation_permissions_title"),description:a.createElement("p",null,(0,g.tx)("rcs.sharing_clarity.project_creation_permissions_description",{learnMoreLink:i})),trackingContextName:"Sharing Clarity Project Creation Permission Onboarding",onClose:n,targetKey:z,arrowPosition:j.F_.LEFT_TITLE,zIndex:$.R.MODAL,emphasized:!0,disableHighlight:!0})}var Q=r(988722),K=r(585878),X=r(24791),Z=r(561916),J=r(268787),ee=r(479842),et=r(816985);let er="folder_creation_modal--sectionHeader--EcWYc text--fontPos11--2LvXf text--_fontBase--QdLsd";var ea=r(289298),en=r(562128);function ei(e){let t=(0,n.wA)(),[r,i]=a.useState(""),[d,p]=a.useState(!1),[E,k]=a.useState(0),M=I.eD.TEAM_ACCESS_EDIT,B=w.h.useTrackingContext({trigger:R.b.FOLDER_CREATION_MODAL}),U=(0,n.d4)(e=>e.contacts),V=(0,n.d4)(e=>e.dropdownShown),W=(0,n.d4)(e=>e.autocomplete),H=(0,T.iZ)(),$=(0,c.Rs)(C.mCn,{teamId:e.teamId}),j=(0,s.kc)().sc_workspace_audience,G=a.useMemo(()=>{if("loading"===$.status||!$.data)return null;let t=$.data.team;if(!t)return null;let r="loaded"===t.workspace.status?t.workspace.data:void 0;return{team:{id:e.teamId,name:t.name,imgUrl:t.imgUrl,subscription:t.subscription,student_team:!!t.studentTeamAt,grace_period_end:t.gracePeriodEnd,restrictions_list:t.restrictionsList,canAdmin:t.canAdmin,canEdit:t.canEdit,sharing_audience_control:t.sharingAudienceControl},org:t.org&&{id:t.org.id,name:t.org.name,img_url:t.org.imgUrl,org_domains:(0,x.vy)(t.org.orgDomains),domain_capture:t.org.domainCapture,invite_whitelist_guest_invite_setting:t.org.inviteWhitelist?.guestInviteSetting}||null,orgUser:t.org&&t.org.currentBaseOrgUser,workspace:r}},[$,e.teamId]),Y=G&&G.team,Q=G&&G.org,X=Q&&Q.org_domains?Q.org_domains:{domains:[],isFetching:!1,fetchedAt:null},et=a.useCallback(()=>Y&&Y.sharing_audience_control!==I.PQ.ORG_EDIT&&Y.sharing_audience_control!==I.PQ.ORG_VIEW?Y.sharing_audience_control===I.PQ.WORKSPACE_EDIT||Y.sharing_audience_control===I.PQ.WORKSPACE_VIEW?Z._9.WORKSPACE:Z._9.INVITE_ONLY:Z._9.ORG,[Y]),ea=a.useCallback(()=>Y&&(Y.sharing_audience_control===I.PQ.ORG_EDIT||Y.sharing_audience_control===I.PQ.WORKSPACE_EDIT)?Z.J4.EDIT:Z.J4.VIEW,[Y]),[en,ei]=a.useState(et()),[el,eo]=a.useState(ea()),[es,ec]=a.useState(P.e6.EDITOR);a.useEffect(()=>{ei(et()),eo(ea())},[et,ea]);let ed=()=>{1===E?k(0):(t(v.Lo()),t(h.bx()))},em=e=>(0,L.t9)(e,Q,X),eu=e=>(0,L.yI)(e,U.usersByEmail[e]||e,Q,X,H.email),e_=()=>Q&&Q.domain_capture&&X.domains.length>0?(0,F.Z)(W).filter(e=>(0,o.xf)(e)&&!(0,N.H_)(X.domains,e)):[],ep=e=>{if(Q&&Q?.invite_whitelist_guest_invite_setting==null&&e.length>0){t((0,v.to)({type:ee.F,data:{emails:e,onConfirm:()=>{ef()},popStack:!0,orgName:Q.name}}));return}},ef=()=>{let a;en===Z._9.ORG?a=el===Z.J4.EDIT?I.PQ.ORG_EDIT:I.PQ.ORG_VIEW:en===Z._9.WORKSPACE?a=el===Z.J4.EDIT?I.PQ.WORKSPACE_EDIT:I.PQ.WORKSPACE_VIEW:en===Z._9.INVITE_ONLY&&(a=I.PQ.INVITE_ONLY),t(y.vt({shouldRedirect:!e.modalShown,name:r.trim(),teamId:e.teamId,isInviteOnly:void 0,isViewOnly:void 0,sharingAudienceControl:Q?a:void 0,teamAccess:M,inviteEmails:(0,F.Z)(W),inviteLevel:es,orgId:Q?.id,onFolderCreated:e.onFolderCreated}))};return a.createElement(b.fu,{name:O.e0.CREATE_NEW_PROJECT_MODAL,properties:{teamId:Y?.id,...B}},a.createElement(K.XV,{title:0===E?(0,g.t)("project_creation.create_project"):(0,g.t)("project_creation.add_people_to_project_name",{projectName:r}),onClose:ed,maxWidth:468},G?a.createElement("div",{className:"folder_creation_modal--modalContainer--DmgME"},0===E?a.createElement(a.Fragment,null,a.createElement("div",{className:er},(0,g.t)("project_creation.name")),a.createElement(m.ks,{className:"folder_creation_modal--folderNameInput--Lcn4c",onChange:e=>i(e.target.value),onFocus:()=>p(!0),onBlur:()=>p(!1),value:r,autoFocus:!0,required:!0,maxLength:m.wG,minLength:1,placeholder:(0,g.t)("project_creation.ex_growth_experiments"),"aria-label":(0,g.t)("project_creation.project_name")}),0===r.trim().length&&!d&&a.createElement("div",{className:"folder_creation_modal--inputErrorMessage--AGzQC"},(0,g.t)("project_creation.project_name_empty")),Q&&Y&&a.createElement(a.Fragment,null,a.createElement("div",{className:er,"data-onboarding-key":z},(0,g.t)("project_creation.who_has_access")),a.createElement(q,null),a.createElement(Z.YU,{resourceType:I.vt.FOLDER,value:en,onChange:ei,org:Q,team:Y,audienceAccessLevel:el,workspace:j?G.workspace:void 0}),en!==Z._9.INVITE_ONLY&&a.createElement(a.Fragment,null,a.createElement("div",{className:er},(0,g.t)("folder_permissions_modal.what_they_can_do")),a.createElement(Z.Iz,{selectedPermissionsLevel:el,setSelectedPermissionsLevel:eo}),a.createElement("div",{className:"folder_creation_modal--subtitle--H3qLc text--fontPos11--2LvXf text--_fontBase--QdLsd text--fontPos11--2LvXf text--_fontBase--QdLsd"},el===Z.J4.VIEW?(0,g.t)("project_creation.can_view_and_comment"):(0,g.t)("project_creation.can_create_and_edit_files"))))):(()=>{let e=Q?Q.id:null,r=G&&G.orgUser,n=[P.e6.EDITOR,P.e6.VIEWER];return a.createElement("div",{className:"folder_creation_modal--stepTwoContainer--7Oi4o"},a.createElement(D.e,{autocomplete:W,dispatch:t,dropdownShown:V,dropdownKey:"permissions-invite-dropdown",inviteLevel:es,onInviteLevelChange:ec,getSelectText:S.C1,options:n,searchResultToken:em,getSearchResults:t=>(0,A.Wj)(t,U.usersByEmail,H,[],e,null,null,r?.permission===I._D.GUEST),validateToken:eu,TokenComponent:J.g,SearchResultComponent:J.o,joinLinkShown:!1,shouldAutoFocus:!0,placeholderText:(0,g.t)("team_creation.add_a_name_or_email")}))})(),a.createElement("div",{className:"folder_creation_modal--bottomRow--CWsIx"},a.createElement("div",{className:"folder_creation_modal--footer--9Hie8 folder_creation_modal--subtitle--H3qLc text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,g.tx)("project_creation.step_number_of_max_steps",{currentStep:E+1,maxSteps:2})),a.createElement("div",{className:"folder_creation_modal--buttons--6cjVs"},a.createElement(m.tM,{onClick:ed},0===E?(0,g.tx)("project_creation.cancel"):(0,g.tx)("project_creation.back")),a.createElement(m.vd,{onClick:()=>{if(0===E)k(1);else if(Q){let e=e_();e.length>0?ep(e):ef()}else ef()},disabled:0===E&&0===r.trim().length},0===E?(0,g.tx)("general.continue"):(0,g.tx)("project_creation.create_project")))),(0,s.kc)().fc_general&&1===E&&a.createElement(u._,{color:u.S.PLAIN,icon:a.createElement(l,null),text:a.createElement(a.Fragment,null,a.createElement("p",{className:f.cx.textBodyMediumStrong.$},(0,g.t)("project_creation.figma_has_connected_projects")),a.createElement("p",null,(0,g.tx)("project_creation.learn_more_about_the_benefit",{learnMore:a.createElement("a",{href:"https://help.figma.com/hc/articles/10250387712407"},(0,g.t)("file_browser.team_settings.learn_more"))})))})):a.createElement("div",{className:"folder_creation_modal--loading--9KmQd"},a.createElement(_.qc,null))))}let el="FOLDER_TEAM_ACCESS_CHANGE_DROPDOWN";function eo(e){let t=t=>{(0,k.w5)(e.team)?e.setTeamAccess(t):(e.setTeamAccess(I.eD.TEAM_ACCESS_EDIT),t===I.eD.TEAM_ACCESS_VIEW?i((0,v.to)({type:X.Ni,data:{team:e.team,editorType:null,upsellSource:R.b.FOLDER_CREATION_MODAL}})):i((0,v.to)({type:X.Dp,data:{team:e.team,editorType:null,upsellSource:R.b.FOLDER_CREATION_MODAL}})))},r=a.createElement(E.n,{team:e.team,size:24,avatarSvg:en.A,opacity:e.teamAccess===I.eD.TEAM_ACCESS_DISABLED?"0.7":void 0}),i=(0,n.wA)(),l=(0,n.d4)(e=>e.dropdownShown),o=e.team.id&&e.team.canEdit,s=()=>l&&l.type===el,c=null,m={};return s()&&l.data&&l.data.position&&(m={...l.data.position}),a.createElement(a.Fragment,null,a.createElement("div",{className:et.xf},a.createElement("div",{className:"folder_creation_modal--teamAvatarContainer--KL-B-"},r),a.createElement("div",{className:et.$S},a.createElement("div",{className:et.yb},a.createElement("div",{className:e.teamAccess===I.eD.TEAM_ACCESS_DISABLED?"folder_creation_modal--teamNameFaded--ugwhq folder_creation_modal--teamName--P9n7q ellipsis--ellipsis--Tjyfa folder_creation_modal--fadedText--KyLSq":"folder_creation_modal--teamName--P9n7q ellipsis--ellipsis--Tjyfa"},e.team.name),a.createElement(a.Fragment,null,e.teamAccess===I.eD.TEAM_ACCESS_DISABLED&&o&&a.createElement("button",{className:et.KU,onClick:()=>t(I.eD.TEAM_ACCESS_EDIT)},(0,g.tx)("folder_access_row.give_access")),e.teamAccess!==I.eD.TEAM_ACCESS_DISABLED&&o&&a.createElement(a.Fragment,null,a.createElement("button",{ref:e=>{e&&(c=e)},onClick:()=>{if(s())i(h.oB());else if(c){let t=c.getBoundingClientRect(),r=e.teamAccess===I.eD.TEAM_ACCESS_VIEW;i(h.j7({type:el,data:{position:{top:t.top+-((r?1:0)*24),bottom:"auto",left:t.left,right:"auto"}}}))}},className:et.Lt,"data-onboarding-key":Q.I},a.createElement("span",null,e.teamAccess===I.eD.TEAM_ACCESS_VIEW?(0,g.t)("permissions.level_name.can_view"):(0,g.t)("permissions.level_name.can_access")),a.createElement("div",{className:et.Lo},a.createElement(p.B,{svg:ea.A}))),a.createElement(Q.S,null)),s()&&a.createElement(d.ms,{className:et.N1,style:{position:"fixed",...m}},a.createElement("div",{"data-testid":"folder-level-edit"},a.createElement(d.MM,{checked:e.teamAccess===I.eD.TEAM_ACCESS_EDIT,onClick:()=>t(I.eD.TEAM_ACCESS_EDIT)},(0,g.tx)("permissions.level_name.can_access"))),a.createElement("div",{"data-testid":"folder-level-view"},a.createElement(d.MM,{checked:e.teamAccess===I.eD.TEAM_ACCESS_VIEW,onClick:()=>t(I.eD.TEAM_ACCESS_VIEW)},(0,g.tx)("permissions.level_name.can_view"))),a.createElement(d.wv,null),a.createElement(d.c$,{onClick:()=>t(I.eD.TEAM_ACCESS_DISABLED)},(0,g.tx)("folder_access_row.remove"))))))))}},49891:(e,t,r)=>{r.d(t,{Mv:()=>I,tG:()=>b});var a=r(411855),n=r(966712),i=r(498750),l=r(946689),o=r(154254),s=r(881388),c=r(939863),d=r(662275),m=r(720647),u=r(99506),_=r(820113),p=r(243987),f=r(265361),g=r(237870),E=r(474742),h=r(258933);function y(e){let t=a.useRef(null),[r,u]=a.useState(!1),[g,E]=a.useState(null),y=new _.vr(e.currency),v=!e.allowZeroSeats,b=e.numAnnualEditors,T=b>0,C=t=>{e.onNumAnnualEditorsChange(t)},x=a.createElement("button",{type:"button",className:h.J,"data-testid":`add-${e.editorType}-seats`,onClick:()=>u(!0)},(0,c.tx)("payments.step_pay.add_more_seats"));return a.createElement("div",{className:h.wD,key:`${e.editorType}-step-pay-row`,"data-testid":`${e.editorType}-step-pay-row`},a.createElement("div",null,a.createElement("div",{className:h.Uu},a.createElement("span",null,(0,c.tx)("payments.step_pay.editors_on_annual_plan.seat_rename",{numAnnualEditors:e.numAnnualEditors,numAnnualEditorsNumberOrInput:r?a.createElement(l.ks,{ref:t,className:h.jD,value:null==g?e.numAnnualEditors:g,onChange:e=>{E(e.target.value)},onBlur:()=>{let t=parseInt(g);if(!isNaN(t)){if(t<0)e.dispatch(s.s.error((0,c.t)("flash.no_negative_seats")));else if(0===t)v?e.dispatch(s.s.error((0,c.t)("flash.at_least_one_editor.seat_rename"))):C(0);else if(t>p.m){let t=a.createElement("a",{href:`mailto:${(0,n.W4)()}`},(0,c.tx)("flash.annual_plan.contact_support_link"));e.dispatch(s.s.error((0,c.tx)("flash.annual_plan.contact_support",{contactSupport:t,maxAnnualSubscriptions:p.m})))}else t>100?e.dispatch(d.to({type:I,data:{numAnnualEditors:t,onConfirm:()=>C(t)}})):C(t)}E(null),u(!1)},onKeyDown:e=>{let t=e.target;e.keyCode===i.Uz.ENTER?(e.preventDefault(),t.blur()):e.keyCode===i.Uz.ESCAPE&&u(!1)}}):e.numAnnualEditors,productType:(0,f.E)((0,m.vc)(e.editorType))}))),!r&&a.createElement("div",{className:o.cx.flex.flexColumn.gap4.$},e.editorBreakdown,a.createElement("p",{className:h.eK},(0,c.tx)("payments.step_pay.add_more_editors",{addMoreSeats:x})))),a.createElement(w,{amount:e.totalCost,lineItem:T?b>0?(0,c.t)("payments.step_pay.price_per_editor_12_months",{price:y.formatMoney(e.annualMonthlyCost,{showCents:!1}),editorString:(0,c.t)("payments.step_pay.num_editors.seat_rename",{numEditors:b})}):(0,c.t)("payments.step_pay.none_selected"):void 0,shouldShowAmount:e.numAnnualEditors>0,currency:e.currency}))}function v(){return a.createElement("div",{className:h.me})}function b(e){let{numAnnualDesignEditors:t,numAnnualWhiteboardEditors:r,isTeamPro:n,totalDesignEditors:i,totalWhiteboardEditors:l,monthlyDesignAmount:o,monthlyFigjamAmount:s,annualMonthlyDesignAmount:d,annualMonthlyFigjamAmount:m}=e,_=i-t,p=t*d*12+(!n&&_>0?_*o:0),f=l-r,g=r*m*12+(!n&&f>0?f*s:0);return a.createElement("div",null,a.createElement(y,{dispatch:e.dispatch,editorType:u._Y.DESIGN,onNumAnnualEditorsChange:e.onNumAnnualDesignEditorsChange,numAnnualEditors:t,allowZeroSeats:0!==r,currency:e.currency,totalCost:p,annualMonthlyCost:d}),a.createElement(y,{dispatch:e.dispatch,editorType:u._Y.WHITEBOARD,onNumAnnualEditorsChange:e.onNumAnnualWhiteboardEditorsChange,numAnnualEditors:r,allowZeroSeats:0!==t,currency:e.currency,totalCost:g,annualMonthlyCost:m}),a.createElement(v,null),a.createElement("div",{className:h.wD},a.createElement("div",{className:h.YK},(0,c.tx)("payments.step_pay.subscription")),a.createElement(T,{amount:p+g,plusTax:!0,dataTestId:"subscription-total-cost",currency:e.currency})))}function w(e){let t=new _.vr(e.currency);return a.createElement("div",{className:h.R6},e.shouldShowAmount?t.formatMoney(e.amount,{showCents:!1}):"--",a.createElement("div",{className:o.cx.flex.flexColumn.gap4.$},e.lineItem&&a.createElement("div",{className:h.eK},e.lineItem)))}function T(e){let t=new _.vr(e.currency);return a.createElement("div",{className:h.X5},a.createElement("p",{className:h.IW,"data-testid":e.dataTestId},t.formatMoney(e.amount,{showCents:!1})),e.plusTax&&a.createElement("p",{className:h.B8},(0,c.tx)("payments.step_pay.plus_sales_tax")))}let I="confirm-seats-modal";function C(e){let t=e.modalShown.data.numAnnualEditors;return a.createElement(E.Rw,{confirmationTitle:(0,c.t)("payments.step_pay.thats_a_lot_of_seats",{numAnnualEditors:t}),onConfirm:e.modalShown.data.onConfirm,confirmText:(0,c.t)("payments.step_pay.confirm_seats"),...e},(0,c.tx)("payments.step_pay.happy_you_want_to_buy_seats",{numAnnualEditors:t}))}(0,g.qK)(I,e=>a.createElement(C,{...e}))},439466:(e,t,r)=>{r.d(t,{l:()=>a});let a="trashed-projects"},487973:(e,t,r)=>{r.r(t),r.d(t,{AddPinModal:()=>y});var a=r(411855),n=r(188507),i=r(140593),l=r(268853),o=r(609494),s=r(915440),c=r(776621),d=r(881388),m=r(939863),u=r(809840),_=r(662275),p=r(988022),f=r(279453),g=r(936682),E=r(366559),h=r(119735);function y({fileKey:e,source:t,open:r,onClose:i}){let u=(0,n.wA)(),y=(0,E.p)((0,m.t)("file_browser.pinning.pin_modal.confirmation_bell"),"file-browser-workspace-add-pin"),b=(0,s.Rs)(f.wtK,{fileKey:e}),w=function(e){let[t,r]=a.useState(!1),n="loaded"===e.status&&e.data.file&&!e.data.file.canPinToWorkspace&&e.data.file.canEdit;return n&&!t&&r(!0),n||t}(b);if("loaded"!==b.status)return null;let{file:T}=b.data;if(!T)return(0,c.$D)(l.e.WAYFINDING,Error("AddPinModal unable to lookup file by ID")),u(_.Lo()),null;let I=T.computedWorkspace?.workspace;if(!I)return(0,c.$D)(l.e.WAYFINDING,Error("AddPinModal opened for file with no workspace")),u(_.Lo()),null;let C=(0,h.KR)(T),x=async e=>{try{await g.p.pinFile({resourceType:h.AH,resourceId:I.id,fileKey:T.key,description:e,shouldUpdatePermissions:w}),(0,p.E9)("file_browser_file_pinned_to_resource",T,{resourceType:h.AH,resourceId:I.id,source:t,pinDescription:(0,o._Z)(e)}),y(I.id)}catch(e){throw u(d.s.error((0,m.t)("file_browser.pinning.pin_modal.error"))),e}},N=w?a.createElement(v,{file:T,workspace:I}):null;return a.createElement(E.N,{title:(0,m.t)("file_browser.pinning.pin_modal.pin_file_to_workspace"),confirmText:(0,m.t)("file_browser.pinning.pin_file"),onSubmit:x,file:C,initialDescription:null,warningContent:N,open:r,onClose:i})}function v({file:e,workspace:t}){let r=e.parentOrgId;(0,i.B1)(r);let l=(0,n.d4)(({orgById:e})=>e[r].name);return a.createElement(u.E,null,(0,m.tx)("file_browser.pinning.update_permissions.content",{workspaceName:t.name,permission:a.createElement(u.E,{fontWeight:"bold"},(0,m.tx)("file_browser.pinning.update_permissions.content.permission",{orgName:l}))}))}},923967:(e,t,r)=>{r.r(t),r.d(t,{DeletePinModal:()=>h});var a=r(411855),n=r(188507),i=r(268853),l=r(609494),o=r(915440),s=r(776621),c=r(36657),d=r(881388),m=r(939863),u=r(988022),_=r(860178),p=r(99506),f=r(279453),g=r(936682),E=r(366559);function h({pinnedFileId:e,open:t,onClose:r}){let h=(0,_.TA)(),y=(0,n.wA)(),v=(0,E.p)((0,m.t)("file_browser.pinning.delete_pin_modal.confirmation_bell"),"file-browser-workspace-delete-pin"),[b,w]=a.useState(!1),T=(0,o.Rs)(f.qBf,{pinnedFileId:e});if("loaded"!==T.status)return null;let{pinnedFile:I}=T.data;if(!I)return(0,s.$D)(i.e.WAYFINDING,Error("DeletePinModal unable to lookup pinned file by ID")),r(),null;if(I.resourceType!==p.K.WORKSPACE)return(0,s.$D)(i.e.WAYFINDING,Error("DeletePinModal opened for pinned file with non-workspace resource type"),{extra:{resourceType:I.resourceType}}),r(),null;let C=async t=>{t.preventDefault();try{w(!0),await g.p.deletePin({pinnedFileId:e}),(0,u.E9)("file_browser_file_unpinned_from_resource",I.file,{resourceId:I.resourceId,resourceType:I.resourceType,isPinCreator:I.creator?.id===h,pinDescription:(0,l._Z)(I.description)}),v(I.resourceId),r()}catch(e){y(d.s.error((0,m.t)("file_browser.pinning.delete_pin_modal.error")))}finally{w(!1)}};return a.createElement(c.R,{title:(0,m.t)("file_browser.pinning.delete_pin_modal.header"),confirmText:(0,m.t)("file_browser.pinning.delete_pin_modal.confirm"),onConfirm:C,destructive:!0,isLoading:b,open:t,onClose:r},(0,m.t)("file_browser.pinning.delete_pin_modal.content"))}},542406:(e,t,r)=>{r.r(t),r.d(t,{EditPinModal:()=>g});var a=r(411855),n=r(188507),i=r(268853),l=r(915440),o=r(776621),s=r(881388),c=r(939863),d=r(662275),m=r(99506),u=r(279453),_=r(936682),p=r(366559),f=r(119735);function g({pinnedFileId:e,open:t,onClose:r}){let g=(0,n.wA)(),E=(0,p.p)((0,c.t)("file_browser.pinning.pin_modal.edit.confirmation_bell"),"file-browser-workspace-edit-pin"),h=(0,l.Rs)(u.vgO,{pinnedFileId:e});if("loaded"!==h.status)return null;let{pinnedFile:y}=h.data;if(!y)return(0,o.$D)(i.e.WAYFINDING,Error("EditPinModal unable to lookup pinned file by ID")),g(d.Lo()),null;if(y.resourceType!==m.K.WORKSPACE)return(0,o.$D)(i.e.WAYFINDING,Error("EditPinModal opened for pinned file with non-workspace resource type"),{extra:{resourceType:y.resourceType}}),g(d.Lo()),null;let v=y.resourceId,b=async t=>{try{await _.p.updatePin({pinnedFileId:e,description:t}),E(v)}catch(e){throw g(s.s.error((0,c.t)("file_browser.pinning.pin_modal.edit.error"))),e}},w=(0,f.KR)(y.file);return a.createElement(p.N,{title:(0,c.t)("file_browser.pinning.pin_modal.edit_pin_description"),confirmText:(0,c.t)("file_browser.pinning.pin_modal.save"),onSubmit:b,file:w,initialDescription:y.description,open:t,onClose:r})}},366559:(e,t,r)=>{r.d(t,{N:()=>D,p:()=>M});var a=r(411855),n=r(188507),i=r(862350),l=r(951792),o=r(288006),s=r(463033),c=r(880112),d=r(609494),m=r(493323),u=r(174952),_=r(154254),p=r(939863),f=r(392592),g=r(172522),E=r(167893),h=r(738269),y=r(104681),v=r(611978),b=r(352898),w=r(629019),T=r.n(w),I=r(377750),C=r(418956),x=r(860601),N=r(355819),k=r(428322),S=r(883211),L=r(282026),A=r(896474),R=r(336174);function P({buttonClassName:e,onInsert:t,closeOnInsert:r}){let[n,i]=a.useState(null),l=a.useRef(null),o=a.useCallback(()=>{l.current&&i(l.current.getBoundingClientRect())},[i]),s=a.useCallback(e=>{t(e),r&&i(null)},[t,r,i]);return a.createElement("button",{className:e,ref:l,onClick:o},a.createElement(A.In,{icon:"smiley-32"}),n&&a.createElement(R._,{onInsert:s,onCancel:()=>i(null),targetRect:n}))}let F={library:{list:()=>Promise.resolve([]),search:()=>Promise.resolve([]),maxResultsLength:()=>0}};function O({placeholder:e,text:t,onChange:r,maxLength:i,onSubmit:l,textAreaClassName:o}){let s=(0,n.wA)(),c=C.zl.get(S.ph),[m,u]=a.useState(!1),p=a.useRef(null),f=a.useCallback(e=>{e.preventDefault(),e.stopPropagation(),p.current&&p.current.focus()},[]),g=(0,d.Kq)(t,{includeTrailingWhitespace:!0});return a.createElement("div",{className:"emoji_text_area--textAreaContainer--4FHeL",onClick:f},a.createElement(N.P,{className:T()(_.cx.flexGrow1.overflowAuto.maxWFull.borderBox.if(m,_.cx.bb1.bSolid.colorBorder).$,o),innerClassName:_.cx.hFull.$},a.createElement(L.iX,{dispatch:s,ref:p,typeahead:c,updateMessage:([e,t])=>{r(e)},placeholderText:e,mountInputFocused:!0,submitOnEnter:!1,onSubmit:l??x.lQ,messageMeta:t,mentionables:F,className:_.cx.pt16.px16.borderBox.if(m,_.cx.pb4).$,onUpdateTextArea:x.lQ,editorOnInsert:x.lQ,onFocus:x.lQ,onCancel:x.lQ,editorOnClear:x.lQ,setIsEditorFocused:x.lQ,currentOrgUsers:{orgUsers:{}}}),a.createElement(k.a,{onInitialLoad:e=>u(!e),onIntersectionChange:e=>u(!e.isIntersecting)})),a.createElement("div",{className:_.cx.flex.justifyBetween.itemsCenter.pl12.pr16.py12.$},a.createElement(P,{buttonClassName:"emoji_text_area--emojiPickerButton--CGYqF",onInsert:e=>{if(p.current){let t=I.dN.get(e.id);t&&(p.current.insertEmoji(t),p.current.focus())}},closeOnInsert:!0}),i&&a.createElement("div",{className:_.cx.if(g>i,_.cx.colorTextDanger,_.cx.colorTextSecondary).cursorDefault.$},g,"/",i)))}function D({title:e,confirmText:t,onSubmit:r,file:n,initialDescription:f,warningContent:h,open:v,onClose:b}){let[w,T]=a.useState(f??[]),[I,C]=a.useState(!1),x=(0,y.fA)(n),N=(0,g.l)(n.folder_id),k=(0,d.Kq)(w,{includeTrailingWhitespace:!0}),S=k<=100&&k>0,L=a.useCallback(async()=>{if(S)try{C(!0),await r(w),b()}finally{C(!1)}},[r,S,b,w]),A=i.hS({open:v,onClose:b}),R=a.createElement(a.Fragment,null,a.createElement("div",{className:_.cx.p16.gap16.flex.flexColumn.$},a.createElement("div",{className:_.cx.flex.flexColumn.gap16.$},a.createElement("div",null,a.createElement(u.e,{tile:x,borderRadius:6})),a.createElement("div",{className:_.cx.flex.flexRow.gap8.itemsCenter.$},a.createElement(E.j,{tile:x,usePageIcon:!0}),a.createElement("div",{className:_.cx.flex.flexColumn.gap2.flexGrow1.justifyCenter.overflowHidden.cursorDefault.$},a.createElement("div",{className:_.cx.textBodyLargeStrong.truncate.$},n.name),"loaded"===N.status&&N.data?a.createElement("div",{className:_.cx.colorTextSecondary.truncate.$},N.data):null))),a.createElement(O,{placeholder:(0,p.t)("file_browser.pinning.pin_modal.description_textarea_placeholder"),text:w,onChange:T,onSubmit:L,maxLength:100,textAreaClassName:_.cx.maxH100.$})),h?a.createElement("div",{className:_.cx.colorBgWarningTertiary.px16.py12.flex.columnGap8.$},a.createElement(c.R,{className:_.cx.flexShrink0.$}),a.createElement("span",null,h)):null);return a.createElement(l.bL,{manager:A,width:"lg"},a.createElement(o.vo,null,a.createElement(o.Y9,null,a.createElement(o.hE,null,e)),a.createElement(o.nB,{noPadding:!0},R),a.createElement(o.wi,null,a.createElement(o.jk,null,a.createElement(s.$n,{variant:"secondary",onClick:b},(0,p.tx)("modal.cancel")),I?a.createElement(s.$n,{disabled:!0},a.createElement(m.kt,{className:_.cx.colorIconOnbrand.$})):a.createElement(s.$n,{disabled:!S,variant:"primary",onClick:L},t)))))}function M(e,t){let r=(0,n.wA)(),i=(0,v._6)();return a.useCallback(a=>{let n;("workspace"!==i.view||i.subView!==b.V0.DIRECTORY)&&(n={text:(0,p.t)("file_browser.pinning.pin_modal.confirmation_bell.view_workspace"),action:()=>{r(h.$T({view:"workspace",subView:b.V0.DIRECTORY,workspaceId:a,selectedTab:b.dN.TEAMS}))}}),r(f.F.enqueue({type:t,message:e,button:n}))},[r,e,t,i])}},549999:(e,t,r)=>{r.d(t,{$:()=>u});var a=r(411855),n=r(188507),i=r(737947),l=r(498750),o=r(738269),s=r(507877),c=r(694687),d=r(352898);if(443==r.j)var m=r(231959);function u(){let e=(0,c.dq)(),t=(0,n.wA)();return a.useCallback((r,a)=>{if(t(s.kg({clickedResourceType:"workspace",resourceIdOrKey:r??void 0})),(0,l.Fo)(a)||a.shiftKey){let t=`/files/${e}/workspace/${r??m.O}/directory/teams`;i.Ay.redirect(t,"_blank"),a.preventDefault()}else t(o.$T({view:"workspace",subView:d.V0.DIRECTORY,workspaceId:r,selectedTab:d.dN.TEAMS}))},[e,t])}},310908:(e,t,r)=>{r.d(t,{J:()=>o});var a=r(411855),n=r(188507),i=r(524173),l=r(939863);function o({index:e}){let t=(0,n.d4)(e=>!!e.payment.promo);return a.createElement("div",{className:"team_creation_breadcrumbs--stepBreadcrumbs--tP08U step_breadcrumb--stepBreadcrumbs--E4Woe"},a.createElement(i.On,{selected:1===e,number:1,text:(0,l.t)("team_creation.name_your_team")}),a.createElement(i.On,{selected:2===e,number:2,text:(0,l.t)("team_creation.add_team_members")}),!t&&a.createElement(i.On,{selected:3===e,number:3,text:(0,l.t)("team_creation.finish_setup")}))}},831649:(e,t,r)=>{r.d(t,{W:()=>m});var a=r(411855),n=r(188507),i=r(561546);if(443==r.j)var l=r(796933);var o=r(676485),s=r(738269),c=r(502972),d=r(257862);function m(e){let t=[...e.orgTeams.data||[]],r=t.length<i.Tw;(0,i.KQ)(t,"name",{useExpensiveNaturalComparison:r});let m="loaded"!==e.orgTeams.status,[u,_]=a.useState(void 0),p=(0,n.wA)(),f=(e,t)=>{e.stopPropagation(),e.preventDefault();let r={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};_(t.id),p(s.j7({type:l.RQ,data:{teamId:t.id,targetRect:r}}))};return a.createElement(o.X,{isLoading:m,emptyView:e.emptyView??a.createElement(c.C,{onCreateTeam:e.onCreateTeam})},t.map(t=>a.createElement(d.mc,{key:t.id,team:t,onJoin:e.onJoin,onLeave:e.onLeave,setSelectedTeamId:_,selectedTeamId:u,onContextMenu:f,inItemsView:!1})))}},777489:(e,t,r)=>{r.d(t,{h:()=>h});var a=r(411855),n=r(561546),i=r(939863),l=r(676485),o=r(188507),s=r(981911),c=r(124423),d=r(738269),m=r(507877),u=r(988022),_=r(594901),p=r(935938),f=r(928491),g=r(516724);function E(e){let[t,r]=a.useState(!1),n=(0,o.wA)(),i=(0,o.d4)(e=>e.selectedView),l=(0,_.FC)(),E=e.team,h=()=>{(0,u._J)("file_browser_team_click",E.id,l,{selectedView:"recentsAndSharing"===i.view?i.tab||p.G.RECENTLY_VIEWED:i.view,viewMode:"grid"}),n(m.kg({clickedResourceType:"team",resourceIdOrKey:E.id})),n(d.$T({view:"team",teamId:E.id}))},y=e.selectedTeamId===e.team.id,v=t||y;return a.createElement(c.a,{name:E.name,description:E.description,headerLeft:a.createElement(f.Ro,{className:g.rP,entity:E,size:40}),headerRight:a.createElement(s.m,{team:E,onLeave:e.onLeave,isCardActive:v}),onClick:t=>{1===t.detail?e.setSelectedTeamId(e.team.id):2===t.detail&&h()},canView:!0,isCardActive:v,isSelected:y,onMouseOver:()=>{r(!0)},onMouseOut:()=>{r(!1)}})}function h(e){let t=e.teams;(0,n.KQ)(t,"name");let[r,o]=a.useState(void 0);return a.createElement(l.X,{emptyView:(0,i.tx)("team_tile.guest.no_teams.info",{orgName:e.orgName})},t.map(t=>a.createElement(E,{key:t.id,team:t,onLeave:e.onLeave,selectedTeamId:r,setSelectedTeamId:o})))}},676485:(e,t,r)=>{r.d(t,{X:()=>s,o:()=>o});var a=r(411855),n=r(629019),i=r.n(n),l=r(493323),o=(e=>(e.Medium="Medium",e.Large="Large",e))(o||{});function s(e){let t;return e.isLoading?a.createElement("div",{className:"tile_grid--loadingContainer--1gQIv"},a.createElement(l.kt,null)):!e.children||Array.isArray(e.children)&&!e.children.length?a.createElement("div",{className:"tile_grid--emptyContainer--y8P1H text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.emptyView):(t="Large"===e.tileSize?"tile_grid--gridLarge--EZC2-":"tile_grid--gridMedium--fzult",a.createElement("div",{className:i()("tile_grid--gridContainer--cn4vx",e.containerClassName)},a.createElement("div",{className:t},e.children)))}},392922:(e,t,r)=>{r.d(t,{H:()=>b});var a=r(411855),n=r(188507),i=r(966712),l=r(939863),o=r(611886),s=r(351226),c=r(158996),d=r(162895),m=r(662275),u=r(860178),_=r(556261),p=r(56099),f=r(215822),g=r(239671),E=r(407844),h=r(164795),y=r(146555);if(443==r.j)var v=r(967063);function b(e){let t=(0,u.iZ)(),r=(0,n.wA)(),[b,w]=a.useState(!0),T=e.resource,I=(0,f.uF)(T),C=(0,_.yN)({migrationGroup:p.L.GROUP_2,component:"ShowAdminBypassPaymentBanner",attribute:"figjam_disabled_at",legacy:(e,t)=>t?.figjam_disabled_at||null,migrated:(e,t)=>t?.figjamDisabledAt||null}),x=(0,y.o)(I,C&&{figjam_disabled_at:C}||void 0,g.nT.Whiteboard);if(!b||!t||!(0,i.kc)().community_hub_admin_reviewer)return a.createElement(a.Fragment,null);function N(t){return"hub_file"===(0,c.Vm)(e.resource)}let k=N(e.resource)?(0,l.tx)("community.duplicate.duplicate"):(0,l.tx)("community.detail_view.try_it_out"),S={id:h.om.communityResourceInReviewBanner,bannerType:h.x1.INFO,icon:v.A,mainText:(0,l.t)("community.resource.admin_bypass_payment_banner.viewing_as_community_reviewer_admin"),description:(0,l.tx)("community.resource.admin_bypass_payment_banner.you_are_viewing_this_page_as_an_admin_reviewer"),button:{buttonText:k,onClick:()=>{if(N(e.resource)){let t=o.gE(e=>{r((0,m.to)({type:s._,data:{payload:e}}))},{adminReviewerOverride:!0});r(t(e.resource))}else r(d.aI({resource:T,fullscreenEditorType:x,isPlaygroundFile:!!(I.playground_fig_file||x===g.nT.DevHandoff)}))}},dismissible:!0,positionStatic:!0};return a.createElement(E.C,{content:S,editorType:g.nT.Design,onDismiss:()=>w(!1)})}},385422:(e,t,r)=>{r.d(t,{S:()=>S});var a=r(411855),n=r(188507),i=r(776250),l=r(966712),o=r(881388),s=r(939863),c=r(206144),d=r(952540),m=r(662275),u=r(931828),_=r(611978),p=r(860178),f=r(239671),g=r(583894),E=r(59530),h=r(407844),y=r(946689),v=r(493323),b=r(164795),w=r(896572),T=r(834417),I=r(894513),C=r(10388),x=r(247866);function N({isLoading:e,text:t}){return a.createElement("span",{style:{position:"relative"}},e?a.createElement("div",{className:T.sl},a.createElement(v.kt,{shouldMatchTextColor:!0})):void 0,a.createElement("span",{style:{opacity:e?0:1}},t))}var k=r(82388);function S(e){let[t,r]=a.useState(!1),[v,T]=a.useState(!1),S=(0,n.wA)(),L=(0,n.d4)(e=>e.userFlags),A=(0,p.iZ)(),R=(0,_._6)(),[P,F]=a.useState(!1),O=v||e.isFirstTimeLoading,D="isFirstTimeLoading"in e;if(P&&!D||!A)return a.createElement(a.Fragment,null);let{stripe_account_status:M}=A;if(!D&&(!M||M===g.P5.NONE))return a.createElement(a.Fragment,null);let B=M===g.P5.NONE&&(0,l.kc)().cmty_expand_extension_m10n||M===g.P5.ACCEPTED||O?{userFlag:E.WE,bannerContent:function({isLoading:e,onClick:t,showCTA:r}){let n=a.createElement(y.CY,{className:w.$J,target:"_blank",href:"https://help.figma.com/hc/articles/12067637274519-About-selling-Community-resources",trusted:!0},(0,s.t)("general.learn_more"));return{id:b.om.communityM10nApprovalBanner,bannerType:b.x1.INFO,mainText:(0,l.kc)().cmty_expand_extension_m10n?(0,s.t)("community.seller.sell_on_community_v2"):(0,s.t)("community.seller.good_news"),icon:C.A,button:r?{buttonText:a.createElement(N,{isLoading:e,text:(0,s.t)("community.seller.set_up_stripe")}),onClick:t,className:w.mj}:void 0,description:(0,s.tx)("community.seller.you_may_be_eligible_with_link",{learnMoreLink:n}),dismissible:!!r,positionStatic:!0}}({isLoading:t,onClick:()=>{T(!0),S((0,m.to)({type:k.s,data:{setupStripeCallback:e=>{T(!1),e||S(o.s.error((0,s.t)("community.seller.unable_to_launch_stripe_onboarding_please_check_your_details")))}}}))},showCTA:!D})}:M===g.P5.STARTED_ONBOARDING?{userFlag:E.BY,bannerContent:function({onClick:e,isLoading:t,showCTA:r}){return{id:b.om.communityM10nFinishSetupBanner,bannerType:b.x1.INFO,icon:I.A,button:r?{buttonText:a.createElement(N,{isLoading:t,text:(0,s.t)("community.seller.finish_set_up")}),onClick:e,className:w.mj}:void 0,mainText:(0,s.t)("community.seller.finish_stripe_setup"),description:(0,s.t)("community.seller.few_steps_left_stripe"),dismissible:!!r,positionStatic:!0}}({isLoading:t,onClick:()=>{r(!0),S(d.j({callback:()=>r(!1),user:A,selectedView:R}))},showCTA:!D})}:M===g.P5.DISABLED?{userFlag:E.Q7,bannerContent:function({onClick:e,isLoading:t,showCTA:r}){return{id:b.om.communityM10nAdtlInfoNeededBanner,bannerType:b.x1.WARN,icon:x.A,button:r?{buttonText:a.createElement(N,{isLoading:t,text:(0,s.t)("community.seller.visit_stripe")}),onClick:e,className:w.mj}:void 0,mainText:(0,s.t)("community.seller.stripe_needs_your_attention"),description:(0,s.t)("community.seller.you_can_resolve"),dismissible:!!r,positionStatic:!0}}({isLoading:t,onClick:()=>{},showCTA:!D})}:void 0;if(!B)return a.createElement(a.Fragment,null);let{userFlag:U,bannerContent:V}=B,W=()=>{c.ik()?.(u.b({[U]:!0}))};return L[U]&&!D?a.createElement(a.Fragment,null):a.createElement(h.C,{containerClassName:D?w.hL:void 0,content:V,editorType:f.nT.Design,onDismiss:()=>{W(),F(!0),(0,i.sx)("cmty_m10n_banner_dismissed",{userFlag:U})}})}},210448:(e,t,r)=>{r.d(t,{u:()=>K});var a=r(411855),n=r(188507),i=r(966712),l=r(385422),o=r(860601),s=r(939863),c=r(99506),d=r(401730),m=r(239671),u=r(407844),_=r(164795),p=r(967063);function f(e){let{hasPublisherAdminAccess:t,resource:r}=e,n=(()=>{if(t)return r.publishing_status===c.KB.DELISTED_CREATOR_STRIPE_DISABLED?(0,s.tx)("community.resource.delisted_stripe_issues"):r?.monetized_resource_metadata?.is_subscription?(0,s.tx)("community.resource.delisted_prev_purchasers_can_still_access__subscription"):(0,s.tx)("community.resource.delisted_prev_purchasers_can_still_access");if(r?.community_resource_payment?.subscription_expires_at){let e=new Date(r.community_resource_payment.subscription_expires_at).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"});return(0,s.tx)("community.resource.delisted_you_ll_continue_to_have_access_until",{dateString:e})}return r?.community_resource_payment?.status===d.G3.SUCCEEDED?(0,s.tx)("community.resource.delisted_you_ll_continue_to_have_access_to_it"):(0,s.tx)("community.resource.if_you_have_questions_reach_out_to_creator")})(),i={id:_.om.communityResourceInReviewBanner,bannerType:_.x1.WARN,icon:p.A,mainText:(0,s.t)("community.resource.delisted_title"),description:n,dismissible:!1,positionStatic:!0};return a.createElement(u.C,{content:i,editorType:m.nT.Design,onDismiss:o.lQ})}var g=r(158996),E=r(860178);function h(e){if(!(0,E.iZ)())return a.createElement(a.Fragment,null);let t="hub_file"===(0,g.Vm)(e.resource)?(0,s.t)("community.seller.only_you_can_see_your_file"):"plugin"===(0,g.Vm)(e.resource)?(0,s.t)("community.seller.only_you_can_see_your_plugin"):"widget"===(0,g.Vm)(e.resource)?(0,s.t)("community.seller.only_you_can_see_your_widget"):a.createElement(a.Fragment,null),r={id:_.om.communityResourceInReviewBanner,bannerType:_.x1.WARN,icon:p.A,mainText:(0,s.t)("community.seller.this_page_is_private"),description:t,dismissible:!1,positionStatic:!0};return a.createElement(u.C,{content:r,editorType:m.nT.Design,onDismiss:o.lQ})}function y(e){if(!(0,E.iZ)())return a.createElement(a.Fragment,null);let t="hub_file"===(0,g.Vm)(e.resource)?(0,s.t)("community.resource.unpublished_banner.only_you_can_see_this_page.hub_file"):"plugin"===(0,g.Vm)(e.resource)?(0,s.t)("community.resource.unpublished_banner.only_you_can_see_this_page.plugin"):"widget"===(0,g.Vm)(e.resource)?(0,s.t)("community.resource.unpublished_banner.only_you_can_see_this_page.widget"):a.createElement(a.Fragment,null),r={id:_.om.communityResourceInReviewBanner,bannerType:_.x1.WARN,icon:p.A,mainText:(0,s.t)("community.resource.unpublished_banner.your_resource_is_unpublished"),description:t,dismissible:!1,positionStatic:!0};return a.createElement(u.C,{content:r,editorType:m.nT.Design,onDismiss:o.lQ})}var v=r(545941),b=r(782501),w=r(555328);let T=r(392922).H;function I(e){let t={id:_.om.communityResourceInReviewBanner,bannerType:_.x1.WARN,icon:p.A,mainText:(0,s.t)("community.resource.admin_blocked_resource_banner.this_resource_is_blocked"),description:(0,s.t)("community.resource.admin_blocked_resource_banner.you_can_only_view_this_page_as_an_admin"),dismissible:!1,positionStatic:!0};return a.createElement(u.C,{content:t,onDismiss:o.lQ})}var C=r(737947),x=r(71881),N=r(749949),k=r(837324),S=(e=>(e.EDIT_THIS_PAGE="edit_this_page",e.OPEN_ORIGINAL_FILE="open_original_file",e.UNPUBLISH="unpublish",e.DELIST="delist",e.MANAGE_RESOURCE="manage_resource",e))(S||{}),L=r(417659),A=r(410424),R=r(941381),P=r(446686),F=r(57879),O=r(738269),D=r(662275),M=r(672517),B=r(988022),U=r(946413),V=r(741477),W=r(813408),H=r(143678),$=r(237870),j=r(728587),G=r(474742),Y=r(109361);let z="MANAGE_RESOURCE_DROPDOWN_TYPE",q=(0,$.Ju)(G.Rw);function Q(e){let{resource:t,fileKey:r}=e,i=(0,n.wA)(),l=a.useRef(null),c=(0,n.d4)((0,V.E)(z)),d=(0,n.d4)(e=>e.currentUserOrgId),p=(0,N.J)(),f=(0,k.U0)(t),h=(0,w.U)(e.resource)?H.e0.COMMUNITY_HUB_FILE:(0,w.xQ)(t)?H.e0.COMMUNITY_HUB_WIDGET:H.e0.COMMUNITY_HUB_PLUGIN,y=(0,E.iZ)(),b=(0,w.U)(e.resource),T=(0,w.I0)(e.resource);if(a.useEffect(()=>{b?i((0,A.ts)({hubFileId:e.resource.id})):i((0,R.af)({id:e.resource.id,resourceType:T?w.bD.PLUGIN:w.bD.WIDGET}))},[i,e.resource.id,d,b,T]),!y)return null;let I=(0,w.m3)(t),$=[],G=(0,s.t)("community.resource.edit_this_page");if($.push({displayText:G,callback:()=>{(0,w.U)(t)?((0,B.Cu)({name:S.EDIT_THIS_PAGE,hubFileId:t.id,isMonetized:I,text:G,trackingContext:H.e0.COMMUNITY_HUB_FILE,searchSessionId:p,has_carousel_media_nudge:f}),r&&i((0,P.t)({fileKey:r,isFullscreenOpen:!1,isEditHubFilePageMode:!0,entryPoint:W.k2.RESOURCE_PAGE,canvasThumbnailPromise:(0,U.$)(r,y)}))):((0,B.Cu)({pluginId:t.id,name:S.EDIT_THIS_PAGE,isMonetized:I,text:G,trackingContext:h,searchSessionId:p,has_carousel_media_nudge:f}),i((0,F.r)({publishedPluginId:t.id,entryPoint:W.k2.RESOURCE_PAGE})))}}),(0,w.U)(t)){let e=(0,s.t)("community.hub_files.open_original_file");if($.push({displayText:e,callback:()=>{(0,B.Cu)({name:S.OPEN_ORIGINAL_FILE,hubFileId:t.id,isMonetized:I,text:e,trackingContext:H.e0.COMMUNITY_HUB_FILE,searchSessionId:p,has_carousel_media_nudge:f}),C.Ay.redirect(`/file/${r}`,"_blank")}}),!(0,v.Pg)(t)){$.push({displayText:"",disabled:!0,separator:!0});let e=(0,s.t)(I?"community.resource.delist":"community.resource.unpublish");$.push({displayText:e,callback:()=>{(0,B.Cu)({name:I?S.DELIST:S.UNPUBLISH,hubFileId:t.id,isMonetized:I,text:e,trackingContext:H.e0.COMMUNITY_HUB_FILE}),i((0,D.to)({type:q,data:{confirmationTitle:I?(0,s.t)("community.hub_files.delist_file_from_community_hub"):(0,s.t)("community.hub_files.remove_file_from_community_hub"),content:I?(0,s.t)("community.hub_files.delisting_this_resource_will_prevent_people_from_discovering_or_purchasing_this_resource"):(0,s.t)("community.hub_files.unpublishing_this_file_will_remove_it_from_the_community_hub_and_prevent_people_from_finding_and_using_this_file"),confirmText:I?(0,s.t)("community.resource.delist"):(0,s.t)("community.resource.unpublish"),cancelText:(0,s.t)("general.cancel"),onConfirm:()=>{i((0,A.ax)({hubFileId:t.id,redirectLink:(0,L.bL)(t.publisher.profile_handle)}))},destructive:!0}}))}})}}let Q=a.createElement(x.g,{ref:l,buttonClassName:"show_resource_creator_banner--manageResourceCTA--lYOcA text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:()=>{c||((0,B.Cu)({name:S.MANAGE_RESOURCE,resourceId:t.id,has_carousel_media_nudge:f,trackingContext:h,searchSessionId:p}),i((0,O.j7)({type:z})))},isShowingDropdown:!1},(0,s.t)("community.resource.manage_resource")),K={id:_.om.CommunityResourceCreatorBanner,bannerType:_.x1.INFO,icon:Y.A,iconSize:"large",mainText:(0,s.t)("community.resource.your_resource_is_live"),description:f?(0,w.U)(t)?(0,s.t)("community.resource.next_we_recommend_adding_more_images"):(0,w.xQ)(t)?(0,s.t)("community.resource.next_we_recommend_adding_more_images_and_videos",{resourceType:(0,s.t)("community.plugins.widget")}):(0,s.t)("community.resource.next_we_recommend_adding_more_images_and_videos",{resourceType:(0,s.t)("community.plugins.plugin")}):void 0,dismissible:!1,positionStatic:!0,button:{type:_.MA.CUSTOM,element:Q}};return a.createElement(M.fu,{name:"RDP Creator Banner",properties:{name:"rdp_creator_banner",resourceId:t.id,resourceType:(0,g.Vm)(t),hasCarouselMediaNudge:f}},a.createElement(u.C,{content:K,editorType:m.nT.Design,onDismiss:o.lQ}),l.current&&c&&a.createElement(j.j,{dispatch:i,items:$,showPoint:!0,parentRect:l.current?.getBoundingClientRect(),onSelectItem:e=>{e.callback&&e.callback("",null,i)},minWidth:120}))}function K(e){let{resource:t}=e,r=(0,n.d4)(e=>(0,b.MK)(e,t)),o=(0,n.d4)(e=>(0,w.U)(t)?(0,b.cN)(e,t,r):(0,b.Wd)(e,t)),s=(0,b.RB)(t),c=(0,w.Uz)(t)?t.fig_file_metadata?.key:void 0;return(0,i.kc)().community_hub_admin&&(0,v.lT)(t)?a.createElement(I,{resource:t}):(0,i.kc)().community_hub_admin_reviewer&&(0,w.m3)(t)?a.createElement(T,{resource:t}):t.publishing_status?o&&(0,v.AC)(t)?a.createElement(h,{resource:t}):(0,v.Pg)(t)?a.createElement(f,{hasPublisherAdminAccess:o,resource:t}):(0,w.U)(t)&&s?a.createElement(Q,{resource:t,fileKey:c}):((0,w.I0)(t)||(0,w.xQ)(t))&&s?a.createElement(Q,{resource:t}):a.createElement(l.S,null):a.createElement(y,{resource:t})}},643233:(e,t,r)=>{r.d(t,{i:()=>A});var a=r(411855),n=r(188507),i=r(268853),l=r(563706),o=r(776621),s=r(782112),c=r(799569),d=r(946689),m=r(939863),u=r(662275),_=r(237870),p=r(474742);let f=(0,_.Ju)(function(e){return a.createElement(p.aF,{title:a.createElement("div",{className:"feature_not_available_modal--title--kPAVe text--fontPos14--OL9Hp text--_fontBase--QdLsd"},(0,m.tx)("community.collections.this_feature_isnt_available")),className:"feature_not_available_modal--modalContainer--Etu7A"},a.createElement(c.s_,{dispatch:e.dispatch}),a.createElement("div",{className:"feature_not_available_modal--modalBody--Dhwo0 text--fontPos14--OL9Hp text--_fontBase--QdLsd"},(0,m.tx)("community.collections.this_feature_isnt_available_body")," ",a.createElement("a",{className:"feature_not_available_modal--learnMore--L4kDU modal--blueLink--9GcJu blue_link--blueLink--9rlnd",target:"_blank",href:"https://help.figma.com/hc/en-us/articles/17725942479127-Access-or-opt-out-of-AI-features"},(0,m.tx)("community.collections.learn_more"))),a.createElement("div",{className:"feature_not_available_modal--buttonContainer--9-Zwv"},a.createElement(d.$$,{onClick:()=>{e.dispatch(u.Ce())}},(0,m.tx)("general.got_it"))))}," FeatureNotAvailableModal");var g=r(890555),E=r(119198),h=r(988022),y=r(102310),v=r(99506),b=r(945020),w=r(435898),T=r(629019),I=r.n(T),C=r(999021),x=r(375360),N=r(319905),k=r(920506),S=r(650168);function L({title:e,description:t,imageUrl:r,onClick:n}){let i=(0,l.o4)();return a.createElement("div",{className:I()(k.Ui,"figjam_ai_card--cardContainer--kCDdk"),"data-testid":"collection-figjam-ai-card"},a.createElement("div",{className:I()(k.Nr,"figjam_ai_card--card--KTu46")},i?a.createElement("div",{className:"figjam_ai_card--mobileOverlay--EhOsZ"},a.createElement("button",{className:I()("figjam_ai_card--invisibleButton--LuV4E"),onClick:n})):a.createElement("div",{className:"figjam_ai_card--overlayContainer--dDIiY"},a.createElement("div",{className:"figjam_ai_card--overlay--g6q4O"}),a.createElement("button",{className:I()("figjam_ai_card--ctaButton--wveh5",S.jx,S.tt,S.hh),onClick:n},(0,m.tx)("community.collections.generate"))),a.createElement(x.tL,{title:e,description:t}),a.createElement(C.c,{srcSet:"",src:r,image_type:N.y.COMMUNITY_HUB_FILE_THUMBNAIL,alt:e,className:I()(k.Sl,"figjam_ai_card--image--L-R2C"),imageProps:{onLoad:e=>e.currentTarget.style.opacity="1"}})))}function A({title:e,description:t,imageUrl:r,prompt:c,promptCategory:d}){let m=(0,n.wA)(),_=(0,y.B)(),p=(0,l.o4)(),T=(0,s.q8)(),I=(e,t)=>{m(E.zE({state:_,from:b.f6.COMMUNITY_COLLECTIONS_PAGE,editorType:v._Y.WHITEBOARD,team:void 0,openNewFileIn:b.ai.NEW_TAB,figjamAiNewFileData:{prompt:e,subtitle:e,useCaseCategory:t,entrypoint:w.fV.COMMUNITY}}))};return a.createElement(L,{onClick:()=>{(0,h.Cu)({name:"community_collections_figjam_ai",prompt:c,title:e,description:t,promptCategory:d,isMobile:`${p}`}),p?m((0,u.to)({type:g.s,data:{dispatch:m}})):T?m((0,u.to)({type:f,data:{dispatch:m}})):Object.values(w.es).includes(d)?I(c,d):(0,o.$D)(i.e.COMMUNITY,Error(`Invalid use case category (${d}) for figjam ai card: ${e}`))},title:e,description:t,imageUrl:r})}},890555:(e,t,r)=>{r.d(t,{s:()=>m});var a=r(411855),n=r(966712),i=r(799569),l=r(939863),o=r(662275),s=r(137459),c=r(237870),d=r(474742);let m=(0,c.Ju)(function(e){let t=(0,l.t)("rcs.redirect_from_mobile_to_desktop.head_to_figjam_on_desktop"),r=(0,l.t)("community.collections.head_to_desktop"),c=(0,n.ck)("f95cfc857cdc5c164958966add0665b69673667c");return e.editorType===s.LE.SLIDES&&(t=(0,l.t)("rcs.redirect_from_mobile_to_desktop.head_to_slides_on_desktop"),r=(0,l.t)("community.collections.head_to_desktop_slides"),c=(0,n.ck)("d5fbdadc97f3d94063357e9819c314ade9055df3")),a.createElement(d.aF,{className:"head_to_desktop_modal--modalContainer--BRiSA"},a.createElement(i.s_,{dispatch:e.dispatch}),a.createElement("img",{width:"100%",alt:r,src:c}),a.createElement("div",{className:"head_to_desktop_modal--modalBody--n9Et8 text--fontPos14--OL9Hp text--_fontBase--QdLsd"},a.createElement("h1",{className:"head_to_desktop_modal--title--kJAKG text--fontPos18--rYXJb text--_fontBase--QdLsd"},t),a.createElement("p",null,r),a.createElement("button",{className:"head_to_desktop_modal--gotIt--StOau",onClick:()=>{e.dispatch(o.Ce())}},(0,l.tx)("general.got_it"))))}," HeadToDesktopModal")},375360:(e,t,r)=>{r.d(t,{rS:()=>h,tL:()=>w});var a=r(411855);if(443==r.j)var n=r(860601);var i=r(999021),l=r(939863),o=r(674694),s=r(245790),c=r(240837),d=r(731801),m=r(837324),u=r(319905),_=r(545941),p=r(158996),f=r(672517),g=r(555328),E=r(920506);function h({resource:e,title:t,description:r}){switch((0,p.Vm)(e)){case g.vt.HUB_FILE:return a.createElement(y,{hubFile:e,title:t,description:r,key:e.id});case g.vt.WIDGET:return a.createElement(v,{widget:e,title:t,description:r,key:e.id});case g.vt.PLUGIN:return a.createElement(b,{plugin:e,title:t,description:r,key:e.id});default:return null}}function y({hubFile:e,title:t,description:r}){let i=(0,m.qD)(e),l=(0,m._t)({resource:e});return a.createElement("div",{className:E.Ui,"data-testid":"collection-resource-card"},a.createElement(f.o3,{className:E.Nr,to:l,trackingEventName:"community_collections",trackingProperties:{name:"hub_file_card_clicked",href:l},target:"_blank"},a.createElement(w,{title:t??i.name,description:r??i.description}),a.createElement(o.Xy,{className:E.Sl,image:e.thumbnail_url,hubFileId:e.id,onLoad:n.lQ,alt:i.name,resizedThumbnailUrls:e.resized_thumbnail_urls})),a.createElement(T,{resource:e}))}function v({widget:e,title:t,description:r}){let n=(0,m.qD)(e),l=(0,m._t)({resource:e});return a.createElement("div",{className:E.Ui,"data-testid":"collection-resource-card"},a.createElement(f.o3,{className:E.Nr,to:l,trackingEventName:"community_collections",trackingProperties:{name:"widget_card_clicked",href:l},target:"_blank"},a.createElement(w,{title:t??n.name,description:r??n.description}),a.createElement(i.c,{srcSet:"",src:n.redirect_snapshot_url||n.redirect_icon_url,image_type:u.y.COMMUNITY_HUB_FILE_THUMBNAIL,alt:n.name,className:E.Sl,imageProps:{onLoad:e=>e.target.style.opacity="1"}})),a.createElement(T,{resource:e}))}function b({plugin:e,title:t,description:r}){let n=(0,m.qD)(e),l=(0,m._t)({resource:e});return a.createElement("div",{className:E.Ui,"data-testid":"collection-resource-card"},a.createElement(f.o3,{className:E.Nr,to:l,trackingEventName:"community_collections",trackingProperties:{name:"plugin_card_clicked",href:l},target:"_blank"},a.createElement(i.c,{srcSet:"",src:n.redirect_icon_url,image_type:u.y.COMMUNITY_HUB_FILE_THUMBNAIL,alt:n.name,className:E.t3,imageProps:{onLoad:e=>e.target.style.opacity="1"}}),a.createElement(w,{title:t??n.name,description:r??n.description})),a.createElement(T,{resource:e}))}function w({title:e,description:t}){return a.createElement("div",{className:E.pq},a.createElement("div",{className:E.DD},e),a.createElement("div",{className:E.h_},a.createElement(d._,{description:t})))}function T({resource:e}){return a.createElement("div",{className:E.qr},a.createElement("div",{className:E.ME},a.createElement(c.L,{publishers:e.community_publishers?.accepted||[]}),a.createElement("div",{className:E.vR},(0,l.tx)("community.cards.by"),a.createElement(c.I,{publishers:e.community_publishers?.accepted||[],removeByLabel:!0,openInNewTab:!0}))),a.createElement("div",{className:E.uK},a.createElement(s.cz,{likeCount:e.like_count,currentUserLiked:!1}),a.createElement(s.i8,{usageCount:(0,_.mk)(e)})))}},784087:(e,t,r)=>{r.d(t,{X:()=>eO});var a=r(411855),n=r(188507),i=r(697551),l=r(782501),o=r(560718),s=r(860178),c=r(776250),d=r(183297),m=r(493323);function u(e){let t=a.useRef(null);return a.useEffect(()=>{let r=()=>{window.innerHeight<(t.current?.getBoundingClientRect().bottom||1/0)||e.onScrollToBottom()};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[e]),a.createElement("div",{ref:t},e.children,e.showLoader&&a.createElement("div",{className:"infinite_scroll_container--loadingSpinner--UMKR8"},a.createElement(m.kt,null)))}function _(e){let{onScrollToBottom:t,children:r,showLoader:n}=e;return a.createElement(u,{onScrollToBottom:t,children:r,showLoader:n})}_.displayName="WithInfiniteScroll";var p=r(135876),f=r(428322),g=r(939863),E=r(749949),h=r(158996),y=r(609271),v=r(63397),b=r(107877),w=r(820642),T=r(555328),I=r(323667),C=r(738269),x=r(994988),N=r(318812),k=r(467594),S=r(728587);let L="comments_view--loader--tz-FD",A="comments-sort-dropdown",R="SHOW_RESOLVED",P=function({labelClassName:e,includeShowResolved:t,isLoggedIn:r}){let i=(0,n.wA)(),l=(0,N.Um)(),o=(0,n.d4)(e=>e.communityHub.comments.activeFeedType),s=(0,n.d4)(e=>e.communityHub.comments.showResolved),d=a.useRef(null),[m,u]=a.useState(null),_=l?.type===A,p={ALL:"All",ME:"Your comments",COMMENTS:"Comments only",RATINGS_REVIEWS:"Reviews only"},f=e=>{switch(e){case p.ALL:return(0,g.t)("community.comments.all");case p.ME:return(0,g.t)("community.comments.your_comments");case p.COMMENTS:return(0,g.t)("community.comments.comments_only");case p.RATINGS_REVIEWS:return(0,g.t)("community.comments.reviews_only");default:return""}},E=l?.data?.targetRect;a.useEffect(()=>{E&&u(E)},[E]);let h=Object.keys(p).filter(e=>r||e!==T.Qv.ME).filter(e=>e!==T.Qv.RATINGS_REVIEWS&&e!==T.Qv.COMMENTS).map(e=>({displayText:f(p[e]),name:e,isChecked:e===o}));return t&&(h.push({displayText:"",separator:!0,name:void 0}),h.push({displayText:(0,g.t)("community.comments.show_resolved"),isChecked:s,name:R})),a.createElement("div",null,a.createElement("div",{onClick:e=>{e.stopPropagation();let t=d.current;_?i(C.oB()):t&&(u(t.getBoundingClientRect()),i(C.j7({type:A})))},className:e||"comments_view--commentsSortLabel--mpkGD"},f(p[o]),a.createElement(k.c,{className:"comments_view--commentsSortChevron--989-q",dispatch:i,dropdownKey:A,showingDropdown:_,divRef:d,toggleOnClick:!0})),_&&m&&a.createElement(S.j,{dispatch:i,items:h,parentRect:m,onSelectItem:e=>{(0,c.sx)("Comments Filter Changed",{thread_type:"community_preview",view:e.name}),e.name&&(e.name===R?i(x.mH(!s)):i(v.Zj(e.name)))},minWidth:164,showPoint:!0}))};var F=r(460845),O=r(343887),D=r(841368),M=r(629019),B=r.n(M),U=r(564577),V=r(163023),W=r(46481),H=r(281381);function $(){return a.createElement(H.Ex,{text:(0,g.t)("community.comments.creator"),color:H.zE.TOOLBAR,className:"creator_badge--creatorBadge--P5vsL"})}var j=r(417659),G=r(498606),Y=r(928491);let z="comment_tile--commentContainerFadeOut--AMWrR",q="comment_tile--nextSiblingCommentReset--4shUj",Q="comment_tile--iconButton--MZmz1";function K(e){return document.querySelector(`[data-comment-id="${e}"]`)}let X={fadeOut:async(e,t)=>{t||(t={resetNextComment:!1});let r=K(e);if(!r)return;let a=r.getBoundingClientRect();r.classList.add(z);let n=r.nextSibling;return n&&(n.style.marginTop=`-${a.height-1}px`),await new Promise(e=>setTimeout(e,X.ANIMATION_LENGTH)),t.resetNextComment&&X.resetNextComment(n?.dataset.commentId),n?.dataset.commentId},resetNextComment:e=>{let t=e&&K(e);t&&(t.classList.add(q),t.style.marginTop="0px",setTimeout(()=>t.classList.remove(q),50))},fadeIn:e=>{let t=document.querySelector(`[data-comment-id="${e}"]`);if(!t)return;t.classList.remove(z);let r=t.nextSibling;r&&(r.style.marginTop="0px")},ANIMATION_LENGTH:400};var Z=r(400333),J=r(800576),ee=r(392592),et=r(62589),er=r(97128),ea=r(970516),en=r(662275),ei=r(965837),el=r(688734),eo=r(946689),es=r(67294),ec=r(237870),ed=r(474742),em=r(157199);let eu=(0,ec.Ju)(function(e){let t=e.reportType===o.nI.REPORT_AND_HIDE,r=t?(0,g.t)("community.comments.report_and_hide_author_name_s_comment",{authorName:e.comment.author.name}):(0,g.t)("community.comments.report_author_name_s_comment",{authorName:e.comment.author.name}),n=a.createElement("p",{className:em.zC},t?(0,g.t)("community.comments.this_will_flag_the_comment_for_review_and_hide_it_for_everyone"):(0,g.t)("community.comments.this_will_flag_the_comment_for_review")," ",(0,g.t)("community.comments.comment_author_will_not_be_notified",{authorName:e.comment.author.name})," ",(0,g.tx)("community.comments.please_read_our_link_before_reporting",{link:a.createElement(eo.CY,{href:"https://help.figma.com/hc/articles/360038510573-Figma-Community-Guidelines",target:"_blank",trusted:!0},(0,g.tx)("community.community_guidelines"))}));return a.createElement(ed.Rw,{confirmationTitle:r,confirmText:(0,g.t)("community.comments.report"),onConfirm:()=>e.onReport(e.comment.id),destructive:!0},a.createElement("div",{className:em.RZ,"data-testid":"comment-confirm-report-modal-content"},a.createElement(es.H8,{user:e.comment.author,size:es.Pf.LARGE}),n))},"CommentConfirmReportModal");var e_=(e=>(e.COPY_LINK="Copy link",e.EDIT="Edit",e.DELETE="Delete",e.DELETE_THREAD="Delete thread",e.FOLLOW_PROFILE="Follow",e.UNFOLLOW_PROFILE="Unfollow",e.BLOCK_PROFILE_COMMENTING="Restrict user's comments",e.UNBLOCK_PROFILE_COMMENTING="Unrestrict user's comments",e.REPORT_COMMENT="Report",e.REPLY="Reply",e))(e_||{});function ep(e){return{name:e,displayText:function(e){switch(e){case"Copy link":return(0,g.t)("community.comments.copy_link");case"Edit":return(0,g.t)("community.comments.edit");case"Delete":return(0,g.t)("community.comments.delete");case"Delete thread":return(0,g.t)("community.comments.delete_thread");case"Follow":return(0,g.t)("community.follow.follow");case"Unfollow":return(0,g.t)("community.follow.unfollow");case"Restrict user's comments":return(0,g.t)("community.comments.restrict_user_s_comments");case"Unrestrict user's comments":return(0,g.t)("community.comments.unrestrict_user_s_comments");case"Report":return(0,g.t)("community.comments.report_comment");case"Reply":return(0,g.t)("community.comments.reply")}}(e)}}function ef(e){let t=(0,n.wA)(),r=(0,s.iZ)(),{apiResourceType:i,resourceId:l}=(0,et.Rd)(er.ax),d=()=>{e.onEdit?.()},m=()=>{e.onDelete&&t((0,en.to)({type:ei.h,data:{onConfirm:()=>e.onDelete()}}))},u=()=>{t(ea.lW({stringToCopy:(0,J.ky)(new er.ax({apiResourceType:i,resourceId:l},{comment:e.comment.id}).href)}))},_=(a,n)=>{t(v._8({blockedProfileId:n,profileId:a,onSuccess:()=>{t(x.BV({authorId:n,removeCommentsCallback:async e=>{e.map(e=>X.fadeOut(e.id,{resetNextComment:!0})),await new Promise(e=>setTimeout(e,X.ANIMATION_LENGTH))}})),t(ee.F.enqueue({message:(0,g.t)("community.comments.restricted_this_user_s_comments"),type:"profile-restricted-change"})),(0,c.sx)("comment_profile_restricted",{restricted_by_profile_id:r?.community_profile_id,restricted_profile_id:n,entry_point:"comment",comment_id:e.comment.id})}}))},p=(r,a)=>{t(v.dL({blockedProfileId:a,profileId:r,onSuccess:()=>{t(ee.F.enqueue({message:(0,g.t)("community.comments.unrestricted_this_user_s_comments"),type:"profile-restricted-change",button:{text:(0,g.t)("community.comments.undo"),action:()=>{_(r,a)}}})),(0,c.sx)("comment_profile_unrestricted",{unrestricted_by_profile_id:r,unrestricted_profile_id:a,comment_id:e.comment.id,entry_point:"comment"})}}))},f=()=>{let{profileIdToAdminResourceAs:r}=e,a=e.comment?.author.id;r&&a&&t((0,en.to)({type:el.H,data:{onBlock:()=>_(r,a),confirmationTitle:(0,g.t)("community.comments.remove_comment_and_restrict_user"),confirmButtonText:(0,g.t)("community.comments.remove_and_restrict")}}))},E=e=>{t(v.e6(e))},h=e=>{t(v.X2(e))},y=async r=>{let a=await X.fadeOut(r);t(x.eG({commentId:r,userIsAdmin:!!e.userIsAdmin,onFinish:e=>{e?X.fadeIn(r):a&&X.resetNextComment(a)}}))},b=e=>{t((0,en.to)({type:eu,data:{comment:e,reportType:o.nI.REPORT_AND_HIDE,onReport:y}}))},w=e=>{t((0,en.to)({type:eu,data:{comment:e,reportType:o.nI.REPORT,onReport:y}}))};return a.createElement(S.j,{dispatch:t,items:e.items,showPoint:!0,parentRect:e.parentRect,onSelectItem:(t,r)=>{"Edit"===t.name?d():"Delete"===t.name||"Delete thread"===t.name?m():"Copy link"===t.name?u():"Follow"===t.name&&e.comment.author.id?E(e.comment.author.id):"Unfollow"===t.name&&e.comment.author.id?h(e.comment.author.id):"Restrict user's comments"===t.name&&e.comment.author.id&&e.profileIdToAdminResourceAs?f():"Unrestrict user's comments"===t.name&&e.comment.author.id&&e.profileIdToAdminResourceAs?p(e.profileIdToAdminResourceAs,e.comment.author.id):"Report"===t.name?e.userIsAdmin?b(e.comment):w(e.comment):"Reply"===t.name&&e.onReply?.()},minWidth:96,dataTestId:"comment-menu"})}function eg(e){let t=[ep(e_.EDIT),ep(e.isThreadParent?e_.DELETE_THREAD:e_.DELETE)];return e.hideCopyLink||t.push(ep(e_.COPY_LINK)),a.createElement(ef,{comment:e.comment,parentRect:e.parentRect,items:t,onEdit:e.onEdit,onDelete:e.onDelete})}function eE(e){let t=[];return e.canReplyToComment&&t.push(ep(e_.REPLY)),e.hideCopyLink||t.push(ep(e_.COPY_LINK)),t.push(ep(e.author.is_restricted_by_current_user?e_.UNBLOCK_PROFILE_COMMENTING:e_.BLOCK_PROFILE_COMMENTING)),t.push(ep(e_.REPORT_COMMENT)),a.createElement(ef,{profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,comment:e.comment,parentRect:e.parentRect,items:t,onDelete:e.onDelete,onReply:e.onReply,userIsAdmin:!0})}function eh(e){let t=[];return e.userExists&&t.push(ep(e_.REPORT_COMMENT)),e.hideCopyLink||t.unshift(ep(e_.COPY_LINK)),a.createElement(ef,{comment:e.comment,parentRect:e.parentRect,items:t})}function ey(e){var t;let r=(0,s.iZ)(),l=(0,n.d4)(e=>e.authedActiveCommunityProfile),c=(0,n.d4)(t=>t.communityHub.comments.commentsById[e.comment.id]),d=(0,n.d4)(e=>e.communityHub.comments.authorsById[c.author.id]),m=(t=o.ej.COMMUNITY,!!r&&t===o.ej.COMMUNITY&&!(0,i.cs)(l)&&c.author.profile_handle===r.community_profile_handle),u=l?.id===e.profileIdToAdminResourceAs;return m?a.createElement(eg,{comment:c,parentRect:e.parentRect,onEdit:()=>e.onEdit(c),onDelete:()=>e.onDelete(c),hideCopyLink:e.hideCopyLink,isThreadParent:e.isThreadParent}):e.profileIdToAdminResourceAs&&u?a.createElement(eE,{profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,author:d,comment:c,parentRect:e.parentRect,onDelete:e.onDelete,hideCopyLink:e.hideCopyLink,canReplyToComment:!!e.onReply,onReply:()=>e.onReply?.(c)}):a.createElement(eh,{comment:c,parentRect:e.parentRect,userExists:!!r,hideCopyLink:e.hideCopyLink})}var ev=r(503457);let eb=(0,ev.kf)("lazy_create_comment_composer",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(4195),r.e(441),r.e(7476),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(7481),r.e(2026),r.e(3630),r.e(8410)]).then(r.bind(r,195634))).CreateCommentComposer})}),ew=(0,ev.kf)("lazy_edit_comment_composer",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(4195),r.e(441),r.e(7476),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(7481),r.e(2026),r.e(3630),r.e(8410)]).then(r.bind(r,439827))).EditCommentComposer})}),eT=(0,ev.kf)("lazy_reply_comment_composer",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(4195),r.e(441),r.e(7476),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(7481),r.e(2026),r.e(3630),r.e(8410)]).then(r.bind(r,711379))).ReplyCommentComposer})});(0,ev.kf)("lazy_comment_editable_typeahead",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([r.e(2399),r.e(1398),r.e(1876),r.e(3036),r.e(4195),r.e(441),r.e(7476),r.e(4586),r.e(7054),r.e(214),r.e(4920),r.e(3779),r.e(6739),r.e(7481),r.e(2026),r.e(3630),r.e(8410)]).then(r.bind(r,195634))).CommentEditableTypeahead})});var eI=r(95779),eC=r(210105);function ex(e){let{comment:t,author:r,userIsAuthor:i,isAuthorAcceptedPublisher:l}=e,[s,d]=a.useState(!1),m=a.useRef(null),u=(0,n.d4)(e=>e.dropdownShown),_=(0,n.wA)(),[p,f]=a.useState(!1),[h,y]=a.useState(null),v=a.useCallback(()=>{u?.type===o.Ng&&_(C.oB())},[u,_]);a.useEffect(()=>(window.addEventListener("scroll",v,!1),()=>{window.removeEventListener("scroll",v,!1)}),[v]);let b=(0,E.J)();if(!t||!r)return a.createElement(a.Fragment,null);let w=async()=>{let r=await X.fadeOut(t.id);_(x.Tu({commentId:t.id,commentType:e.commentType,onFinish:e=>{e?X.fadeIn(t.id):X.resetNextComment(r)}}))};if(p)return a.createElement(ew,{fallback:null,errorFallback:null,commentType:e.commentType,commentId:t.id,message:t.message,messageMeta:t.message_meta??[],onComplete:()=>{(0,c.sx)(I.E,{commentId:t?.id,message:t?.message,userId:r.primary_user_id,profileId:r.id,resourceType:e.resourceType,resourceId:e.resourceId,searchSessionId:b},{forwardToDatadog:!0}),f(!1)}});let T=e.selected&&!e.isCreatorReply,N=t.reply_count,k=!!(u&&u.type===o.Ng&&u.data.commentId===t.id),S=!!t.hidden_at&&!i,L=new j.xn({profileHandle:r.profile_handle}).to;return a.createElement("div",{className:B()(T?"comment_tile--tempSelectedCommentTile--eo1zi comment_tile--selectedCommentTile--9xoJJ comment_tile--commentTile--Y-2jW comment_tile--commentContainer--alB5v":"comment_tile--commentTile--Y-2jW comment_tile--commentContainer--alB5v",{"comment_tile--creatorReplySelectedParent--aVNCs comment_tile--creatorReply--OO0It":!!e.selected&&e.isCreatorReply,"comment_tile--creatorReply--OO0It":!e.selected&&e.isCreatorReply,"comment_tile--noSeparator--RL2vm":e.hideSeparator}),"data-comment-id":t.id,role:"button",tabIndex:0},a.createElement(F.N_,{className:"comment_tile--commentAvatarContainer--e8z35",to:L},a.createElement(Y.Ro,{entity:r,size:32,className:"comment_tile--commentAvatar--5xfu2 community_hub_view--creatorInsetBorder--z2InY community_hub_view--creatorInsetBorderNoHover--27smC"})),a.createElement("div",{className:e.hideSeparator||T?"comment_tile--commentContentWrapperNoBorder--Poey3 comment_tile--commentContentWrapper--L2vv2":"comment_tile--commentContentWrapper--L2vv2"},a.createElement("div",{className:"comment_tile--commentContent--QUN--"},a.createElement("div",{className:"comment_tile--commentMetaAndOptions--Avk6k"},a.createElement("div",null,a.createElement(F.N_,{className:"comment_tile--commentAuthorLink--3Q-Ty ellipsis--ellipsis--Tjyfa",to:L},a.createElement("span",{className:"comment_tile--commentAuthor--X2tiN text--fontPos13--xW8hS text--_fontBase--QdLsd"},r.name),a.createElement("span",{className:"comment_tile--commentAuthorHandle--qrjUX comment_tile--commentTime--Zz1IX text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},`@${r.profile_handle}`)),l&&a.createElement($,null),a.createElement("span",{className:"comment_tile--commentMetaDivider--pzekb text--fontPos13--xW8hS text--_fontBase--QdLsd"},"\xb7"),a.createElement(U.h1,{className:"comment_tile--commentTime--Zz1IX text--fontPos11--2LvXf text--_fontBase--QdLsd",date:t.created_at})),a.createElement("div",{className:"comment_tile--commentOptions--hNQQM"},S&&a.createElement(V.B,{className:"comment_tile--isHiddenIcon--isUzt",svg:eC.A}),a.createElement("div",{className:Q},a.createElement(O.K,{ref:m,onClick:e=>{let r=m.current;u?v():r&&(y(r.getBoundingClientRect()),_(C.j7({type:o.Ng,data:{commentId:t.id}}))),e.stopPropagation()},"aria-label":(0,g.t)("community.comments.comment_actions"),htmlAttributes:{"data-tooltip-type":G.Ib.TEXT,"data-tooltip":(0,g.t)("community.comments.comment_actions")}},a.createElement(W.U,{className:k?"comment_tile--iconButtonSelected--CaL6y raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6":Q,svg:eI.A},a.createElement(D.J,null)))))),a.createElement("div",{className:S?"comment_tile--messageIsHidden--e-XiE comment_tile--commentMessage--W-vWb comment_tile--commentMessageText---N-OK text--fontPos13--xW8hS text--_fontBase--QdLsd":"comment_tile--commentMessage--W-vWb comment_tile--commentMessageText---N-OK text--fontPos13--xW8hS text--_fontBase--QdLsd"},a.createElement(Z.HH,{messageMeta:t.message_meta??[],className:"comment_tile--commentMessageText---N-OK text--fontPos13--xW8hS text--_fontBase--QdLsd",showEditedIndicator:!!t.edited_at,commentId:t.id})),s&&a.createElement("div",{className:"comment_tile--replyComposerContainer--Cfzby"},a.createElement(eT,{fallback:null,errorFallback:null,commentType:e.commentType,parentId:t.id,resourceId:e.resourceId,resourceType:e.resourceType,onSuccessCallback:()=>d(!1),onComplete:()=>d(!1)})))),k&&h&&a.createElement(ey,{parentRect:h,comment:t,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,onEdit:()=>{f(!0)},onDelete:w,hideCopyLink:!!t.parent_id,isThreadParent:N>0,onReply:0===t.reply_count?()=>{d(!0)}:void 0}))}let eN=(0,n.Ng)((e,t)=>{let{comments:r}=e.communityHub,a=r.commentsById[t.id],n=t.replyId?r.commentsById[t.replyId]:void 0;if(!a)return{user:e.user||null};let i=r.authorsById[a.author.id],l=r&&r.selectedCommentId===a.id,o=n?r.authorsById[n.author.id]:void 0;return{user:e.user||null,comment:a,creatorReply:n,replyAuthor:o,author:i,userIsResponder:o?.id===e.user?.community_profile_id,userIsAuthor:i.id===e.user?.community_profile_id,selected:l}})(function(e){return a.createElement(a.Fragment,null,a.createElement(ex,{id:e.id,user:e.user,comment:e.comment,author:e.author,selected:e.selected,userIsAuthor:e.userIsAuthor,commentType:e.commentType,isAuthorAcceptedPublisher:e.isAuthorAcceptedPublisher,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,hideSeparator:e.hideSeparator||!!e.creatorReply,resourceType:e.resourceType,resourceId:e.resourceId}),!!e.replyId&&a.createElement(ex,{id:e.replyId,user:e.user,comment:e.creatorReply,author:e.replyAuthor,selected:e.selected,userIsAuthor:e.userIsResponder,commentType:e.commentType,isAuthorAcceptedPublisher:!0,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,hideSeparator:e.hideSeparator,isCreatorReply:!!e.replyId,resourceType:e.resourceType,resourceId:e.resourceId}))});function ek(){return a.createElement("svg",{width:"288",height:"200",viewBox:"0 0 288 200",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{width:"288",height:"200",fill:"var(--color-bg, white)"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M121.5 60.5C147.457 60.5 168.5 81.5426 168.5 107.5C168.5 133.457 147.457 154.5 121.5 154.5C113.522 154.5 106.013 152.514 99.4356 149.01L98.9861 148.77L77.5743 152.339L85.893 138.197L85.2249 137.387C78.5239 129.264 74.5 118.854 74.5 107.5C74.5 81.5426 95.5426 60.5 121.5 60.5ZM171.5 107.5C171.5 79.8858 149.114 57.5 121.5 57.5C93.8858 57.5 71.5 79.8858 71.5 107.5C71.5 119.197 75.5183 129.959 82.2484 138.476L71.7319 156.354L98.4789 151.896C105.371 155.477 113.201 157.5 121.5 157.5C149.114 157.5 171.5 135.114 171.5 107.5Z",fill:"var(--color-icon-secondary, #BBBBBB)"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M196.932 119.342C203.847 110.959 208 100.215 208 88.5C208 61.7142 186.286 40 159.5 40C132.714 40 111 61.7142 111 88.5C111 115.286 132.714 137 159.5 137C167.729 137 175.48 134.95 182.27 131.334L206.347 135.347L196.932 119.342Z",fill:"var(--color-bg, white)"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M153.901 38.8101C155.739 38.6052 157.608 38.5 159.5 38.5C161.392 38.5 163.261 38.6052 165.099 38.8101L164.767 41.7917C163.038 41.599 161.281 41.5 159.5 41.5C157.719 41.5 155.962 41.599 154.233 41.7917L153.901 38.8101ZM169.531 39.5067C173.248 40.2639 176.816 41.4337 180.184 42.9659L178.942 45.6966C175.777 44.2568 172.425 43.1578 168.932 42.4464L169.531 39.5067ZM138.816 42.9659C142.184 41.4337 145.752 40.2639 149.469 39.5067L150.068 42.4464C146.575 43.1578 143.223 44.2568 140.058 45.6966L138.816 42.9659ZM184.181 45.0062C187.446 46.863 190.481 49.0766 193.234 51.5939L191.209 53.8077C188.621 51.4405 185.767 49.3593 182.698 47.6141L184.181 45.0062ZM125.766 51.5939C128.519 49.0766 131.554 46.863 134.819 45.0062L136.302 47.6141C133.233 49.3593 130.379 51.4405 127.791 53.8077L125.766 51.5939ZM196.406 54.7662C198.923 57.5187 201.137 60.5541 202.994 63.8194L200.386 65.3023C198.641 62.2331 196.559 59.3792 194.192 56.7908L196.406 54.7662ZM116.006 63.8194C117.863 60.5541 120.077 57.5187 122.594 54.7662L124.808 56.7908C122.441 59.3792 120.359 62.2331 118.614 65.3023L116.006 63.8194ZM205.034 67.8159C206.566 71.1837 207.736 74.7516 208.493 78.4694L205.554 79.0681C204.842 75.5749 203.743 72.2228 202.303 69.0582L205.034 67.8159ZM110.507 78.4694C111.264 74.7516 112.434 71.1837 113.966 67.8159L116.697 69.0582C115.257 72.2228 114.158 75.5749 113.446 79.0681L110.507 78.4694ZM209.19 82.9007C209.395 84.7394 209.5 86.6077 209.5 88.5C209.5 90.5773 209.373 92.6257 209.127 94.6378L206.149 94.2732C206.381 92.3818 206.5 90.4552 206.5 88.5C206.5 86.719 206.401 84.9616 206.208 83.2331L209.19 82.9007ZM109.5 88.5C109.5 86.6077 109.605 84.7394 109.81 82.9007L112.792 83.2331C112.599 84.9616 112.5 86.719 112.5 88.5C112.5 90.281 112.599 92.0384 112.792 93.7669L109.81 94.0993C109.605 92.2606 109.5 90.3923 109.5 88.5ZM113.966 109.184C112.434 105.816 111.264 102.248 110.507 98.5306L113.446 97.9319C114.158 101.425 115.257 104.777 116.697 107.942L113.966 109.184ZM208.289 99.4872C207.378 103.549 205.973 107.424 204.14 111.045L201.464 109.69C203.186 106.287 204.506 102.647 205.361 98.8307L208.289 99.4872ZM122.594 122.234C120.077 119.481 117.863 116.446 116.006 113.181L118.614 111.698C120.359 114.767 122.441 117.621 124.808 120.209L122.594 122.234ZM198.752 119.476C199.804 118.144 200.79 116.758 201.705 115.321L199.174 113.71C198.136 115.34 197 116.902 195.775 118.387L195.107 119.197L199.002 125.818L201.588 124.297L198.752 119.476ZM134.819 131.994C131.554 130.137 128.519 127.923 125.766 125.406L127.791 123.192C130.379 125.559 133.233 127.641 136.302 129.386L134.819 131.994ZM204.277 128.87L209.268 137.354L201.801 136.11L202.294 133.15L203.426 133.339L201.692 130.391L204.277 128.87ZM182.014 129.77L186.816 130.571L186.323 133.53L182.521 132.896C181.385 133.487 180.224 134.034 179.039 134.538L177.865 131.777C179.128 131.241 180.361 130.651 181.564 130.01L182.014 129.77ZM198.361 135.536L189.762 134.103L190.255 131.144L198.854 132.577L198.361 135.536ZM149.469 137.493C145.752 136.736 142.184 135.566 138.816 134.034L140.058 131.303C143.223 132.743 146.575 133.842 150.068 134.554L149.469 137.493ZM175.78 135.789C173.059 136.726 170.231 137.434 167.32 137.892L166.855 134.928C169.59 134.498 172.247 133.833 174.804 132.953L175.78 135.789ZM159.5 138.5C157.608 138.5 155.739 138.395 153.901 138.19L154.233 135.208C155.962 135.401 157.719 135.5 159.5 135.5C160.881 135.5 162.248 135.44 163.598 135.324L163.856 138.313C162.42 138.437 160.967 138.5 159.5 138.5Z",fill:"var(--color-icon-secondary, #BBBBBB)"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M158 98H161L161 90H169V87L161 87L161 79H158L158 87L150 87V90H158L158 98Z",fill:"var(--color-icon-secondary, #BBBBBB)"}))}eN.displayName="CommentTile";let eS="comments_list--emptyStateWrapper--utBdd",eL="comments_list--emptyStateHeader--72NAJ text--fontPos13--xW8hS text--_fontBase--QdLsd";function eA(e){let t=(0,n.d4)(e=>e.communityHub.comments.commentsById),r=(0,n.d4)(e=>e.communityHub.comments.showResolved),s=(0,n.d4)(e=>(0,i.cs)(e.authedActiveCommunityProfile)),{parentCommentIds:c,replies:d}=function(e,t){let r=[],a={};return e.forEach(e=>{if(t[e]){let{parent_id:n}=t[e];n&&t[n]?a[n]=e:n||r.push(e)}}),{parentCommentIds:r,replies:a}}(e.comments,t),m=r?c:c.reduce((e,r)=>(t[r]?.resolved_at||e.push(r),e),[]),u=(0,h.Vm)(e.resource);if(0===m.length&&!e.hasSelectedComment&&e.resource.comments_setting!==o.Ni.ALL_DISABLED)return a.createElement(eR,{isTeamOrOrgProfileActive:s});let _=[];if((u===T.vt.PLUGIN||u===T.vt.WIDGET)&&e.resource?.versions&&e.resource.current_plugin_version_id){let r=e.resource,n=r.versions[r.current_plugin_version_id].id;m.forEach(i=>{let o=t[i],s=o?.resource_version_id,c=r.versions[s];if(s&&c){if(s!==n){let e=new Date(c.created_at).toLocaleDateString(navigator.language,{year:"numeric",month:"long",day:"numeric"}),t=s===n&&c?void 0:`Version ${c.version} \xb7 ${e}`,r=_.pop();r&&_.push(a.cloneElement(r,{hideSeparator:!0})),_.push(a.createElement("div",{key:`divider-${s}`,className:"comments_list--versionDivider--NHliU text--fontPos11--2LvXf text--_fontBase--QdLsd"},t)),n=s}_.push(a.createElement(eN,{key:i,id:i,replyId:d[i],isAuthorAcceptedPublisher:(0,l.PR)(o,e.resource),commentType:e.commentType,resourceType:u,resourceId:e.resource.id,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs}))}})}else _=m.map(r=>{let n=t[r];return a.createElement(eN,{key:r,id:r,replyId:d[r],isAuthorAcceptedPublisher:(0,l.PR)(n,e.resource),commentType:e.commentType,resourceType:u,resourceId:e.resource.id,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs})});return a.createElement(a.Fragment,null,_)}function eR({isTeamOrOrgProfileActive:e}){return e?a.createElement("div",{className:eS},a.createElement(ek,null),a.createElement("div",{className:eL},(0,g.tx)("community.comments.to_comment_switch_to_your_personal_profile"))):a.createElement("div",{className:eS},a.createElement(ek,null),a.createElement("div",{className:eL},(0,g.tx)("community.comments.your_kudos_and_feedback_are_welcome")),a.createElement("div",{className:"comments_list--emptyStateSubheader--L5hsL text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,g.tx)("community.comments.share_your_thoughts_using_the_comment_box_above"),a.createElement("br",null)))}let eP=!1;function eF(e){let t;let r=(0,n.wA)(),l=(0,s.iZ)(),[o,m]=(0,a.useState)(!1),[u,C]=(0,a.useState)(!1),[x,N]=(0,a.useState)(!0),k=a.useRef(null),S=(0,n.d4)(e=>"communityHub"===e.selectedView.view&&"hubFile"===e.selectedView.subView&&e.selectedView.fullscreenState&&(0,w.t0)(e.selectedView.fullscreenState)),A=(0,n.d4)(e=>e.communityHub.comments.activeFeedType),R=(0,n.d4)(e=>e.communityHub.comments.feeds),{feed:F,pagination:O}=a.useMemo(()=>R[A]||{feed:[]},[R,A]),D=(0,n.d4)(e=>e.communityHub.comments.selectedCommentId),M=(0,n.d4)(e=>e.selectedView.commentThreadId),B=(0,n.d4)(e=>!!e.user?.community_profile_id),U=D||M,V=A===T.Qv.ALL?e.numCommentsForResource:R[A]?.totalNumberOfComments,{resource:W}=e,H=(0,h.Vm)(W),$=()=>{if(eP)return;eP=!0,m(!0);let e={resourceId:W.id,resourceType:H,selectedCommentId:U,pagination:O,activeFeedType:A,numCommentsForResource:V,pageSizeOverride:b.zn};r(v.p4({...e,onSuccess:e=>{r(v.vr(e)),eP=!1,m(!1)},onError:()=>{eP=!1,m(!1)}}))},j=void 0===O&&(0,i.e5)(W);a.useEffect(()=>{j&&$()},[A,j]);let G=!!O,Y=O?.selected_comment;a.useEffect(()=>{x&&Y&&(k.current&&window.scroll({left:0,top:k.current.offsetTop-36,behavior:"smooth"}),N(!1))},[x,Y]),a.useEffect(()=>{r(v.cO())},[W.id]);let z=()=>G&&(0,d.u9)({pagination:O})&&$(),q=F.filter(e=>e!==O?.selected_comment?.id);O?.selected_comment&&q.unshift(O?.selected_comment.id);let Q=(0,E.J)();return(0,i.e5)(W)?a.createElement(a.Fragment,null,a.createElement("div",{className:"comments_view--commentsViewWrapper--SURB9",ref:k},!e.commentingIsRestricted&&a.createElement(eb,{fallback:null,errorFallback:null,commentType:e.commentType,resourceType:H,resourceId:W.id,onSuccessCallback:e=>{(0,c.sx)(I.d,{commentId:e?.id,message:e?.message,userId:l?.id,profileId:l?.community_profile_id,resourceType:H,resourceId:W.id,searchSessionId:Q})}}),a.createElement("div",{className:"comments_view--commentsListHeader--3uRw8 text--fontPos11--2LvXf text--_fontBase--QdLsd"},a.createElement("div",{className:"comments_view--numCommentsForResource--J0QKb"},(t=V||0,(0,g.t)("community.comments.pluralize_comments",{numComments:t}))),!S&&!e.commentingIsRestricted&&a.createElement(P,{includeShowResolved:!1,isLoggedIn:B})),a.createElement(f.a,{onIntersectionChange:e=>{u||(C(!0),(0,c.sx)("Community Comments Section Impressed",{resourceType:H,resourceId:W.id}))}}),a.createElement(y.hJ,null,a.createElement(p.x,{isLoading:void 0===O,className:L},()=>a.createElement(_,{onScrollToBottom:z,showLoader:o&&(0,d.u9)({pagination:O})},a.createElement(eA,{comments:q,commentType:e.commentType,resource:W,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,hasSelectedComment:!!O?.selected_comment})))),a.createElement(y.XY,null,a.createElement(p.x,{isLoading:void 0===O,className:L},()=>a.createElement(a.Fragment,null,a.createElement(eA,{comments:q,commentType:e.commentType,resource:W,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs}),(0,d.u9)({pagination:O})&&a.createElement("div",{className:"comments_view--mobileLoadMore--tqxIs text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:z},(0,g.tx)("community.comments.load_more_comments"))))))):null}function eO({resource:e}){let t=(0,s.iZ)(),r=(0,n.d4)(t=>(0,l.MK)(t,e))>=l.Cw.ADMIN&&(i.cV(e)?.id||t?.community_profile_id)||null,c=(0,n.d4)(e=>e.authedActiveCommunityProfile);return a.createElement(eF,{commentType:o.ej.COMMUNITY,resource:e,numCommentsForResource:e.comment_count,profileIdToAdminResourceAs:r,commentingIsRestricted:!(0,i.LI)(t,e)||(0,i.cs)(c)})}},17284:(e,t,r)=>{r.d(t,{I:()=>l});var a=r(411855),n=r(535e3),i=r(13326);function l(e){let t=(0,n.n)(e);if(t){let r=e.hideTooltip?t:a.createElement(n.v,null,t);return a.createElement("div",{className:i.sx},r)}return null}},708071:(e,t,r)=>{r.d(t,{H:()=>a});let a=r(411855).createContext({externalCommentScrollRef:null,onScrollToRatings:null})},218795:(e,t,r)=>{r.d(t,{s:()=>f});var a=r(411855),n=r(188507),i=r(939863),l=r(227020),o=r(351226),s=r(158996),c=r(662275),d=r(988022),m=r(697551),u=r(860178),_=r(555328),p=r(498606);function f({resource:e,viewContext:t}){let r=(0,n.wA)(),f=(0,u.iZ)(),g=Object.values((0,n.d4)(e=>(0,m.Tm)(e))).filter(t=>(0,_.I0)(e)&&t.plugins_whitelist_enforced||(0,_.xQ)(e)&&t.widgets_whitelist_enforced),E=(e,t)=>{r((0,c.to)({type:(0,l.W)(),data:{extensionId:e.id,orgId:t,extensionType:(0,_.I0)(e)?"plugin":"widget",isAllowed:!1,source:"community"}}))};return a.createElement("button",{className:"approve_button--buttonContainer--lDvpx cta_button--buttonBase--xMT0c text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",onClick:()=>{if((0,d.Cu)({viewContext:t,resourceId:e.id,resourceType:(0,s.Vm)(e),allowlistOrgs:g.length},"approve-button-clicked"),1===g.length){E(e,g[0].id);return}if(!f)return;let a=g.map(e=>({orgId:e.id,workspaceName:e.name,user:f,userId:f?.id||""}));r((0,c.to)({type:o._,data:{payload:{extension:e,workspaces:a,onSelectWorkspace:t=>{E(e,t.orgId)},mode:"manage_allowlist"}}}))},"data-testid":"approve-button","data-onboarding-key":"approve-button","data-tooltip-type":p.Ib.TEXT},(0,i.tx)("community.plugins.approve_ellipsis"))}},142264:(e,t,r)=>{r.d(t,{y:()=>p});var a=r(411855),n=r(188507),i=r(939863),l=r(392592),o=r(225266),s=r(697551),c=r(782501),d=r(820642),m=r(215822),u=r(555328),_=r(624618);function p({resourceId:e,resourceType:t,containerClassName:r}){let p=(0,n.wA)(),f=(0,n.d4)(r=>t===u.vt.HUB_FILE?(0,d.M3)(e,r.hubFiles):(0,m.my)(e,r.publishedPlugins)),g=(0,n.d4)(e=>e.authedActiveCommunityProfile),E=(0,n.d4)(e=>(0,c.MK)(e,f)),h=a.useCallback(()=>{p((0,o.z8)({hub_file_id:(0,u.U)(f)?f.id:void 0,widget_id:(0,u.xQ)(f)?f.id:void 0,plugin_id:(0,u.I0)(f)?f.id:void 0})),p(l.F.enqueue({message:(0,i.t)("community.detail_view.accepted_creator_invite")}))},[p,f]),y=a.useCallback(()=>{p((0,o.bb)({hub_file_id:(0,u.U)(f)?f.id:void 0,widget_id:(0,u.xQ)(f)?f.id:void 0,plugin_id:(0,u.I0)(f)?f.id:void 0})),p(l.F.enqueue({message:(0,i.t)("community.detail_view.declined_creator_invite")}))},[p,f]);return!g||(0,s.cs)(g)||!c.ot.includes(E)?null:a.createElement("div",{className:r},a.createElement(_.vR,{onClickAccept:h,onClickDecline:y,label:(0,i.t)("community.detail_view.you_have_been_added_as_a_creator_of_this_resource")}))}},640534:(e,t,r)=>{r.d(t,{l:()=>u});var a=r(411855),n=r(188507),i=r(939863),l=r(392592),o=r(225266),s=r(986323),c=r(215822),d=r(555328),m=r(624618);function u({pluginId:e,containerClassName:t}){let r=(0,n.wA)(),u=(0,n.d4)(t=>(0,c.my)(e,t.publishedPlugins)),_=(0,n.d4)(e=>(0,s.A)(e,u));return void 0!==_&&(0,s.jT)(_)?a.createElement("div",{className:t},a.createElement(m.vR,{onClickAccept:()=>{r((0,o.dx)({widget_id:(0,d.xQ)(u)?u.id:void 0,plugin_id:(0,d.I0)(u)?u.id:void 0,src:o.Nn.COMMUNITY_PAGE})),r(l.F.enqueue({message:(0,i.t)("community.detail_view.accepted_publisher_invite")}))},onClickDecline:()=>{r((0,o.MZ)({widget_id:(0,d.xQ)(u)?u.id:void 0,plugin_id:(0,d.I0)(u)?u.id:void 0,src:o.Nn.COMMUNITY_PAGE})),r(l.F.enqueue({message:(0,i.t)("community.detail_view.declined_publisher_invite")}))},label:(0,i.t)("community.detail_view.you_have_been_added_as_a_publisher_of_this_resource")})):null}},219497:(e,t,r)=>{r.d(t,{G:()=>p});var a=r(411855),n=r(188507),i=r(654923),l=r(466636),o=r(545941),s=r(158996),c=r(225266),d=r(782501),m=r(860178),u=r(555328),_=r(624618);function p({resource:e}){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.authedActiveCommunityProfile),p=(0,n.d4)(t=>(0,d.MK)(t,e)),f=(0,s.XW)(e)?(0,s.qY)(e):e,g=d.Gl.includes(p)&&(e.community_publishers?.accepted||[]).length>1&&r?.primary_user_id,E=a.useCallback(()=>{(0,u.U)(f)?t((0,c.bb)({hub_file_id:f.id})):(0,u.xQ)(f)?t((0,c.bb)({widget_id:f.id})):(0,u.I0)(f)&&t((0,c.bb)({plugin_id:f.id}))},[t,f]),h=(0,u.m3)(f),y=(0,i.I)(f),v=(0,m.iZ)();return a.createElement(a.Fragment,null,g&&a.createElement(_.d,{onClick:E,className:"metadata_additional_actions_logged_in--link--Hgvm- text--fontPos13--xW8hS text--_fontBase--QdLsd"}),h&&(0,l.QQ)(y)&&a.createElement(_.NY,{resource:f,payment:y}),h&&v&&(0,l.QQ)(y)&&(0,l.C)(y)&&a.createElement(_.EV,{user:v,name:(0,o.K2)(e)||"",monetizedResource:f.monetized_resource_metadata}))}},439178:(e,t,r)=>{r.d(t,{Q:()=>c});var a=r(411855),n=r(629019),i=r.n(n),l=r(672517),o=r(137459),s=r(650168);function c({buttonText:e,onClick:t,useNoIconStyle:r,editorType:n,enableWideButtonForStickyFooter:c,dataTestId:d}){let m=function(e){switch(e){case o.LE.FIGJAM:return"whiteboard";case o.LE.SLIDES:return"piper";default:return"design"}}(n);return a.createElement(l.$z,{className:i()({[s.tt]:r,[s.Vi]:!r,[s.uw]:c}),onClick:t,dataTestId:d||"community-duplicate-button","data-editor-theme":m},a.createElement("div",{className:s.uD},e))}},128425:(e,t,r)=>{r.d(t,{U:()=>$});var a=r(411855),n=r(188507),i=r(776250),l=r(22332),o=r(939863),s=r(611886),c=r(320063),d=r(966712),m=r(860601),u=r(317113),_=r(163023),p=r(154254),f=r(809840),g=r(351226),E=r(662275),h=r(151283),y=r(860178),v=r(237870),b=r(474742),w=r(415862);let T="use_preset_options_modal--presetOptionsModal__optionText--BPEmi",I="use_preset_options_modal--presetOptionsModal__chevron--dF5v3";var C=r(816679),x=r(250167);let N=(0,v.Ju)(function({hubFile:e}){let t=(0,n.wA)(),r=(0,y.iZ)();(0,c.h)(()=>{i.az.trackDefinedEvent("preset_libraries.preset_options_modal_displayed",{userId:r?.id,hubFileId:e.id,partnerType:(0,h.X)(e.library_key)})});let l=a.useCallback(()=>{t(E.Ce())},[t]),v=a.useCallback(()=>{l(),i.az.trackDefinedEvent("preset_libraries.preset_options_modal_option_clicked",{userId:r?.id,hubFileId:e.id,partnerType:(0,h.X)(e.library_key),option:"cancel"})},[l,e,r]),N=a.useCallback(()=>{let a=s.Q4(e=>{t((0,E.to)({type:g._,data:{payload:e}}))});l(),t(a(e)),i.az.trackDefinedEvent("preset_libraries.preset_options_modal_option_clicked",{userId:r?.id,hubFileId:e.id,partnerType:(0,h.X)(e.library_key),option:"show_in_figma"})},[t,l,e,r]),k=a.useCallback(()=>{let a=s.gE(e=>{t((0,E.to)({type:g._,data:{payload:e}}))});l(),t(a(e)),i.az.trackDefinedEvent("preset_libraries.preset_options_modal_option_clicked",{userId:r?.id,hubFileId:e.id,partnerType:(0,h.X)(e.library_key),option:"make_a_copy"})},[t,l,e,r]);return a.createElement(b.Nb,{hide:m.lQ,disableClickOutsideToHide:!0,className:"use_preset_options_modal--presetOptionsModal--MPCAv"},a.createElement("div",{className:"use_preset_options_modal--presetOptionsModal__header--7Ul9l"},a.createElement(f.E,{fontWeight:"medium",fontSize:20},(0,o.tx)("community.preset_modal.header"))),a.createElement("div",{className:"use_preset_options_modal--presetOptionsModal__description--GD8wZ"},a.createElement(f.E,{fontSize:13},(0,o.tx)("community.preset_modal.description"))),a.createElement("div",{className:w.sw},a.createElement("button",{className:w.tW,onClick:N},a.createElement(u.MW,{type:u.y1.DESIGN,size:u.LE.MEDIUM,className:p.cx.pl12.pr12.$}),a.createElement("div",{className:T},a.createElement(f.E,{fontSize:13},(0,d.kc)().cmty_preset_modal_revised_copy?(0,o.tx)("community.preset_modal.use_ui_kit_in_a_new_file"):(0,o.tx)("community.preset_modal.show_in_figma"))),a.createElement(_.B,{className:I,svg:C.A})),a.createElement("button",{className:w.tW,onClick:k},a.createElement(_.B,{svg:x.A,className:"use_preset_options_modal--presetOptionsModal__copyIcon--OFXiM"}),a.createElement("div",{className:T},a.createElement(f.E,{fontSize:13},(0,d.kc)().cmty_preset_modal_revised_copy?(0,o.tx)("community.preset_modal.make_a_copy_of_this_file"):(0,o.tx)("community.preset_modal.make_a_copy"))),a.createElement(_.B,{className:I,svg:C.A}))),a.createElement("button",{className:"use_preset_options_modal--presetOptionsModal__cancel--vne9o text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:v},(0,o.t)("community.try.pick_workspace.cancel")))},"USE_PRESET_OPTIONS_MODAL_TYPE",v.ZU.YES);var k=r(342),S=r(654923),L=r(466636),A=r(545941),R=r(158996),P=r(107877),F=r(101505),O=r(672517),D=r(697551),M=r(941448),B=r(830445),U=r(498606),V=r(966537),W=r(439178),H=r(650168);function $({hubFile:e,resourceType:t,enableWideButtonForStickyFooter:r}){let c=a.createRef(),d=(0,n.wA)(),m=(0,n.d4)(e=>(0,D.cs)(e.authedActiveCommunityProfile)),u=(0,n.d4)(e=>e.userFlags).apple_eula_accepted,_=(0,S.I)(e),p=(0,M.IE)(e),f=(0,k.R)(d),h=(0,l.N)(`(max-width: ${P.YW}px)`),y=(0,A.X_)(t),v=a.useCallback(()=>{let t=()=>{if((0,B.TX)(e.id)&&f&&!h)d((0,E.to)({type:N,data:{hubFile:e}}));else{let t=s.gE(e=>{(0,i.sx)("try_it_out_drafts_picker_menu_opened",p),d((0,E.to)({type:g._,data:{payload:e}}))});d(t(e))}};(0,A.mA)(e)&&!u?d(E.to({type:V.F,data:{hubFileId:e.id,onUseHubFile:t}})):t()},[d,e,p,u,f,h]);if(m||(0,A.lT)(e)){let t;return(0,A.lT)(e)?t=(0,o.t)("community.resource.admin_blocked_resource_banner.this_resource_is_blocked"):m&&(t=(0,o.t)("community.duplicate.to_duplicate_switch_to_your_personal_profile")),a.createElement("div",{"data-tooltip-type":U.Ib.TEXT,"data-tooltip":t,"data-tooltip-show-immediately":!0},a.createElement("div",{className:H.nu},a.createElement("div",{className:H.uD},y)))}return(({buttonText:e,onClick:n})=>a.createElement(O.fu,{name:"Duplicate button",properties:{trackingDescriptor:F.c.HUB_FILE_DUPLICATE_BUTTON,...p}},a.createElement("div",{ref:c},a.createElement(W.Q,{buttonText:e,onClick:n,useNoIconStyle:!0,editorType:(0,R.kz)(t),enableWideButtonForStickyFooter:r}))))((0,L.QQ)(_)?{buttonText:(0,o.tx)("community.duplicate.open"),onClick:v}:{buttonText:y,onClick:v})}},777944:(e,t,r)=>{r.r(t),r.d(t,{PluginTryButton:()=>A});var a=r(411855),n=r(188507),i=r(776250),l=r(563706),o=r(939863),s=r(555328),c=r(239671),d=r(427681),m=r(749949),u=r(545941),_=r(609271),p=r(835476),f=r(162895),g=r(662275),E=r(963067),h=r(756085),y=r(697551),v=r(54728),b=r(860178),w=r(193212),T=r(556261),I=r(56099),C=r(215822),x=r(498606),N=r(94894),k=r(146555),S=r(884289),L=r(959020);function A({resource:e,universalEditorTypeFallback:t,context:r}){let h=(0,n.wA)(),x=(0,b.TA)(),N=(0,T.yN)({migrationGroup:I.L.GROUP_3,component:"PluginTryButton",attribute:"figjamDisabledAt",legacy:(e,t)=>t?.figjam_disabled_at||null,migrated:(e,t)=>t?.figjamDisabledAt||null}),A=(0,T.yN)({migrationGroup:I.L.GROUP_3,component:"PluginTryButton",attribute:"widgetsWhitelistEnforced",legacy:(e,t)=>!!t?.widgets_whitelist_enforced||null,migrated:(e,t)=>t?.widgetsWhitelistEnforced||null}),P=(0,T.yN)({migrationGroup:I.L.GROUP_3,component:"PluginTryButton",attribute:"pluginsWhitelistEnforced",legacy:(e,t)=>!!t?.plugins_whitelist_enforced||null,migrated:(e,t)=>t?.pluginsWhitelistEnforced||null}),F=(0,T.u3)({migrationGroup:I.L.GROUP_3,component:"PluginTryButton"}),O=(0,E.Yo)(),D=(0,y.kc)(),M=(0,s.xQ)(e),B=(0,C.Ar)(e)||C.lT,U=(0,k.o)(B,F&&{figjam_disabled_at:N}||void 0,t?(0,c.wN)(t):void 0),V=(0,C.Rt)(e),W=!!D?.org_id,H=F&&(M?A:P),$=r===s.aL.DETAIL?"center":"left",j=r===s.aL.REDESIGNED_PLUGIN_ROW,{dropdownIsShown:G,toggleSwitchEditorDropdown:Y,PluginTrySwitchEditorDropdown:z}=(0,S.WW)(e,$),q=a.useRef(null),Q=(0,m.J)();if((0,w.U3)("scroll",()=>{(r===s.aL.PLUGIN_ROW||r===s.aL.REDESIGNED_PLUGIN_ROW)&&Y(q,!1)}),B===C.lT)return null;let K=(0,s.m3)(e);return O?.isAdmin&&W&&!K&&H&&!V?a.createElement(R,{resource:e,orgEntity:O,useShortenedLabel:l.Ay.mobile}):a.createElement(a.Fragment,null,a.createElement("button",{type:"button",className:r===s.aL.REDESIGNED_PLUGIN_ROW?d.gz:r===s.aL.PLUGIN_ROW?d.GJ:d.X7,onClick:()=>{if(!x){let t=(0,v.k)(e);h(f.cx({isWidget:M,redirectPath:t}));return}if(l.Ay.mobile){h((0,g.to)({type:L.x,data:{dispatch:h}}));return}(0,i.sx)("try_it_out_editor_picker_menu_opened",{pluginId:e.id,isWidget:(0,s.xQ)(e),searchSessionId:Q}),Y(q)},"data-testid":"plugin-try-button","data-editor-theme":function(e){switch(e){case c.nT.Whiteboard:return"whiteboard";case c.nT.DevHandoff:return"dev-handoff";case c.nT.Slides:return"piper";case c.nT.Design:default:return"design"}}(U)},a.createElement("div",{className:j?d.dC:d.l0,ref:q},a.createElement(a.Fragment,null,a.createElement(_.hJ,null,(0,u.X_)(M?p.vt.WIDGET:p.vt.PLUGIN,(0,s.zF)(e)||(0,s.PM)(e))),a.createElement(_.XY,null,(0,o.tx)("community.using.open_in_no_ellipses"))))),G&&a.createElement(z,{primaryFullscreenEditorType:U}))}function R(e){let t,r;let n=(0,h.ll)(),i=(0,h.U6)(),l=(0,s.xQ)(e.resource),c=l?!!i[e.resource.id]:!!n[e.resource.id];return c?(t=(0,o.tx)("community.plugins.remove"),r=(0,o.t)("community.plugins.remove_for_org_tooltip",{orgName:e.orgEntity.name})):(t=(0,o.tx)("community.plugins.approve"),r=(0,o.t)("community.plugins.approve_for_org_tooltip",{orgName:e.orgEntity.name})),a.createElement("button",{type:"button",className:c?d.vf:d.Wc,onClick:()=>{let t={orgId:e.orgEntity.id,extensionId:e.resource.id,extensionType:l?"widget":"plugin"};c?N.X.disableExtensionForOrg(t):N.X.enableExtensionForOrg(t)},"data-tooltip-type":x.Ib.TEXT,"data-tooltip":r},a.createElement("div",{className:e.useShortenedLabel?d.d6:d.l0},t))}},230798:(e,t,r)=>{r.d(t,{z:()=>n});var a=r(411855);function n(e){return a.createElement("div",{className:"metadata_section--metadataSection--3wssk ellipsis--ellipsis--Tjyfa"},e.title&&a.createElement("div",{className:"metadata_section--subheader--Zk7ID"},e.title),a.createElement("div",{className:"metadata_section--metadataSectionText--7ruPx text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.children))}},166521:(e,t,r)=>{r.d(t,{I:()=>i});var a=r(411855);let n=(0,r(503457).kf)("lazy_cmty_purchase_button",{isCodesplit:!0,ComponentFactory:async()=>({default:(await r.e(5880).then(r.bind(r,975880))).default})});function i({resource:e,context:t,payment:r,enableWideButtonForStickyFooter:i,thirdPartyM10nUrl:l}){return a.createElement(n,{fallback:null,errorFallback:null,resource:e,context:t,payment:r,enableWideButtonForStickyFooter:i,thirdPartyM10nUrl:l})}},10588:(e,t,r)=>{r.d(t,{l:()=>T});var a=r(411855),n=r(188507),i=r(776250),l=r(22332),o=r(939863),s=r(611886),c=r(890555),d=r(439178),m=r(351226),u=r(342),_=r(545941),p=r(835476),f=r(662275),g=r(107877),E=r(101505),h=r(672517),y=r(941448),v=r(137459),b=r(498606),w=r(650168);function T({resource:e,enableWideButtonForStickyFooter:t}){let r=(0,y.IE)(e),T=(0,n.wA)(),I=(0,l.N)(`(max-width: ${g.YW}px)`),C=(0,a.useCallback)(()=>{if(I){T((0,f.to)({type:c.s,data:{dispatch:T,editorType:v.LE.SLIDES}}));return}let t=s.u5(e=>{(0,i.sx)("try_it_out_drafts_picker_menu_opened",r),T((0,f.to)({type:m._,data:{payload:e}}))});T(t(e))},[T,e,r,I]),x=(0,u.v)(T),N=(0,_.X_)(p.vt.SLIDE_TEMPLATE),k=a.createElement("div",{"data-testid":"slide-template-use-button",className:w.nu},a.createElement("div",{className:w.uD},N));if(!x){let e=(0,o.t)("community.use_slide_template.disabled_tooltip");return a.createElement(h.fu,{name:"slide_template_use_button",properties:{trackingDescriptor:E.c.SLIDE_TEMPLATE_USE_BUTTON,...r,isEnabled:!1}},a.createElement("div",{"data-tooltip-type":b.Ib.TEXT,"data-tooltip":e,"data-tooltip-show-immediately":!0},k))}return a.createElement(h.fu,{name:"slide_template_use_button",properties:{trackingDescriptor:E.c.SLIDE_TEMPLATE_USE_BUTTON,...r,isEnabled:!0}},a.createElement(d.Q,{buttonText:N,onClick:C,useNoIconStyle:!0,editorType:v.LE.SLIDES,enableWideButtonForStickyFooter:t,dataTestId:"slide-template-use-button"}))}},421660:(e,t,r)=>{r.d(t,{J:()=>T,z:()=>I});var a=r(411855),n=r(188507);if(443==r.j)var i=r(463033);if(443==r.j)var l=r(137035);var o=r(966712);if(443==r.j)var s=r(418956);var c=r(939863),d=r(837324),m=r(446686),u=r(57879),_=r(931828),p=r(782501),f=r(582947),g=r(946413),E=r(860178),h=r(555328),y=r(813408),v=r(195907),b=r(724819);let w=(0,f.Fu)(v.e2);function T(e){let t=(0,o.kc)().cmty_curated_tags_mapping,r=(0,p.RB)(e),a=(0,d.uv)(e),n=(0,s.md)(w),i=n?.status!=="loaded"||n?.status==="loaded"&&!!n?.data;return!!(0,o.kc)().cmty_tags_v2_comms_banner&&a&&!i&&!!t&&r}function I({resourceId:e,resourceType:t,fileKey:r}){let o=(0,E.iZ)(),s=(0,n.wA)(),d=a.useCallback(()=>{if(o){if(t===h.vt.PLUGIN||t===h.vt.WIDGET)s((0,u.r)({publishedPluginId:e,entryPoint:y.k2.RESOURCE_PAGE}));else{if(!r)return;s((0,m.t)({fileKey:r,isFullscreenOpen:!1,isEditHubFilePageMode:!0,entryPoint:y.k2.RESOURCE_PAGE,canvasThumbnailPromise:(0,g.$)(r,o)}))}s(_.b({[v.e2]:!0}))}},[e,t,r,o,s]);return o?a.createElement("div",{className:b.Mg},a.createElement("div",{className:b.tD},a.createElement(l.b,null)),a.createElement("div",{className:b.GK},(0,c.t)("community.resource_tags_comms_banner.title")),a.createElement("div",{className:b.mg},(0,c.t)("community.resource_tags_comms_banner.description")),a.createElement("div",{className:b.sj},a.createElement(i.$n,{variant:"secondary",onClick:d},(0,c.t)("community.resource_tags_comms_banner.update_button")))):null}},731801:(e,t,r)=>{r.d(t,{_:()=>d,u:()=>m});var a=r(411855),n=r(891721),i=r.n(n),l=r(981952),o=r(939863),s=r(107877);let c="truncated_description_view--blueLink--v3wsX blue_link--blueLink--9rlnd";function d({description:e}){let t=a.useRef(null);return a.useEffect(()=>{if(!t.current)return;let r=document.createElement("div");r.innerHTML=i().sanitize(e);let a=s.Ep.map(e=>`:not(${e})`).join("");for(let e of r.querySelectorAll(a))e.parentNode?.removeChild(e);t.current.innerHTML=r.innerHTML},[t,e]),a.createElement("div",{ref:t})}function m({description:e,hideDivider:t=!1}){let r=a.useRef(null),[n,i]=a.useState(!1),[m,u]=a.useState(!1),_=(0,l.R)(s.YW)?s.dz:s.Un;return(a.useEffect(()=>{r.current&&r.current.getBoundingClientRect().height>_&&(i(!0),u(!0))},[_]),e)?a.createElement(a.Fragment,null,a.createElement("div",{style:n?{maxHeight:`${_}px`}:{},className:n?"truncated_description_view--truncatedDescription--H3ST8 truncated_description_view--description--7qZxm text--fontPos14--OL9Hp text--_fontBase--QdLsd":"truncated_description_view--description--7qZxm text--fontPos14--OL9Hp text--_fontBase--QdLsd",ref:r},a.createElement(d,{description:e}),!n&&m&&a.createElement("div",{className:c,onClick:()=>{i(!0)},role:"button",tabIndex:0},(0,o.tx)("community.detail_view.show_less"))),n&&a.createElement("div",{className:"truncated_description_view--readMoreWrapper--4ruCR text--fontPos14--OL9Hp text--_fontBase--QdLsd"},a.createElement("div",{className:c,onClick:()=>{i(!1)},role:"button",tabIndex:0},(0,o.tx)("community.detail_view.read_more"))),!t&&a.createElement("div",{className:"truncated_description_view--divider--RK37w"})):null}},897088:(e,t,r)=>{r.d(t,{N:()=>n,b:()=>a});let a=12,n=10},342:(e,t,r)=>{r.d(t,{R:()=>g,v:()=>E});var a=r(411855),n=r(188507),i=r(966712);if(443==r.j)var l=r(418956);var o=r(586459),s=r(553716),c=r(298527),d=r(6974),m=r(935308),u=r(860178),_=r(556261),p=r(56099);function f(e){let t=(0,i.kc)().ps_benchmark,r=(0,l.md)(d.g),n=(0,u.iZ)();return a.useEffect(()=>{r===o.r.INIT&&t&&(0,m.nm)()(e).catch(e=>{(0,s.x1)("Error loading plans for authed users",e,{reportErrorToSentry:!0})})},[e,t,r]),a.useMemo(()=>{let e=[],a=[];if(!n||!t||r===o.r.LOADING||r===o.r.INIT)return{teams:e,orgs:a};let i=r.plansByUserId[n.id];return i?.map(t=>{if("team"===t.plan_type){let a=r.teams.find(e=>e.id===t.plan_id);a&&e.push(a)}if("org"===t.plan_type){let e=r.orgs.find(e=>e.id===t.plan_id);e&&a.push(e)}}),{teams:e,orgs:a}},[r,n,t])}function g(e){let t=(0,u.iZ)(),{teams:r,orgs:n}=f(e),i=(0,_.yN)({component:"useCanUseDsePresetsInCommunity",migrationGroup:p.L.GROUP_4,legacy:(e,t)=>(0,c.MJ)(t,e,!1),migrated:(e,t)=>(0,c.ek)(t,!1)});return a.useMemo(()=>!!t&&(r.length||n.length?Object.values(r).some(e=>(0,c.MJ)(null,e,!1))||Object.values(n).some(e=>(0,c.MJ)(e,null,!1)):i),[t,r,n,i])}function E(e){let t=(0,u.iZ)(),r=(0,n.d4)(e=>e.searchResults?.data?.org),{teams:i,orgs:l}=f(e);return a.useMemo(()=>!!t&&(i.length||l.length?i.length>0||l.some(e=>!e.is_slides_disabled):!r?.is_slides_disabled),[t,i,l,r])}},563221:(e,t,r)=>{r.d(t,{w:()=>w});var a=r(188507),n=r(984837),i=r(752553),l=r(939863),o=r(392592),s=r(749949),c=r(837324),d=r(158996),m=r(776397),u=r(410424),_=r(853799),p=r(662275),f=r(107877),g=r(988022),E=r(860178),h=r(540019),y=r(555328),v=r(357142),b=r(332086);function w(e,t,r,m){let h=function(e,t,r,n){let i=(0,a.wA)(),l=(0,E.iZ)(),o=(0,s.J)(),m=()=>{(0,d.XW)(e)||((0,g.Cu)(w()),(0,y.U)(e)?i(u.zm({hubFileId:e.id})):(0,y.xQ)(e)?i(_.C({id:e.id,resourceType:y.vt.WIDGET})):i(_.C({id:e.id,resourceType:y.vt.PLUGIN})))},h=e=>{if(e.stopPropagation(),l){if(!l.community_profile_id){i(p.to({type:b.G$,data:{userId:l.id,variations:[b.FF.OPT_IN],onFinish:()=>m()}}));return}m()}},v=t=>{if(!(0,d.XW)(e)){if(t.stopPropagation(),!l)throw Error(`Tried to unlike a ${(0,c.KH)(e)} as a signed out user`);(0,g.Cu)(w()),(0,y.U)(e)?i(u.Qi({hubFileId:e.id,likeId:r||void 0})):(0,y.xQ)(e)?i(_.$({id:e.id,resourceType:y.vt.WIDGET,likeId:r||void 0})):i(_.$({id:e.id,resourceType:y.vt.PLUGIN,likeId:r||void 0}))}},w=()=>({action:(0,d.Qc)(e)?t?f.s0.HUB_FILE_UNLIKE:f.s0.HUB_FILE_LIKE:(0,d.$3)(e)?t?f.s0.WIDGET_UNLIKE:f.s0.WIDGET_LIKE:t?f.s0.PLUGIN_UNLIKE:f.s0.PLUGIN_LIKE,pluginId:e.id,profileId:e.publisher.id,viewContext:n,searchSessionId:o});return function(){return t?e=>v(e):e=>h(e)}}(e,t,r,m),v=function(e,t,r,m){let u=(0,a.wA)(),_=(0,E.iZ)(),h=(0,s.J)(),y=(0,i.n_)(T),v=(0,i.n_)(I),w=()=>{if(!(0,d.XW)(e))return;let t=(0,d.qY)(e);if(!t)throw Error("Missing resource content");(0,g.Cu)(N());let r=y({resourceId:e.id,contentId:t.id,apiResourceType:(0,c.A7)(e)});_&&_.community_profile_id&&(0,n.WB)().optimisticallyCreate({CommunityHubLike:{[`optimistic-${e.id}-${_.community_profile_id}`]:{profileId:_.community_profile_id,resourceId:e.id,hubFileId:null,pluginId:null,hiddenAt:null,createdAt:new Date,updatedAt:new Date,canRead:!0}}},r),r.catch(e=>{u(o.F.enqueue({message:(0,l.t)("community.actions.unable_to_like_this_resource_error",{error:(0,l.Jv)(e,e.data?.message)}),type:"RESOURCE_LIKE_FAILED",error:!0}))})},C=e=>{if(e.stopPropagation(),_){if(!_.community_profile_id){u(p.to({type:b.G$,data:{userId:_.id,variations:[b.FF.OPT_IN],onFinish:()=>w()}}));return}w()}},x=t=>{if(!(0,d.XW)(e))return;let a=(0,d.qY)(e);if(!a)throw Error("Missing resource content");if(t.stopPropagation(),!_)throw Error("Tried to unlike a resource as a signed out user");(0,g.Cu)(N());let i=v({resourceId:e.id,contentId:a.id,apiResourceType:(0,c.A7)(e)});r&&(0,n.WB)().optimisticallyDelete({CommunityHubLike:{[r]:null}},i),i.catch(e=>{u(o.F.enqueue({message:(0,l.t)("community.actions.unable_to_unlike_this_resource_error",{error:(0,l.Jv)(e,e.data.message)}),type:"RESOURCE_UNLIKE_FAILED",error:!0}))})},N=()=>({action:t?f.M5.RESOURCE_UNLIKE:f.M5.RESOURCE_LIKE,resourceId:e.id,resourceType:(0,d.Vm)(e),profileId:e.publisher.id,viewContext:m,searchSessionId:h});return function(){return t?e=>x(e):e=>C(e)}}(e,t,r,m);return(0,d.XW)(e)?v:h}let T=h.M4.Mutation(({resourceId:e,contentId:t,apiResourceType:r},{query:a})=>(a.mutate((0,m.Z)({apiResourceType:r,id:t}),e=>{e&&(e.like_count+=1)}),v.a.likeResource({resourceId:e}))),I=h.M4.Mutation(({resourceId:e,contentId:t,apiResourceType:r},{query:a})=>(a.mutate((0,m.Z)({apiResourceType:r,id:t}),e=>{e&&(e.like_count-=1)}),v.a.unlikeResource({resourceId:e})))},370855:(e,t,r)=>{r.d(t,{d:()=>c,t:()=>d});var a=r(411855),n=r(188507),i=r(915440),l=r(384162),o=r(279453),s=r(336599);function c(e){let t=(0,n.wA)(),r=(0,n.d4)(t=>t.communityHub.shelves[e]||[]),i=l.sz.loadingKeyForPayload({shelfType:e}),o=(0,s.oh)(i),c=(0,s.mC)(i);return a.useEffect(()=>{o||c||t(l.sz({shelfType:e}))}),{shelves:r,isLoading:o,hasResolved:c}}function d(e){let t=(0,i.Rs)(o.U2Y,{profileId:e});if("loaded"===t.status){let e=t.data.communityProfile;if(e){let t=e.associatedUsers,r=[];t.forEach(t=>{r.push({user_id:t.id,email:t.email,is_primary_user:t.id===e.primaryUserId})});let a=[];return e.badges.forEach(e=>{a.push(e.badgeType)}),{id:e.id,name:e.name,profile_handle:e.profileHandle,description:e.description,location:e.location,website:e.website,twitter:e.twitter,instagram:e.instagram,public_at:e.publicAt,follower_count:e.followerCount,following_count:e.followingCount,cover_image_path:e.coverImagePath,primary_user_id:e.primaryUserId,team_id:e.teamId,org_id:e.orgId,pronouns:e.pronouns,entity_type:e.entityType,created_at:e.createdAt.toDateString(),updated_at:e.updatedAt.toDateString(),redirect_cover_image_url:e.coverImagePath?`/profile/${e.id}/cover_image`:"",associated_users:r,current_user_is_following:e.currentUserIsFollowing,current_user_is_followed:e.currentUserIsFollowed,badges:a,is_restricted_by_current_user:!1,img_urls:{},img_url:"",has_shared_orgs:!1,has_shared_teams:!1}}}}},367935:(e,t,r)=>{function a(e){return e.is_widget}function n(e){return void 0!==e.current_plugin_version_id&&!e.is_widget}function i(e){return void 0!==e.duplicate_count}r.d(t,{AS:()=>a,bT:()=>n,zj:()=>i})},754915:(e,t,r)=>{r.d(t,{i:()=>E});var a=r(411855),n=r(188507),i=r(776250),l=r(939863),o=r(662275),s=r(107877),c=r(697551),d=r(611978),m=r(860178),u=r(555328),_=r(368361),p=r(746806),f=r(63666);let g="community_universal_publish_button--publishContextAction--l-h6g action--root--aRLIQ chevron--chevronContainer--0MO2x";function E(){let e=(0,n.wA)(),t="CommunityUniversalPublishButtonTooltipKey",r=(0,m.Pc)(),E=(0,n.d4)(e=>!e.currentUserOrgId||!!(0,c.Tm)(e)[e.currentUserOrgId]),[h,y]=a.useState(!1),v=a.useRef(),b=(0,d._6)();return E?a.createElement("div",{className:g},a.createElement("div",{className:"subView"in b&&("hubFile"===b.subView||"plugin"===b.subView||"widget"===b.subView)?"community_universal_publish_button--publishButton__DARK--TM73r community_universal_publish_button--publishButton--YumhB":"community_universal_publish_button--publishButton--YumhB",role:"button",tabIndex:0,onClick:()=>{(0,i.sx)("community_publish_modal",{user:r.id,step:s.WX.OPENED}),e(o.to({type:_.R,data:{source:u.Zm.NAVBAR}}))}},(0,l.tx)("navbar.navbar.publish_button_label"))):a.createElement("div",{className:g,"data-onboarding-key":t,onMouseEnter:()=>{v.current&&clearTimeout(v.current),y(!0)},onMouseLeave:()=>{v.current=setTimeout(()=>y(!1),300)}},a.createElement("div",{className:"community_universal_publish_button--publishButtonDisabled--b7SqN community_universal_publish_button--publishButton--YumhB",role:"button",tabIndex:0},(0,l.tx)("navbar.navbar.publish_button_label")),h&&a.createElement(f.NJ,{targetKey:t,width:264,className:"community_universal_publish_button--disabledPublishButtonTooltip--uZ-YL pointer_modal--pointerModal--wrpFz text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L",shouldCenterArrow:p.EL.FALLBACK,backgroundColor:"var(--color-bg-tooltip, #000)"},a.createElement("div",null,(0,l.tx)("navbar.navbar.disabled_publish_button_label"))))}},952540:(e,t,r)=>{r.d(t,{j:()=>m});var a=r(776250),n=r(517333),i=r(737947),l=r(27087),o=r(980820),s=r(677664),c=r(320741),d=r(583894);let m=(0,o.nF)(async(e,t,{loadingKey:r})=>{let o=t.user.stripe_account_status===d.P5.STARTED_ONBOARDING?"stripe_onboarding_continue":"stripe_onboarding_start";(0,a.sx)(o,{userId:t.user.id,entrypoint:t.selectedView.subView});try{let a=l.Ay.post("/api/community/seller/onboard",{accepted_seller_tos:!0,is_desktop:!!n.eD,first_name:t.firstName,last_name:t.lastName,address:t.address,vat_id:t.vatId});(0,c.N)(a,e,r);let o=await a;if(!o?.data?.meta){t.callback(!1);return}let d=o.data.meta;n.eD?e.dispatch((0,s.RK)({rawInput:d})):i.Ay.unsafeRedirect(d),setTimeout(()=>{t.callback(!0)},1e3)}catch(e){t.callback(!1)}})},941448:(e,t,r)=>{r.d(t,{Ay:()=>c,IE:()=>d});var a=r(411855),n=r(749949),i=r(837324),l=r(107877),o=r(555328),s=r(143678);function c(e){let t=(0,o.m3)(e);return(0,o.U)(e)?{name:s.e0.COMMUNITY_HUB_FILE,properties:m(e)}:(0,o.xQ)(e)?{name:s.e0.COMMUNITY_HUB_WIDGET,properties:{widgetId:e.id,isMonetized:t}}:{name:s.e0.COMMUNITY_HUB_PLUGIN,properties:{pluginId:e.id,isMonetized:t}}}function d(e){let t=(0,n.J)();return a.useMemo(()=>({...m(e),searchSessionId:t}),[e,t])}function m(e){return{hubFileId:e.id,viewerMode:e.viewer_mode,editorType:(0,i.JJ)(e.viewer_mode),isMonetized:(0,o.m3)(e),isMobileView:window.innerWidth<=l.YW}}},323667:(e,t,r)=>{r.d(t,{E:()=>n,d:()=>a});let a="community_comment_creation",n="community_comment_edit"},936682:(e,t,r)=>{r.d(t,{p:()=>n});var a=r(27087);let n=new class{async pinFile({resourceType:e,resourceId:t,fileKey:r,description:n,shouldUpdatePermissions:i}){await a.Ay.post(`/api/pinned_files/${e}/${t}`,{file_key:r,description:n,should_update_permissions:i})}async updatePin({pinnedFileId:e,description:t}){await a.Ay.put(`/api/pinned_files/${e}`,{description:t})}async deletePin({pinnedFileId:e}){await a.Ay.del(`/api/pinned_files/${e}`)}}},688734:(e,t,r)=>{r.d(t,{H:()=>c});var a=r(411855),n=r(946689),i=r(939863),l=r(237870),o=r(474742),s=r(157199);let c=(0,l.Ju)(function(e){return a.createElement(o.Rw,{confirmationTitle:e.confirmationTitle,confirmText:e.confirmButtonText,onConfirm:e.onBlock,destructive:!0},a.createElement("div",null,a.createElement("p",{className:s._q},(0,i.tx)("community.comments.this_will_remove_their_comments_from_all_your_community_files_and_plugins_it_also_prevents_them_from_leaving_comments_on_your_resources_or_mentioning_you_in_the_future")),a.createElement("p",{className:s._q},(0,i.tx)("community.comments.link_about_managing_restricted_commenters",{link:a.createElement(n.CY,{href:"https://help.figma.com/hc/articles/1500002628062",target:"_blank",trusted:!0},(0,i.tx)("community.comments.learn_more"))}))))},"CommentConfirmBlockModal")},354438:(e,t,r)=>{r.d(t,{H:()=>_});var a=r(411855),n=r(188507);r(966712);var i=r(946689),l=r(163023),o=r(939863),s=r(662275),c=r(505685),d=r(306665),m=r(514931);class u extends a.Component{constructor(){super(...arguments),this.getBannerText=()=>{let e={strongText:"",ctaPreText:""},t=(0,o.t)("community.banner.a_space_for_figma_users_to_share_things_they_create"),r=(0,o.t)("community.banner.community_is_a_space_for_figma_users_to_share_things_they_create");return e={strongText:(0,o.t)("community.banner.this_is_the_figma_community"),ctaPreText:t},this.props.profile?(this.props.user?.community_profile_handle?this.props.profile.id===this.props.user?.community_profile_id?e.strongText=(0,o.t)("community.banner.this_is_your_figma_community_profile"):(e.strongText="",e.ctaPreText=""):e.strongText=(0,o.t)("community.banner.this_is_a_figma_community_profile"),e.ctaPreText=r):this.props.selectedView&&"communityHub"===this.props.selectedView.view&&("hubFile"===this.props.selectedView.subView?(e.strongText=(0,o.t)("community.banner.this_is_a_figma_community_file"),e.ctaPreText=r):"plugin"===this.props.selectedView.subView?(e.strongText=(0,o.t)("community.banner.this_is_a_figma_community_plugin"),e.ctaPreText=r):"widget"===this.props.selectedView.subView&&(e.strongText=(0,o.t)("community.banner.this_is_a_figma_community_widget"),e.ctaPreText=r)),this.props.user?(this.props.user.community_profile_handle?this.props.selectedView&&"communityHub"===this.props.selectedView.view&&this.props.selectedView?.subView==="plugin"&&(e.showPluginDocsCta=!0):e.showProfileCta=!0,this.props.selectedView?.view==="communityHub"&&this.props.selectedView?.subView==="landing"||(e.ctaPreText="")):e.showAccountCta=!0,e},this.onProfileCreateClick=e=>{e.stopPropagation(),e.preventDefault(),this.props.user&&this.props.dispatch(s.to({type:c.S3,data:{userId:this.props.user.id}}))}}render(){let{strongText:e,ctaPreText:t,showPluginDocsCta:r,showProfileCta:n,showAccountCta:s}=this.getBannerText();return e||t||r||n||s?a.createElement("div",{className:this.props.className||""},a.createElement("div",{className:d.cI},a.createElement("div",{className:d.zc},a.createElement(l.B,{svg:m.A,className:d.q3})),a.createElement("span",null,a.createElement("span",{className:d.bv},e," "),a.createElement("span",null,t," "),n&&a.createElement(a.Fragment,null,(0,o.tx)("community.banner.to_follow_creators_and_like_resources",{link:a.createElement(i.N_,{onClick:this.onProfileCreateClick,className:d.nf,trusted:!0},(0,o.t)("community.banner.create_your_own_profile"),"\xa0\u2192"," ")})),s&&a.createElement(i.N_,{href:"https://www.figma.com/signup",target:"_blank",className:d.nf,trusted:!0},(0,o.t)("community.banner.get_started_with_a_free_account"),"\xa0\u2192"," "),r&&a.createElement(a.Fragment,null,(0,o.tx)("community.banner.to_create_your_own_plugin",{link:a.createElement(i.N_,{href:"https://www.figma.com/plugin-docs",target:"_blank",className:d.nf,trusted:!0},(0,o.t)("community.banner.visit_the_docs"),"\xa0\u2192"," ")}))))):null}}u.displayName="CommunityBetaPromoBannerInner";let _=(0,n.Ng)((e,t)=>({selectedView:e.selectedView,user:e.user}))(u)},146555:(e,t,r)=>{r.d(t,{o:()=>c});var a=r(762194),n=r(99506),i=r(215822),l=r(239671),o=r(376485);let s=(0,a.r)();function c(e,t,r){let a=e.manifest.editorType;if(e.playground_fig_file?.editor_type){let t=e.playground_fig_file?.editor_type;return t===n._Y.DESIGN&&(0,o.Pe)(a)?l.nT.DevHandoff:(0,l.wN)(t)}let c=s?(0,l.wN)(s):null;return c&&a?.includes(i.GX(c))?c:(0,o.Pe)(a)?l.nT.DevHandoff:a?.includes(o.FW.FIGMA)?l.nT.Design:a?.includes(o.FW.SLIDES)?l.nT.Slides:a?.includes(o.FW.FIGMA)&&a?.includes(o.FW.FIGJAM)?(t?.figjam_disabled_at?l.nT.Design:r)??(0,l.wN)(s):a?.includes(o.FW.FIGJAM)?l.nT.Whiteboard:l.nT.Design}},966537:(e,t,r)=>{r.d(t,{F:()=>_});var a=r(411855),n=r(188507),i=r(776250),l=r(611886),o=r(351226),s=r(749949),c=r(662275),d=r(289104),m=r(237870),u=r(517127);let _=(0,m.Ju)(function({hubFileId:e,onUseHubFile:t}){let r=(0,d.HI)(e),m=(0,s.J)(),_=(0,n.wA)();return r?a.createElement(u.x,{onAgree:()=>{if(t)_(c.AS()),t();else{let e=l.gE(e=>{(0,i.sx)("try_it_out_drafts_picker_menu_opened",{hubFileId:r.id,searchSessionId:m}),_((0,c.to)({type:o._,data:{payload:e}}))});_(c.AS()),_(e({id:r.id,viewer_mode:r.viewerMode,monetized_resource_metadata:r.monetizedResourceMetadataId?{id:r.monetizedResourceMetadataId}:void 0}))}}}):null},"APPLE_EULA_MODAL_ON_USE_HUBFILE_TYPE",m.ZU.YES)},82388:(e,t,r)=>{r.d(t,{s:()=>w});var a=r(411855),n=r(188507),i=r(768137),l=r(799569),o=r(946689),s=r(493323),c=r(881388),d=r(939863),m=r(952540),u=r(6024),_=r(611978),p=r(860178),f=r(593803),g=r(267931),E=r(622139),h=r(237870),y=r(474742),v=r(978436),b=r(116240);let w=(0,h.Ju)(function(e){let t=(0,n.wA)(),r=(0,p.iZ)(),h=(0,_._6)(),w=(0,g.H)(),[T,I]=a.useState(""),[C,x]=a.useState(""),[N,k]=a.useState((0,E.EB)()),[S,L]=a.useState(""),[A,R]=a.useState(!0),[P,F]=a.useState(!1);return(0,u.G)(),a.createElement(y.aF,{className:"collect_tax_info_modal--container--F6VXQ"},a.createElement(l.s_,{dispatch:t}),a.createElement("div",{className:"collect_tax_info_modal--title--wFmJh text--fontPos20--Bcz97 text--_fontBase--QdLsd"},(0,d.tx)("community.seller.collect_tax_info_modal.title")),a.createElement("div",{className:"collect_tax_info_modal--body--M1wrr text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,d.tx)("community.seller.collect_tax_info_modal.body")),a.createElement("div",null,a.createElement(o.Lf,{value:T,htmlName:"firstName",label:(0,d.t)("community.seller.collect_tax_info_modal.first_name"),onChange:e=>{I(e.target.value)},trackingFieldName:"First name",dataTestId:"first-name"}),a.createElement(o.Lf,{value:C,htmlName:"lastName",label:(0,d.t)("community.seller.collect_tax_info_modal.last_name"),onChange:e=>{x(e.target.value)},trackingFieldName:"Last name",dataTestId:"last-name"}),a.createElement(v.X,{updateAddress:k,address:N,countryCodesOverride:f.qE,dontSeeYourCountryLink:"https://help.figma.com/hc/articles/12067637274519-About-selling-Community-resources#What_countries_are_supported?"}),a.createElement(b.A,{onChange:L,country:N.country,setIsVatIdValid:R,vatId:S,isCommunityCheckout:!0})),a.createElement(i.$$,{className:"collect_tax_info_modal--button--ZOQrQ text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:()=>{if(!r)return;if(!T){t(c.s.error((0,d.t)("community.seller.collect_tax_info_modal.enter_a_first_name")));return}if(!C){t(c.s.error((0,d.t)("community.seller.collect_tax_info_modal.enter_a_last_name")));return}let{line1:a,city:n,country:i,region:l,postal_code:o}=N;if(!a||!n||!i||!o||"US"===i&&!l){t(c.s.error((0,d.t)("community.seller.collect_tax_info_modal.enter_a_valid_address")));return}if(S&&!A){t(c.s.error((0,d.t)("community.seller.collect_tax_info_modal.enter_a_valid_vat_id")));return}F(!0),t(m.j({user:r,callback:t=>{e.setupStripeCallback(t),F(!1),t&&w()},selectedView:h,firstName:T,lastName:C,address:N,vatId:S}))}},a.createElement("div",{className:"collect_tax_info_modal--buttonContent--Nsj1d"},P&&a.createElement("div",{className:"collect_tax_info_modal--loadingIcon--iCbii"},a.createElement(s.kt,{shouldMatchTextColor:!0})),(0,d.tx)("community.seller.collect_tax_info_modal.continue_to_stripe"))))},"CommunityCollectTaxInfoModal")},624618:(e,t,r)=>{r.d(t,{EV:()=>w,NY:()=>T,d:()=>C,dx:()=>b,vR:()=>y});var a=r(411855),n=r(188507),i=r(91408),l=r(946689);r(455057);var o=r(939863);r(230798);var s=r(709595),c=r(662275);r(782501);var d=r(269167),m=r(860178);r(99506);var u=r(596607),_=r(555328),p=r(178787);r(354438);var f=r(877655);r(580999);var g=r(350913),E=r(837746),h=r(815700);function y(e){return a.createElement("div",{className:h.Xk},a.createElement("p",null,e.label),a.createElement(l.nR,{onClick:e.onClickDecline,className:h.LL},(0,o.tx)("community.detail_view.decline")),a.createElement(l.$$,{onClick:e.onClickAccept,className:h.LL},(0,o.tx)("community.detail_view.accept")))}(0,i.hG)(E.dOH);class v extends a.PureComponent{constructor(){super(...arguments),this.getSubjectBodyForResource=()=>(0,_.U)(this.props.resource)?{resourceSubject:(0,o.t)("community.reporting.reporting_an_inappropriate_file"),resourceBody:(0,o.t)("community.reporting.i_want_to_report_this_file_for_violating_the_community_guidelines_resource_url",{resourceUrl:(0,g.cU)(this.props.resource.id)})}:(0,_.xQ)(this.props.resource)?{resourceSubject:(0,o.t)("community.reporting.reporting_an_inappropriate_widget"),resourceBody:(0,o.t)("community.reporting.i_want_to_report_this_widget_for_violating_the_community_guidelines_resource_url",{resourceUrl:(0,g.ox)(this.props.resource.id)})}:{resourceSubject:(0,o.t)("community.reporting.reporting_an_inappropriate_plugin"),resourceBody:(0,o.t)("community.reporting.i_want_to_report_this_plugin_for_violating_the_plugin_guidelines_resource_url",{resourceUrl:(0,g.ab)(this.props.resource.id)})}}render(){let{resourceSubject:e,resourceBody:t}=this.getSubjectBodyForResource(),r=t;return r=`${r}${this.props.user?`
${(0,o.t)("community.reporting.my_figma_user_id_is_user_id",{userId:this.props.user.id})}`:""}
${(0,o.t)("community.reporting.add_your_description_here")}`,a.createElement(l.N_,{href:`mailto:content-reviews@figma.com?subject=${encodeURIComponent(e)}&body=${encodeURIComponent(r)}`,className:h.iZ,trusted:!0},(0,o.tx)("community.detail_view.report_resource"))}}function b(){let e=(0,m.iZ)();return e?a.createElement(l.Ph,{className:h._1,trackingEventName:"Detail View - Report Resource",onClick:()=>{(0,s.jt)(e)},trusted:!0},(0,o.tx)("community.detail_view.report_resource")):null}function w(e){let{user:t,name:r,monetizedResource:i}=e,s=(0,n.wA)();return a.createElement(l.Ph,{className:h._1,trackingEventName:"Detail View - Request Refund",onClick:()=>{s((0,c.to)({type:f.bX,data:{user:t,name:r,monetizedResource:i}}))},trusted:!0},(0,o.tx)("community.buyer.request_refund"))}function T(e){let t=(0,d.R$)(e.resource),r="Detail View - View Order Details",n=(0,o.t)("community.buyer.view_order_details");return(0,p.Uv)(e.resource.monetized_resource_metadata)&&(r="Detail View - Manage Subscription",n=(0,o.t)("community.buyer.manage_subscription")),a.createElement(l.Ph,{className:h._1,onClick:()=>t(),trackingEventName:r,trusted:!0},n)}(0,n.Ng)(e=>({hasOrgs:(0,u.Yj)(e),teams:Object.keys(e.teams).map(t=>e.teams[t]),user:e.user}))(v);var I=(e=>(e[e.PROMO=0]="PROMO",e[e.PAID=1]="PAID",e))(I||{});function C(e){return a.createElement(l.N_,{className:e.className,onClick:e.onClick,trusted:!0},(0,o.tx)("community.detail_view.remove_myself_as_creator"))}},5313:(e,t,r)=>{r.d(t,{q:()=>_});var a=r(411855),n=r(188507),i=r(737947),l=r(457215),o=r(758888),s=r(939863),c=r(553015),d=r(662275),m=r(672517),u=r(212957);let _=(0,r(237870).Ju)(function({teamId:e,trackingProperties:t,hasSecondaryBtn:r=!0}){let _=(0,a.useMemo)(()=>(0,l.To)(),[]),p=(0,n.wA)(),f=()=>{p(d.Ce())},g=r?a.createElement(c.V,{onClick:()=>{i.Ay.redirect("/pricing","_blank")}},(0,s.t)("pro_onboarding.pro_feature_modal.compare_plans")):null;return a.createElement(m.fu,{name:"Pro Features Modal",properties:t??u.S.getTrackingProperties(e)},a.createElement(o.n,{..._,dismissModal:f,clickPrimaryBtn:f,secondaryBtn:g,showPricing:!1,panelTitleSize:o.I.LARGE,cardsClickable:!0}))},"ProFeaturesModal")},66154:(e,t,r)=>{r.d(t,{$v:()=>I,BI:()=>x,Ec:()=>L,Lz:()=>A,Mi:()=>N,Nm:()=>k,_G:()=>S,jA:()=>w,lj:()=>C,rQ:()=>R,yG:()=>T});var a=r(411855),n=r(188507),i=r(922827),l=r(281381),o=r(163023),s=r(154254),c=r(939863),d=r(293017),m=r(99506),u=r(243987),_=r(397065),p=r(279145),f=r(746806),g=r(697338),E=r(601538);if(443==r.j)var h=r(704728);if(443==r.j)var y=r(400232);if(443==r.j)var v=r(951864);function b(){return a.createElement(l.Ex,{color:l.zE.DEFAULT,text:(0,c.t)("pro_onboarding.professional"),className:s.cx.colorTextBrand.colorBgSelectedSecondary.font11.$})}function w({dismissModal:e}){let t="team-view-new-project-cta";return a.createElement(g.Pp,{dismissModal:e,pointerTargetKey:t,calloutTargetKey:t,arrowPosition:f.F_.TOP,title:(0,c.t)("pro_onboarding.hello_organized_files"),subtitle:(0,c.t)("pro_onboarding.now_that_you_re_on_a_professional_team_move_your_files_into_project"),width:320,shouldCenterArrow:f.EL.FALLBACK,badge:a.createElement(b,null)})}function T({dismissModal:e,canCreateFigjamBoard:t}){let r="folder-page-view-new-file-cta";return a.createElement(g.Pp,{dismissModal:e,pointerTargetKey:r,calloutTargetKey:r,arrowPosition:f.F_.TOP,title:t?(0,c.t)("pro_onboaridng.so_many_files_and_boards"):(0,c.t)("pro_onboaridng.so_many_files"),subtitle:t?(0,c.t)("pro_onboaridng.you_now_get_unlimited_design_files_pages_and_figjam_boards"):(0,c.t)("pro_onboaridng.you_now_get_unlimited_design_files"),width:320,shouldCenterArrow:f.EL.FALLBACK,badge:a.createElement(b,null)})}function I({dismissModal:e}){let t="share-prototype";return a.createElement(g.Pp,{dismissModal:e,pointerTargetKey:t,calloutTargetKey:t,arrowPosition:f.F_.TOP,title:(0,c.t)("pro_onboarding.prototpye_only_links"),subtitle:(0,c.t)("pro_onboarding.on_your_professional_plan_you_can_share_prototypes"),width:300,badge:a.createElement(b,null)})}function C({dismissModal:e}){let t="meeting-panel-button";return a.createElement(g.Pp,{dismissModal:e,pointerTargetKey:t,calloutTargetKey:t,arrowPosition:f.F_.TOP,title:(0,c.t)("pro_onboarding.start_a_voting_session"),subtitle:(0,c.t)("pro_onboarding.if_you_want_to_reach_a_decision_keep_things_simple_with_a_figjam_vote"),width:320,badge:a.createElement(b,null)})}function x({dismissModal:e}){return a.createElement(g.Pp,{dismissModal:e,pointerTargetKey:"pages-panel-toggle",calloutTargetKey:"pages-panel-toggle",arrowPosition:f.F_.LEFT_TITLE,title:(0,c.t)("rcs.pro_trials_onboarding.unlimited_pages_title"),subtitle:(0,c.tx)("rcs.pro_trials_onboarding.unlimited_pages_subtitle",{maxFreePages:u.LF[m._Y.DESIGN]}),width:320,badge:a.createElement(b,null)})}function N({dismissModal:e}){let t=(0,n.d4)(e=>e.multiplayer.allUsers.length>1),r=t?"audio-nux-key":E.v4,i=t?(0,c.t)("pro_onboarding.if_other_people_are_in_your_file_select_the_headphones"):(0,c.t)("rcs.pro_trials_onboarding.audio_subtitle_without_multiple_users");return a.createElement(g.Pp,{dismissModal:e,pointerTargetKey:r,calloutTargetKey:r,arrowPosition:f.F_.TOP,title:(0,c.t)("rcs.pro_trials_onboarding.audio_title"),subtitle:i,width:320,badge:a.createElement(b,null)})}function k({dismissModal:e}){return a.createElement(g.Pp,{dismissModal:e,pointerTargetKey:"file-workshop-row",calloutTargetKey:"file-workshop-button",arrowPosition:f.F_.RIGHT_TITLE,title:(0,c.t)("rcs.pro_trials_onboarding.open_sessions_title"),subtitle:(0,c.t)("rcs.pro_trials_onboarding.open_sessions_subtitle"),width:300,badge:a.createElement(b,null)})}function S({dismissModal:e}){let t=[(0,c.t)("rcs.pro_trials_onboarding.password_protection_first_instruction",{linkAccessOptionText:(0,c.t)("file_access_row.anyone_with_the_link_and_password")}),(0,c.t)("rcs.pro_trials_onboarding.password_protection_second_instruction")];return a.createElement(g.Pp,{dismissModal:e,pointerTargetKey:"file-access-row",calloutTargetKey:"'file-share-audience-select-key'",arrowPosition:f.F_.RIGHT_TITLE,title:(0,c.t)("rcs.pro_trials_onboarding.password_protection_title"),width:320,instructions:t,disableClickOutsideToHide:!0,badge:a.createElement(b,null)})}function L({dismissModal:e}){let t=(0,n.wA)(),r=(0,n.d4)(e=>Object.keys(e.library.local.components).length>0),l=(0,n.d4)(e=>e.mirror.appModel.keyboardShortcuts),s=(0,p.c1)(l,"create-symbol");a.useEffect(()=>{t(d.FP({tab:i.xae.ASSETS}))},[]);let m=a.createElement(o.B,{svg:v.A,title:(0,c.t)("rcs.pro_trials_onboarding.component_publishing_team_library_icon"),role:"img",ariaLabel:(0,c.t)("rcs.pro_trials_onboarding.component_publishing_team_library_icon"),autosize:!0}),u=a.createElement(o.B,{svg:y.A,title:(0,c.t)("rcs.pro_trials_onboarding.component_publishing_create_component_icon"),role:"img",ariaLabel:(0,c.t)("rcs.pro_trials_onboarding.component_publishing_create_component_icon"),autosize:!0}),E=[a.createElement(a.Fragment,null,(0,c.tx)("rcs.pro_trials_onboarding.component_publishing_second_instruction_with_components",{teamLibraryIcon:m})),(0,c.t)("rcs.pro_trials_onboarding.component_publishing_third_instruction_with_components",{publishButtonText:(0,c.t)("design_systems.libraries_modal.publish")})],h=[(0,c.t)("rcs.pro_trials_onboarding.component_publishing_first_instruction_without_components"),a.createElement(a.Fragment,null,(0,c.tx)("rcs.pro_trials_onboarding.component_publishing_second_instruction_without_components",{createComponentIcon:u,createComponentShortcut:s}))],w=r?(0,c.t)("rcs.pro_trials_onboarding.component_publishing_title_with_components"):(0,c.t)("rcs.pro_trials_onboarding.component_publishing_title_without_components"),T=r?void 0:(0,c.t)("rcs.pro_trials_onboarding.component_publishing_subtitle_without_components");return a.createElement(g.Pp,{dismissModal:e,pointerTargetKey:_.D,calloutTargetKey:_.D,arrowPosition:f.F_.LEFT_TITLE,title:w,subtitle:T,width:320,instructions:r?E:h,badge:a.createElement(b,null)})}function A({dismissModal:e}){let t=a.createElement(o.B,{svg:h.A,title:(0,c.t)("rcs.pro_trials_onboarding.video_icon"),role:"img",ariaLabel:(0,c.t)("rcs.pro_trials_onboarding.video_icon"),autosize:!0}),r=(0,c.tx)("rcs.pro_trials_onboarding.video_subtitle",{imageOrVideoIcon:t});return a.createElement(g.Pp,{dismissModal:e,pointerTargetKey:"tool-place-image",calloutTargetKey:"tool-place-image",arrowPosition:f.F_.LEFT_TITLE,title:(0,c.t)("rcs.pro_trials_onboarding.video_title"),subtitle:r,width:320,badge:a.createElement(b,null)})}function R({dismissModal:e}){let t="local-variables-panel-title";return a.createElement(g.Pp,{dismissModal:e,pointerTargetKey:t,calloutTargetKey:t,arrowPosition:f.F_.LEFT_TITLE,title:(0,c.t)("pro_onboarding.variables_save_you_time"),subtitle:(0,c.tx)("pro_onboarding.use_variables_in_components_and_prototypes"),width:320,badge:a.createElement(b,null)})}},981952:(e,t,r)=>{r.d(t,{P:()=>n,R:()=>i});var a=r(411855);function n(e){(0,a.useEffect)(()=>{let t=()=>{e({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[e])}function i(e){let[t,r]=(0,a.useState)(window.innerWidth<=e);return n(a=>{a.width<=e&&!t?r(!0):a.width>e&&t&&r(!1)}),t}},158875:(e,t,r)=>{r.d(t,{X:()=>n});var a=r(411855);let n=(0,r(672517).tf)(function(e){return a.createElement("div",{onClick:e.onClick},e.children)})},797129:(e,t,r)=>{r.d(t,{O:()=>n});var a=r(411855);function n(e){return a.createElement(a.Fragment,null,a.createElement("div",{className:"full_width_page--closeMenu--M8Pvm"},e.menu),a.createElement("div",{ref:e.pageRef,className:"full_width_page--fullWidthPage--aQfdt overflow--overflowYAuto--nfK38 overflow--momentumScroll--qtsu7",...e}))}},250881:(e,t,r)=>{r.d(t,{R:()=>y});var a=r(411855),n=r(629019),i=r.n(n),l=r(776250),o=r(827617),s=r(966712),c=r(563706),d=r(946689),m=r(939863),u=r(101505),_=r(672517);let p="mobile_download_prompt--mobilePromptTitle--7Tgsn text--fontPos13--xW8hS text--_fontBase--QdLsd",f="mobile_download_prompt--mobilePromptOption--TbF2D",g="mobile_download_prompt--mobilePromptOptionTitle--mMUYW text--fontPos13--xW8hS text--_fontBase--QdLsd",E="mobile_download_prompt--mobilePromptOptionImage--Cp9zK",h="mobile_download_prompt_dismissed";function y(e){let{isCompact:t}=e,r=c.aR?"https://apps.apple.com/us/app/figma-mirror/id1152747299#":"https://play.google.com/store/apps/details?id=com.figma.mirror",n=(0,o.UG)(),p=!t&&!!e.renderBlockingPrompt,[y,w]=a.useState(!p),[T,I]=a.useState(!p);a.useEffect(()=>{null===n.get(h)&&(w(!1),I(!1))},[n,p]);let C=()=>{p||(w(!0),(0,l.sx)("mobile_web_mobile_app_download_prompt_dismissed",{userId:e.userIdForTracking}),setTimeout(()=>{I(!0)},300),n.set(h,!0))};return null!==n.get(h)?null:a.createElement(_.fu,{name:"Mobile Download Prompt"},a.createElement("div",{className:i()({"mobile_download_prompt--overlay--OzW6J":!0,"mobile_download_prompt--overlayClosed--2FWpY":y,"mobile_download_prompt--overlayAnimateEnd--dBvI0":T}),style:{transitionDuration:"300ms"},onClick:C},a.createElement("div",{className:i()("mobile_download_prompt--mobilePromptContainer--FKz5e","mobile_download_prompt--mobileDownloadPromptContainer--FaI33",{"mobile_download_prompt--mobileDownloadPromptContainerClosed--DHusv":y,"mobile_download_prompt--mobileDownloadPromptContainerFullHeightBlocking--B100f":p}),onClick:e=>{e.stopPropagation()}},a.createElement("div",{className:i()("mobile_download_prompt--mobilePromptDescriptionContainer--1PhoH",{"mobile_download_prompt--fullHeightPrompt--U6KWw":p})},t?a.createElement(b,null):a.createElement(v,{renderBlockingPrompt:p??!1})),a.createElement("hr",{className:i()({"mobile_download_prompt--mobilePromptHR--UpOqS":!0,"mobile_download_prompt--fullWidthHR--B-2i1":p})}),a.createElement("div",{className:f},a.createElement("img",{className:E,src:(0,s.ck)("249f0f055b922ecef6bffc592a8420e7e6eddcea"),alt:(0,m.t)("file_browser.mobile_prompt.app_image_alt")}),a.createElement("div",null,a.createElement("h3",{className:g},(0,m.tx)("file_browser.mobile_prompt.app_title")),a.createElement("p",{className:"mobile_download_prompt--mobilePromptOptionDescription--APlZp text--fontPos11--2LvXf text--_fontBase--QdLsd"},p?(0,m.tx)("file_browser.mobile_prompt.app_description_new"):(0,m.tx)("file_browser.mobile_prompt.app_description"))),a.createElement(d.pY,{trackingProperties:{userId:e.userIdForTracking,appLink:r,trackingDescriptor:u.c.MOBILE_WEB_MOBILE_APP_DOWNLOAD_PROMPT_CLICKED},href:r,className:"mobile_download_prompt--downloadActionButton--lOsEh"},(0,m.tx)("file_browser.mobile_prompt.app_action"))),!p&&a.createElement("div",{className:f},a.createElement("img",{className:E,src:(0,s.ck)("741698fed49afa5e8f3becdd906e66d32c8e7fae"),alt:(0,m.t)("file_browser.mobile_prompt.browser_image_alt")}),a.createElement("div",null,a.createElement("h3",{className:g},(0,m.tx)("file_browser.mobile_prompt.browser_title"))),a.createElement(d.p6,{onClick:()=>C(),className:"mobile_download_prompt--continueActionButton--7yKGD"},(0,m.tx)("file_browser.mobile_prompt.browser_action"))))))}function v(e){return a.createElement(a.Fragment,null,a.createElement("img",{className:"mobile_download_prompt--mobilePromptImage--U2Yqj",src:(0,s.ck)("5f1dc37f397dbddf711d3d950bee5dd46c07fc72"),alt:(0,m.t)("file_browser.mobile_prompt.image_alt")}),a.createElement("div",{className:"mobile_download_prompt--mobilePromptTitleContainer--o8VIK"},a.createElement("h2",{className:p},e.renderBlockingPrompt?(0,m.tx)("file_browser.mobile_prompt.modal_title_blocking"):(0,m.tx)("file_browser.mobile_prompt.modal_title")),a.createElement("p",{className:"mobile_download_prompt--mobilePromptSubTitle--GFR67 text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.renderBlockingPrompt?(0,m.tx)("file_browser.mobile_prompt.modal_body_blocking"):(0,m.tx)("file_browser.mobile_prompt.modal_body"))))}function b(){return a.createElement(a.Fragment,null,a.createElement("h2",{className:p},(0,m.tx)("file_browser.mobile_prompt.modal_title_compact")))}}}]);

//# debugId=a58129ea-068c-5fca-9463-4cf158178bf0

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/682a81ddea3aab893e473032daf4f997f6f8d75e/file_browser-8e5dfde7fa2ba9af.min.js.map